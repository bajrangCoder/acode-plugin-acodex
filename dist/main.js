/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (function() { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/html-tag-js/dist/tag.js":
/*!**********************************************!*\
  !*** ./node_modules/html-tag-js/dist/tag.js ***!
  \**********************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("/* module decorator */ module = __webpack_require__.nmd(module);\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n!function (e, t) {\n  \"object\" == ( false ? 0 : _typeof(exports)) && \"object\" == ( false ? 0 : _typeof(module)) ? module.exports = t() :  true ? !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (t),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)) : 0;\n}(this, function () {\n  return function () {\n    \"use strict\";\n\n    var e = {\n        d: function d(t, n) {\n          for (var r in n) e.o(n, r) && !e.o(t, r) && Object.defineProperty(t, r, {\n            enumerable: !0,\n            get: n[r]\n          });\n        },\n        o: function o(e, t) {\n          return Object.prototype.hasOwnProperty.call(e, t);\n        }\n      },\n      t = {};\n    function n(e, t) {\n      (null == t || t > e.length) && (t = e.length);\n      for (var n = 0, r = new Array(t); n < t; n++) r[n] = e[n];\n      return r;\n    }\n    function r(e) {\n      return function (e) {\n        if (Array.isArray(e)) return n(e);\n      }(e) || function (e) {\n        if (\"undefined\" != typeof Symbol && null != e[Symbol.iterator] || null != e[\"@@iterator\"]) return Array.from(e);\n      }(e) || function (e, t) {\n        if (e) {\n          if (\"string\" == typeof e) return n(e, t);\n          var r = Object.prototype.toString.call(e).slice(8, -1);\n          return \"Object\" === r && e.constructor && (r = e.constructor.name), \"Map\" === r || \"Set\" === r ? Array.from(e) : \"Arguments\" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r) ? n(e, t) : void 0;\n        }\n      }(e) || function () {\n        throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n      }();\n    }\n    function o(e) {\n      return o = \"function\" == typeof Symbol && \"symbol\" == _typeof(Symbol.iterator) ? function (e) {\n        return _typeof(e);\n      } : function (e) {\n        return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : _typeof(e);\n      }, o(e);\n    }\n    function c(e) {\n      var t,\n        n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\n        r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : [];\n      if (\"function\" == typeof e) return e(n, r);\n      if (e instanceof Node) t = e;else {\n        if (\"string\" != typeof e) throw new Error(\"Invalid tag, \", o(e));\n        t = document.createElement(e);\n      }\n      return Object.keys(n).forEach(function (e) {\n        var r = n[e];\n        if (void 0 !== r) switch (e) {\n          case \"child\":\n            i(t, r);\n            break;\n          case \"children\":\n            if (!Array.isArray(r)) throw new Error(\"children must be an array of Nodes\");\n            r.flat().forEach(function (e) {\n              i(t, e);\n            });\n            break;\n          case \"attr\":\n            Object.keys(r).forEach(function (e) {\n              t.setAttribute(e, r[e]);\n            });\n            break;\n          case \"style\":\n          case \"dataset\":\n            Object.keys(r).forEach(function (n) {\n              t[e][n] = r[n];\n            });\n            break;\n          case \"ref\":\n            r.instanceOfRef && (r.el = t);\n            break;\n          default:\n            t[e] = r;\n        }\n      }), t;\n    }\n    function i(e, t) {\n      t instanceof Node || (t = u.text(\"\".concat(t))), t instanceof Text && \"clone\" in t && (t = t.clone()), e.append(t);\n    }\n    function u(e) {\n      var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\n        n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : [];\n      return \"string\" == typeof t && (t = {\n        innerHTML: t\n      }), c(e, t, n);\n    }\n    return e.d(t, {\n      default: function _default() {\n        return u;\n      }\n    }), Object.defineProperties(u, {\n      get: {\n        value: function value(e) {\n          return document.querySelector(e);\n        }\n      },\n      getAll: {\n        value: function value(e) {\n          return r(document.querySelectorAll(e));\n        }\n      },\n      parse: {\n        value: function value(e) {\n          var t = document.createElement(\"div\");\n          return t.innerHTML = e, 1 === t.childElementCount ? t.firstElementChild : r(t.children);\n        }\n      },\n      text: {\n        value: function value(e) {\n          return document.createTextNode(e);\n        }\n      },\n      use: {\n        value: function value() {\n          var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : \"\",\n            t = e,\n            n = !1,\n            r = document.createTextNode(e),\n            o = [r];\n          return Object.defineProperty(r, \"value\", {\n            set: function set(e) {\n              t = e, o.forEach(function (t) {\n                t.textContent = e;\n              });\n            },\n            get: function get() {\n              return t;\n            }\n          }), Object.defineProperty(r, \"clone\", {\n            value: function value() {\n              if (!n) return n = !0, r;\n              var e = r.cloneNode();\n              return o.push(e), e;\n            }\n          }), r;\n        }\n      }\n    }), t.default;\n  }();\n});\n\n//# sourceURL=webpack://acode-plugin-acodex/./node_modules/html-tag-js/dist/tag.js?");

/***/ }),

/***/ "./node_modules/xterm-addon-fit/lib/xterm-addon-fit.js":
/*!*************************************************************!*\
  !*** ./node_modules/xterm-addon-fit/lib/xterm-addon-fit.js ***!
  \*************************************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("/* module decorator */ module = __webpack_require__.nmd(module);\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n!function (e, t) {\n  \"object\" == ( false ? 0 : _typeof(exports)) && \"object\" == ( false ? 0 : _typeof(module)) ? module.exports = t() :  true ? !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (t),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)) : 0;\n}(self, function () {\n  return function () {\n    \"use strict\";\n\n    var e = {};\n    return function () {\n      var t = e;\n      Object.defineProperty(t, \"__esModule\", {\n        value: !0\n      }), t.FitAddon = void 0, t.FitAddon = /*#__PURE__*/function () {\n        function _class() {\n          _classCallCheck(this, _class);\n        }\n        _createClass(_class, [{\n          key: \"activate\",\n          value: function activate(e) {\n            this._terminal = e;\n          }\n        }, {\n          key: \"dispose\",\n          value: function dispose() {}\n        }, {\n          key: \"fit\",\n          value: function fit() {\n            var e = this.proposeDimensions();\n            if (!e || !this._terminal || isNaN(e.cols) || isNaN(e.rows)) return;\n            var t = this._terminal._core;\n            this._terminal.rows === e.rows && this._terminal.cols === e.cols || (t._renderService.clear(), this._terminal.resize(e.cols, e.rows));\n          }\n        }, {\n          key: \"proposeDimensions\",\n          value: function proposeDimensions() {\n            if (!this._terminal) return;\n            if (!this._terminal.element || !this._terminal.element.parentElement) return;\n            var e = this._terminal._core,\n              t = e._renderService.dimensions;\n            if (0 === t.css.cell.width || 0 === t.css.cell.height) return;\n            var r = 0 === this._terminal.options.scrollback ? 0 : e.viewport.scrollBarWidth,\n              i = window.getComputedStyle(this._terminal.element.parentElement),\n              o = parseInt(i.getPropertyValue(\"height\")),\n              s = Math.max(0, parseInt(i.getPropertyValue(\"width\"))),\n              n = window.getComputedStyle(this._terminal.element),\n              l = o - (parseInt(n.getPropertyValue(\"padding-top\")) + parseInt(n.getPropertyValue(\"padding-bottom\"))),\n              a = s - (parseInt(n.getPropertyValue(\"padding-right\")) + parseInt(n.getPropertyValue(\"padding-left\"))) - r;\n            return {\n              cols: Math.max(2, Math.floor(a / t.css.cell.width)),\n              rows: Math.max(1, Math.floor(l / t.css.cell.height))\n            };\n          }\n        }]);\n        return _class;\n      }();\n    }(), e;\n  }();\n});\n\n//# sourceURL=webpack://acode-plugin-acodex/./node_modules/xterm-addon-fit/lib/xterm-addon-fit.js?");

/***/ }),

/***/ "./node_modules/xterm-addon-webgl/lib/xterm-addon-webgl.js":
/*!*****************************************************************!*\
  !*** ./node_modules/xterm-addon-webgl/lib/xterm-addon-webgl.js ***!
  \*****************************************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("/* module decorator */ module = __webpack_require__.nmd(module);\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _get() { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i.return && (_r = _i.return(), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e39) { throw _e39; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e40) { didErr = true; err = _e40; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n!function (e, t) {\n  \"object\" == ( false ? 0 : _typeof(exports)) && \"object\" == ( false ? 0 : _typeof(module)) ? module.exports = t() :  true ? !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (t),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)) : 0;\n}(self, function () {\n  return function () {\n    \"use strict\";\n\n    var e = {\n        965: function _(e, t, i) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.GlyphRenderer = void 0;\n          var s = i(381),\n            r = i(855),\n            o = i(859),\n            n = i(374),\n            a = i(509),\n            h = 11,\n            l = h * Float32Array.BYTES_PER_ELEMENT;\n          var c,\n            d = 0,\n            _ = 0,\n            u = 0;\n          var g = /*#__PURE__*/function (_o$Disposable) {\n            _inherits(g, _o$Disposable);\n            var _super = _createSuper(g);\n            function g(e, t, i) {\n              var _this;\n              _classCallCheck(this, g);\n              _this = _super.call(this), _this._terminal = e, _this._gl = t, _this._dimensions = i, _this._activeBuffer = 0, _this._vertices = {\n                count: 0,\n                attributes: new Float32Array(0),\n                attributesBuffers: [new Float32Array(0), new Float32Array(0)]\n              };\n              var r = _this._gl;\n              void 0 === a.TextureAtlas.maxAtlasPages && (a.TextureAtlas.maxAtlasPages = Math.min(32, (0, n.throwIfFalsy)(r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS))), a.TextureAtlas.maxTextureSize = (0, n.throwIfFalsy)(r.getParameter(r.MAX_TEXTURE_SIZE))), _this._program = (0, n.throwIfFalsy)((0, s.createProgram)(r, \"#version 300 es\\nlayout (location = 0) in vec2 a_unitquad;\\nlayout (location = 1) in vec2 a_cellpos;\\nlayout (location = 2) in vec2 a_offset;\\nlayout (location = 3) in vec2 a_size;\\nlayout (location = 4) in float a_texpage;\\nlayout (location = 5) in vec2 a_texcoord;\\nlayout (location = 6) in vec2 a_texsize;\\n\\nuniform mat4 u_projection;\\nuniform vec2 u_resolution;\\n\\nout vec2 v_texcoord;\\nflat out int v_texpage;\\n\\nvoid main() {\\n  vec2 zeroToOne = (a_offset / u_resolution) + a_cellpos + (a_unitquad * a_size);\\n  gl_Position = u_projection * vec4(zeroToOne, 0.0, 1.0);\\n  v_texpage = int(a_texpage);\\n  v_texcoord = a_texcoord + a_unitquad * a_texsize;\\n}\", function (e) {\n                var t = \"\";\n                for (var _i = 1; _i < e; _i++) t += \" else if (v_texpage == \".concat(_i, \") { outColor = texture(u_texture[\").concat(_i, \"], v_texcoord); }\");\n                return \"#version 300 es\\nprecision lowp float;\\n\\nin vec2 v_texcoord;\\nflat in int v_texpage;\\n\\nuniform sampler2D u_texture[\".concat(e, \"];\\n\\nout vec4 outColor;\\n\\nvoid main() {\\n  if (v_texpage == 0) {\\n    outColor = texture(u_texture[0], v_texcoord);\\n  } \").concat(t, \"\\n}\");\n              }(a.TextureAtlas.maxAtlasPages))), _this.register((0, o.toDisposable)(function () {\n                return r.deleteProgram(_this._program);\n              })), _this._projectionLocation = (0, n.throwIfFalsy)(r.getUniformLocation(_this._program, \"u_projection\")), _this._resolutionLocation = (0, n.throwIfFalsy)(r.getUniformLocation(_this._program, \"u_resolution\")), _this._textureLocation = (0, n.throwIfFalsy)(r.getUniformLocation(_this._program, \"u_texture\")), _this._vertexArrayObject = r.createVertexArray(), r.bindVertexArray(_this._vertexArrayObject);\n              var h = new Float32Array([0, 0, 1, 0, 0, 1, 1, 1]),\n                c = r.createBuffer();\n              _this.register((0, o.toDisposable)(function () {\n                return r.deleteBuffer(c);\n              })), r.bindBuffer(r.ARRAY_BUFFER, c), r.bufferData(r.ARRAY_BUFFER, h, r.STATIC_DRAW), r.enableVertexAttribArray(0), r.vertexAttribPointer(0, 2, _this._gl.FLOAT, !1, 0, 0);\n              var d = new Uint8Array([0, 1, 2, 3]),\n                _ = r.createBuffer();\n              _this.register((0, o.toDisposable)(function () {\n                return r.deleteBuffer(_);\n              })), r.bindBuffer(r.ELEMENT_ARRAY_BUFFER, _), r.bufferData(r.ELEMENT_ARRAY_BUFFER, d, r.STATIC_DRAW), _this._attributesBuffer = (0, n.throwIfFalsy)(r.createBuffer()), _this.register((0, o.toDisposable)(function () {\n                return r.deleteBuffer(_this._attributesBuffer);\n              })), r.bindBuffer(r.ARRAY_BUFFER, _this._attributesBuffer), r.enableVertexAttribArray(2), r.vertexAttribPointer(2, 2, r.FLOAT, !1, l, 0), r.vertexAttribDivisor(2, 1), r.enableVertexAttribArray(3), r.vertexAttribPointer(3, 2, r.FLOAT, !1, l, 2 * Float32Array.BYTES_PER_ELEMENT), r.vertexAttribDivisor(3, 1), r.enableVertexAttribArray(4), r.vertexAttribPointer(4, 1, r.FLOAT, !1, l, 4 * Float32Array.BYTES_PER_ELEMENT), r.vertexAttribDivisor(4, 1), r.enableVertexAttribArray(5), r.vertexAttribPointer(5, 2, r.FLOAT, !1, l, 5 * Float32Array.BYTES_PER_ELEMENT), r.vertexAttribDivisor(5, 1), r.enableVertexAttribArray(6), r.vertexAttribPointer(6, 2, r.FLOAT, !1, l, 7 * Float32Array.BYTES_PER_ELEMENT), r.vertexAttribDivisor(6, 1), r.enableVertexAttribArray(1), r.vertexAttribPointer(1, 2, r.FLOAT, !1, l, 9 * Float32Array.BYTES_PER_ELEMENT), r.vertexAttribDivisor(1, 1), r.useProgram(_this._program);\n              var u = new Int32Array(a.TextureAtlas.maxAtlasPages);\n              for (var _e = 0; _e < a.TextureAtlas.maxAtlasPages; _e++) u[_e] = _e;\n              r.uniform1iv(_this._textureLocation, u), r.uniformMatrix4fv(_this._projectionLocation, !1, s.PROJECTION_MATRIX), _this._atlasTextures = [];\n              var _loop = function _loop() {\n                var t = new s.GLTexture((0, n.throwIfFalsy)(r.createTexture()));\n                _this.register((0, o.toDisposable)(function () {\n                  return r.deleteTexture(t.texture);\n                })), r.activeTexture(r.TEXTURE0 + _e2), r.bindTexture(r.TEXTURE_2D, t.texture), r.texParameteri(r.TEXTURE_2D, r.TEXTURE_WRAP_S, r.CLAMP_TO_EDGE), r.texParameteri(r.TEXTURE_2D, r.TEXTURE_WRAP_T, r.CLAMP_TO_EDGE), r.texImage2D(r.TEXTURE_2D, 0, r.RGBA, 1, 1, 0, r.RGBA, r.UNSIGNED_BYTE, new Uint8Array([255, 0, 0, 255])), _this._atlasTextures[_e2] = t;\n              };\n              for (var _e2 = 0; _e2 < a.TextureAtlas.maxAtlasPages; _e2++) {\n                _loop();\n              }\n              r.enable(r.BLEND), r.blendFunc(r.SRC_ALPHA, r.ONE_MINUS_SRC_ALPHA), _this.handleResize();\n              return _this;\n            }\n            _createClass(g, [{\n              key: \"beginFrame\",\n              value: function beginFrame() {\n                return !this._atlas || this._atlas.beginFrame();\n              }\n            }, {\n              key: \"updateCell\",\n              value: function updateCell(e, t, i, s, r, o, n, a) {\n                this._updateCell(this._vertices.attributes, e, t, i, s, r, o, n, a);\n              }\n            }, {\n              key: \"_updateCell\",\n              value: function _updateCell(e, t, i, s, o, n, a, l, _g) {\n                d = (i * this._terminal.cols + t) * h, s !== r.NULL_CELL_CODE && void 0 !== s ? this._atlas && (c = l && l.length > 1 ? this._atlas.getRasterizedGlyphCombinedChar(l, o, n, a) : this._atlas.getRasterizedGlyph(s, o, n, a), _ = Math.floor((this._dimensions.device.cell.width - this._dimensions.device.char.width) / 2), o !== _g && c.offset.x > _ ? (u = c.offset.x - _, e[d] = -(c.offset.x - u) + this._dimensions.device.char.left, e[d + 1] = -c.offset.y + this._dimensions.device.char.top, e[d + 2] = (c.size.x - u) / this._dimensions.device.canvas.width, e[d + 3] = c.size.y / this._dimensions.device.canvas.height, e[d + 4] = c.texturePage, e[d + 5] = c.texturePositionClipSpace.x + u / this._atlas.pages[c.texturePage].canvas.width, e[d + 6] = c.texturePositionClipSpace.y, e[d + 7] = c.sizeClipSpace.x - u / this._atlas.pages[c.texturePage].canvas.width, e[d + 8] = c.sizeClipSpace.y) : (e[d] = -c.offset.x + this._dimensions.device.char.left, e[d + 1] = -c.offset.y + this._dimensions.device.char.top, e[d + 2] = c.size.x / this._dimensions.device.canvas.width, e[d + 3] = c.size.y / this._dimensions.device.canvas.height, e[d + 4] = c.texturePage, e[d + 5] = c.texturePositionClipSpace.x, e[d + 6] = c.texturePositionClipSpace.y, e[d + 7] = c.sizeClipSpace.x, e[d + 8] = c.sizeClipSpace.y)) : e.fill(0, d, d + h - 1 - 2);\n              }\n            }, {\n              key: \"clear\",\n              value: function clear() {\n                var e = this._terminal,\n                  t = e.cols * e.rows * h;\n                this._vertices.count !== t ? this._vertices.attributes = new Float32Array(t) : this._vertices.attributes.fill(0);\n                var i = 0;\n                for (; i < this._vertices.attributesBuffers.length; i++) this._vertices.count !== t ? this._vertices.attributesBuffers[i] = new Float32Array(t) : this._vertices.attributesBuffers[i].fill(0);\n                this._vertices.count = t, i = 0;\n                for (var _t = 0; _t < e.rows; _t++) for (var _s = 0; _s < e.cols; _s++) this._vertices.attributes[i + 9] = _s / e.cols, this._vertices.attributes[i + 10] = _t / e.rows, i += h;\n              }\n            }, {\n              key: \"handleResize\",\n              value: function handleResize() {\n                var e = this._gl;\n                e.viewport(0, 0, e.canvas.width, e.canvas.height), e.uniform2f(this._resolutionLocation, e.canvas.width, e.canvas.height), this.clear();\n              }\n            }, {\n              key: \"render\",\n              value: function render(e) {\n                if (!this._atlas) return;\n                var t = this._gl;\n                t.useProgram(this._program), t.bindVertexArray(this._vertexArrayObject), this._activeBuffer = (this._activeBuffer + 1) % 2;\n                var i = this._vertices.attributesBuffers[this._activeBuffer];\n                var s = 0;\n                for (var _t2 = 0; _t2 < e.lineLengths.length; _t2++) {\n                  var _r = _t2 * this._terminal.cols * h,\n                    _o = this._vertices.attributes.subarray(_r, _r + e.lineLengths[_t2] * h);\n                  i.set(_o, s), s += _o.length;\n                }\n                t.bindBuffer(t.ARRAY_BUFFER, this._attributesBuffer), t.bufferData(t.ARRAY_BUFFER, i.subarray(0, s), t.STREAM_DRAW);\n                for (var _e3 = 0; _e3 < this._atlas.pages.length; _e3++) this._atlas.pages[_e3].version !== this._atlasTextures[_e3].version && this._bindAtlasPageTexture(t, this._atlas, _e3);\n                t.drawElementsInstanced(t.TRIANGLE_STRIP, 4, t.UNSIGNED_BYTE, 0, s / h);\n              }\n            }, {\n              key: \"setAtlas\",\n              value: function setAtlas(e) {\n                this._atlas = e;\n                var _iterator = _createForOfIteratorHelper(this._atlasTextures),\n                  _step;\n                try {\n                  for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                    var _e4 = _step.value;\n                    _e4.version = -1;\n                  }\n                } catch (err) {\n                  _iterator.e(err);\n                } finally {\n                  _iterator.f();\n                }\n              }\n            }, {\n              key: \"_bindAtlasPageTexture\",\n              value: function _bindAtlasPageTexture(e, t, i) {\n                e.activeTexture(e.TEXTURE0 + i), e.bindTexture(e.TEXTURE_2D, this._atlasTextures[i].texture), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_S, e.CLAMP_TO_EDGE), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_T, e.CLAMP_TO_EDGE), e.texImage2D(e.TEXTURE_2D, 0, e.RGBA, e.RGBA, e.UNSIGNED_BYTE, t.pages[i].canvas), e.generateMipmap(e.TEXTURE_2D), this._atlasTextures[i].version = t.pages[i].version;\n              }\n            }, {\n              key: \"setDimensions\",\n              value: function setDimensions(e) {\n                this._dimensions = e;\n              }\n            }]);\n            return g;\n          }(o.Disposable);\n          t.GlyphRenderer = g;\n        },\n        742: function _(e, t, i) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.RectangleRenderer = void 0;\n          var s = i(381),\n            r = i(310),\n            o = i(859),\n            n = i(237),\n            a = i(374),\n            h = 8 * Float32Array.BYTES_PER_ELEMENT;\n          var l = 0,\n            c = !1,\n            d = 0,\n            _ = 0,\n            u = 0,\n            g = 0,\n            v = 0,\n            f = 0;\n          var C = /*#__PURE__*/function (_o$Disposable2) {\n            _inherits(C, _o$Disposable2);\n            var _super2 = _createSuper(C);\n            function C(e, t, i, r) {\n              var _this2;\n              _classCallCheck(this, C);\n              _this2 = _super2.call(this), _this2._terminal = e, _this2._gl = t, _this2._dimensions = i, _this2._themeService = r, _this2._vertices = {\n                count: 0,\n                attributes: new Float32Array(160)\n              };\n              var n = _this2._gl;\n              _this2._program = (0, a.throwIfFalsy)((0, s.createProgram)(n, \"#version 300 es\\nlayout (location = 0) in vec2 a_position;\\nlayout (location = 1) in vec2 a_size;\\nlayout (location = 2) in vec4 a_color;\\nlayout (location = 3) in vec2 a_unitquad;\\n\\nuniform mat4 u_projection;\\n\\nout vec4 v_color;\\n\\nvoid main() {\\n  vec2 zeroToOne = a_position + (a_unitquad * a_size);\\n  gl_Position = u_projection * vec4(zeroToOne, 0.0, 1.0);\\n  v_color = a_color;\\n}\", \"#version 300 es\\nprecision lowp float;\\n\\nin vec4 v_color;\\n\\nout vec4 outColor;\\n\\nvoid main() {\\n  outColor = v_color;\\n}\")), _this2.register((0, o.toDisposable)(function () {\n                return n.deleteProgram(_this2._program);\n              })), _this2._projectionLocation = (0, a.throwIfFalsy)(n.getUniformLocation(_this2._program, \"u_projection\")), _this2._vertexArrayObject = n.createVertexArray(), n.bindVertexArray(_this2._vertexArrayObject);\n              var l = new Float32Array([0, 0, 1, 0, 0, 1, 1, 1]),\n                c = n.createBuffer();\n              _this2.register((0, o.toDisposable)(function () {\n                return n.deleteBuffer(c);\n              })), n.bindBuffer(n.ARRAY_BUFFER, c), n.bufferData(n.ARRAY_BUFFER, l, n.STATIC_DRAW), n.enableVertexAttribArray(3), n.vertexAttribPointer(3, 2, _this2._gl.FLOAT, !1, 0, 0);\n              var d = new Uint8Array([0, 1, 2, 3]),\n                _ = n.createBuffer();\n              _this2.register((0, o.toDisposable)(function () {\n                return n.deleteBuffer(_);\n              })), n.bindBuffer(n.ELEMENT_ARRAY_BUFFER, _), n.bufferData(n.ELEMENT_ARRAY_BUFFER, d, n.STATIC_DRAW), _this2._attributesBuffer = (0, a.throwIfFalsy)(n.createBuffer()), _this2.register((0, o.toDisposable)(function () {\n                return n.deleteBuffer(_this2._attributesBuffer);\n              })), n.bindBuffer(n.ARRAY_BUFFER, _this2._attributesBuffer), n.enableVertexAttribArray(0), n.vertexAttribPointer(0, 2, n.FLOAT, !1, h, 0), n.vertexAttribDivisor(0, 1), n.enableVertexAttribArray(1), n.vertexAttribPointer(1, 2, n.FLOAT, !1, h, 2 * Float32Array.BYTES_PER_ELEMENT), n.vertexAttribDivisor(1, 1), n.enableVertexAttribArray(2), n.vertexAttribPointer(2, 4, n.FLOAT, !1, h, 4 * Float32Array.BYTES_PER_ELEMENT), n.vertexAttribDivisor(2, 1), _this2._updateCachedColors(r.colors), _this2.register(_this2._themeService.onChangeColors(function (e) {\n                _this2._updateCachedColors(e), _this2._updateViewportRectangle();\n              }));\n              return _this2;\n            }\n            _createClass(C, [{\n              key: \"render\",\n              value: function render() {\n                var e = this._gl;\n                e.useProgram(this._program), e.bindVertexArray(this._vertexArrayObject), e.uniformMatrix4fv(this._projectionLocation, !1, s.PROJECTION_MATRIX), e.bindBuffer(e.ARRAY_BUFFER, this._attributesBuffer), e.bufferData(e.ARRAY_BUFFER, this._vertices.attributes, e.DYNAMIC_DRAW), e.drawElementsInstanced(this._gl.TRIANGLE_STRIP, 4, e.UNSIGNED_BYTE, 0, this._vertices.count);\n              }\n            }, {\n              key: \"handleResize\",\n              value: function handleResize() {\n                this._updateViewportRectangle();\n              }\n            }, {\n              key: \"setDimensions\",\n              value: function setDimensions(e) {\n                this._dimensions = e;\n              }\n            }, {\n              key: \"_updateCachedColors\",\n              value: function _updateCachedColors(e) {\n                this._bgFloat = this._colorToFloat32Array(e.background);\n              }\n            }, {\n              key: \"_updateViewportRectangle\",\n              value: function _updateViewportRectangle() {\n                this._addRectangleFloat(this._vertices.attributes, 0, 0, 0, this._terminal.cols * this._dimensions.device.cell.width, this._terminal.rows * this._dimensions.device.cell.height, this._bgFloat);\n              }\n            }, {\n              key: \"updateBackgrounds\",\n              value: function updateBackgrounds(e) {\n                var t = this._terminal,\n                  i = this._vertices;\n                var s,\n                  o,\n                  n,\n                  a,\n                  h,\n                  l,\n                  c,\n                  d,\n                  _,\n                  u,\n                  g,\n                  v = 1;\n                for (s = 0; s < t.rows; s++) {\n                  for (n = -1, a = 0, h = 0, l = !1, o = 0; o < t.cols; o++) c = (s * t.cols + o) * r.RENDER_MODEL_INDICIES_PER_CELL, d = e.cells[c + r.RENDER_MODEL_BG_OFFSET], _ = e.cells[c + r.RENDER_MODEL_FG_OFFSET], u = !!(67108864 & _), (d !== a || _ !== h && (l || u)) && ((0 !== a || l && 0 !== h) && (g = 8 * v++, this._updateRectangle(i, g, h, a, n, o, s)), n = o, a = d, h = _, l = u);\n                  (0 !== a || l && 0 !== h) && (g = 8 * v++, this._updateRectangle(i, g, h, a, n, t.cols, s));\n                }\n                i.count = v;\n              }\n            }, {\n              key: \"_updateRectangle\",\n              value: function _updateRectangle(e, t, i, r, o, a, h) {\n                if (c = !1, 67108864 & i) switch (50331648 & i) {\n                  case 16777216:\n                  case 33554432:\n                    l = this._themeService.colors.ansi[255 & i].rgba;\n                    break;\n                  case 50331648:\n                    l = (16777215 & i) << 8;\n                    break;\n                  default:\n                    l = this._themeService.colors.foreground.rgba;\n                } else switch (50331648 & r) {\n                  case 16777216:\n                  case 33554432:\n                    l = this._themeService.colors.ansi[255 & r].rgba;\n                    break;\n                  case 50331648:\n                    l = (16777215 & r) << 8;\n                    break;\n                  default:\n                    l = this._themeService.colors.background.rgba, c = !0;\n                }\n                e.attributes.length < t + 4 && (e.attributes = (0, s.expandFloat32Array)(e.attributes, this._terminal.rows * this._terminal.cols * 8)), d = o * this._dimensions.device.cell.width, _ = h * this._dimensions.device.cell.height, u = (l >> 24 & 255) / 255, g = (l >> 16 & 255) / 255, v = (l >> 8 & 255) / 255, f = !c && 134217728 & r ? n.DIM_OPACITY : 1, this._addRectangle(e.attributes, t, d, _, (a - o) * this._dimensions.device.cell.width, this._dimensions.device.cell.height, u, g, v, f);\n              }\n            }, {\n              key: \"_addRectangle\",\n              value: function _addRectangle(e, t, i, s, r, o, n, a, h, l) {\n                e[t] = i / this._dimensions.device.canvas.width, e[t + 1] = s / this._dimensions.device.canvas.height, e[t + 2] = r / this._dimensions.device.canvas.width, e[t + 3] = o / this._dimensions.device.canvas.height, e[t + 4] = n, e[t + 5] = a, e[t + 6] = h, e[t + 7] = l;\n              }\n            }, {\n              key: \"_addRectangleFloat\",\n              value: function _addRectangleFloat(e, t, i, s, r, o, n) {\n                e[t] = i / this._dimensions.device.canvas.width, e[t + 1] = s / this._dimensions.device.canvas.height, e[t + 2] = r / this._dimensions.device.canvas.width, e[t + 3] = o / this._dimensions.device.canvas.height, e[t + 4] = n[0], e[t + 5] = n[1], e[t + 6] = n[2], e[t + 7] = n[3];\n              }\n            }, {\n              key: \"_colorToFloat32Array\",\n              value: function _colorToFloat32Array(e) {\n                return new Float32Array([(e.rgba >> 24 & 255) / 255, (e.rgba >> 16 & 255) / 255, (e.rgba >> 8 & 255) / 255, (255 & e.rgba) / 255]);\n              }\n            }]);\n            return C;\n          }(o.Disposable);\n          t.RectangleRenderer = C;\n        },\n        310: function _(e, t, i) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.RenderModel = t.COMBINED_CHAR_BIT_MASK = t.RENDER_MODEL_EXT_OFFSET = t.RENDER_MODEL_FG_OFFSET = t.RENDER_MODEL_BG_OFFSET = t.RENDER_MODEL_INDICIES_PER_CELL = void 0;\n          var s = i(296);\n          t.RENDER_MODEL_INDICIES_PER_CELL = 4, t.RENDER_MODEL_BG_OFFSET = 1, t.RENDER_MODEL_FG_OFFSET = 2, t.RENDER_MODEL_EXT_OFFSET = 3, t.COMBINED_CHAR_BIT_MASK = 2147483648, t.RenderModel = /*#__PURE__*/function () {\n            function _class() {\n              _classCallCheck(this, _class);\n              this.cells = new Uint32Array(0), this.lineLengths = new Uint32Array(0), this.selection = (0, s.createSelectionRenderModel)();\n            }\n            _createClass(_class, [{\n              key: \"resize\",\n              value: function resize(e, i) {\n                var s = e * i * t.RENDER_MODEL_INDICIES_PER_CELL;\n                s !== this.cells.length && (this.cells = new Uint32Array(s), this.lineLengths = new Uint32Array(i));\n              }\n            }, {\n              key: \"clear\",\n              value: function clear() {\n                this.cells.fill(0, 0), this.lineLengths.fill(0, 0);\n              }\n            }]);\n            return _class;\n          }();\n        },\n        666: function _(e, t, i) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.JoinedCellData = t.WebglRenderer = void 0;\n          var s = i(820),\n            r = i(274),\n            o = i(627),\n            n = i(56),\n            a = i(374),\n            h = i(147),\n            l = i(782),\n            c = i(855),\n            d = i(345),\n            _ = i(859),\n            u = i(965),\n            g = i(742),\n            v = i(461),\n            f = i(733),\n            C = i(310);\n          var p = /*#__PURE__*/function (_$Disposable) {\n            _inherits(p, _$Disposable);\n            var _super3 = _createSuper(p);\n            function p(e, t, i, h, c, u, g, _p, m) {\n              var _this3$_initializeWeb, _this3$_initializeWeb2;\n              var _this3;\n              _classCallCheck(this, p);\n              _this3 = _super3.call(this), _this3._terminal = e, _this3._characterJoinerService = t, _this3._charSizeService = i, _this3._coreBrowserService = h, _this3._decorationService = u, _this3._optionsService = g, _this3._themeService = _p, _this3._model = new C.RenderModel(), _this3._workCell = new l.CellData(), _this3._onChangeTextureAtlas = _this3.register(new d.EventEmitter()), _this3.onChangeTextureAtlas = _this3._onChangeTextureAtlas.event, _this3._onAddTextureAtlasCanvas = _this3.register(new d.EventEmitter()), _this3.onAddTextureAtlasCanvas = _this3._onAddTextureAtlasCanvas.event, _this3._onRemoveTextureAtlasCanvas = _this3.register(new d.EventEmitter()), _this3.onRemoveTextureAtlasCanvas = _this3._onRemoveTextureAtlasCanvas.event, _this3._onRequestRedraw = _this3.register(new d.EventEmitter()), _this3.onRequestRedraw = _this3._onRequestRedraw.event, _this3._onContextLoss = _this3.register(new d.EventEmitter()), _this3.onContextLoss = _this3._onContextLoss.event, _this3.register(_this3._themeService.onChangeColors(function () {\n                return _this3._handleColorChange();\n              })), _this3._cellColorResolver = new r.CellColorResolver(_this3._terminal, _this3._model.selection, _this3._decorationService, _this3._coreBrowserService, _this3._themeService), _this3._core = _this3._terminal._core, _this3._renderLayers = [new f.LinkRenderLayer(_this3._core.screenElement, 2, _this3._terminal, _this3._core.linkifier2, _this3._coreBrowserService, g, _this3._themeService), new v.CursorRenderLayer(e, _this3._core.screenElement, 3, _this3._onRequestRedraw, _this3._coreBrowserService, c, g, _this3._themeService)], _this3.dimensions = (0, a.createRenderDimensions)(), _this3._devicePixelRatio = _this3._coreBrowserService.dpr, _this3._updateDimensions(), _this3.register(g.onOptionChange(function () {\n                return _this3._handleOptionsChanged();\n              })), _this3._canvas = document.createElement(\"canvas\");\n              var x = {\n                antialias: !1,\n                depth: !1,\n                preserveDrawingBuffer: m\n              };\n              if (_this3._gl = _this3._canvas.getContext(\"webgl2\", x), !_this3._gl) throw new Error(\"WebGL2 not supported \" + _this3._gl);\n              _this3.register((0, s.addDisposableDomListener)(_this3._canvas, \"webglcontextlost\", function (e) {\n                console.log(\"webglcontextlost event received\"), e.preventDefault(), _this3._contextRestorationTimeout = setTimeout(function () {\n                  _this3._contextRestorationTimeout = void 0, console.warn(\"webgl context not restored; firing onContextLoss\"), _this3._onContextLoss.fire(e);\n                }, 3e3);\n              })), _this3.register((0, s.addDisposableDomListener)(_this3._canvas, \"webglcontextrestored\", function (e) {\n                console.warn(\"webglcontextrestored event received\"), clearTimeout(_this3._contextRestorationTimeout), _this3._contextRestorationTimeout = void 0, (0, o.removeTerminalFromCache)(_this3._terminal), _this3._initializeWebGLState(), _this3._requestRedrawViewport();\n              })), _this3.register((0, n.observeDevicePixelDimensions)(_this3._canvas, _this3._coreBrowserService.window, function (e, t) {\n                return _this3._setCanvasDevicePixelDimensions(e, t);\n              })), _this3._core.screenElement.appendChild(_this3._canvas), (_this3$_initializeWeb = _this3._initializeWebGLState(), _this3$_initializeWeb2 = _slicedToArray(_this3$_initializeWeb, 2), _this3._rectangleRenderer = _this3$_initializeWeb2[0], _this3._glyphRenderer = _this3$_initializeWeb2[1]), _this3._isAttached = _this3._coreBrowserService.window.document.body.contains(_this3._core.screenElement), _this3.register((0, _.toDisposable)(function () {\n                var e;\n                var _iterator2 = _createForOfIteratorHelper(_this3._renderLayers),\n                  _step2;\n                try {\n                  for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n                    var _e5 = _step2.value;\n                    _e5.dispose();\n                  }\n                } catch (err) {\n                  _iterator2.e(err);\n                } finally {\n                  _iterator2.f();\n                }\n                null === (e = _this3._canvas.parentElement) || void 0 === e || e.removeChild(_this3._canvas), (0, o.removeTerminalFromCache)(_this3._terminal);\n              }));\n              return _this3;\n            }\n            _createClass(p, [{\n              key: \"textureAtlas\",\n              get: function get() {\n                var e;\n                return null === (e = this._charAtlas) || void 0 === e ? void 0 : e.pages[0].canvas;\n              }\n            }, {\n              key: \"_handleColorChange\",\n              value: function _handleColorChange() {\n                this._refreshCharAtlas(), this._clearModel(!0);\n              }\n            }, {\n              key: \"handleDevicePixelRatioChange\",\n              value: function handleDevicePixelRatioChange() {\n                this._devicePixelRatio !== this._coreBrowserService.dpr && (this._devicePixelRatio = this._coreBrowserService.dpr, this.handleResize(this._terminal.cols, this._terminal.rows));\n              }\n            }, {\n              key: \"handleResize\",\n              value: function handleResize(e, t) {\n                this._updateDimensions(), this._model.resize(this._terminal.cols, this._terminal.rows);\n                var _iterator3 = _createForOfIteratorHelper(this._renderLayers),\n                  _step3;\n                try {\n                  for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n                    var _e6 = _step3.value;\n                    _e6.resize(this._terminal, this.dimensions);\n                  }\n                } catch (err) {\n                  _iterator3.e(err);\n                } finally {\n                  _iterator3.f();\n                }\n                this._canvas.width = this.dimensions.device.canvas.width, this._canvas.height = this.dimensions.device.canvas.height, this._canvas.style.width = \"\".concat(this.dimensions.css.canvas.width, \"px\"), this._canvas.style.height = \"\".concat(this.dimensions.css.canvas.height, \"px\"), this._core.screenElement.style.width = \"\".concat(this.dimensions.css.canvas.width, \"px\"), this._core.screenElement.style.height = \"\".concat(this.dimensions.css.canvas.height, \"px\"), this._rectangleRenderer.setDimensions(this.dimensions), this._rectangleRenderer.handleResize(), this._glyphRenderer.setDimensions(this.dimensions), this._glyphRenderer.handleResize(), this._refreshCharAtlas(), this._clearModel(!1);\n              }\n            }, {\n              key: \"handleCharSizeChanged\",\n              value: function handleCharSizeChanged() {\n                this.handleResize(this._terminal.cols, this._terminal.rows);\n              }\n            }, {\n              key: \"handleBlur\",\n              value: function handleBlur() {\n                var _iterator4 = _createForOfIteratorHelper(this._renderLayers),\n                  _step4;\n                try {\n                  for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n                    var _e7 = _step4.value;\n                    _e7.handleBlur(this._terminal);\n                  }\n                } catch (err) {\n                  _iterator4.e(err);\n                } finally {\n                  _iterator4.f();\n                }\n                this._requestRedrawViewport();\n              }\n            }, {\n              key: \"handleFocus\",\n              value: function handleFocus() {\n                var _iterator5 = _createForOfIteratorHelper(this._renderLayers),\n                  _step5;\n                try {\n                  for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n                    var _e8 = _step5.value;\n                    _e8.handleFocus(this._terminal);\n                  }\n                } catch (err) {\n                  _iterator5.e(err);\n                } finally {\n                  _iterator5.f();\n                }\n                this._requestRedrawViewport();\n              }\n            }, {\n              key: \"handleSelectionChanged\",\n              value: function handleSelectionChanged(e, t, i) {\n                var _iterator6 = _createForOfIteratorHelper(this._renderLayers),\n                  _step6;\n                try {\n                  for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n                    var _s2 = _step6.value;\n                    _s2.handleSelectionChanged(this._terminal, e, t, i);\n                  }\n                } catch (err) {\n                  _iterator6.e(err);\n                } finally {\n                  _iterator6.f();\n                }\n                this._model.selection.update(this._terminal, e, t, i), this._requestRedrawViewport();\n              }\n            }, {\n              key: \"handleCursorMove\",\n              value: function handleCursorMove() {\n                var _iterator7 = _createForOfIteratorHelper(this._renderLayers),\n                  _step7;\n                try {\n                  for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {\n                    var _e9 = _step7.value;\n                    _e9.handleCursorMove(this._terminal);\n                  }\n                } catch (err) {\n                  _iterator7.e(err);\n                } finally {\n                  _iterator7.f();\n                }\n              }\n            }, {\n              key: \"_handleOptionsChanged\",\n              value: function _handleOptionsChanged() {\n                this._updateDimensions(), this._refreshCharAtlas();\n              }\n            }, {\n              key: \"_initializeWebGLState\",\n              value: function _initializeWebGLState() {\n                var e, t;\n                return null === (e = this._rectangleRenderer) || void 0 === e || e.dispose(), null === (t = this._glyphRenderer) || void 0 === t || t.dispose(), this._rectangleRenderer = this.register(new g.RectangleRenderer(this._terminal, this._gl, this.dimensions, this._themeService)), this._glyphRenderer = this.register(new u.GlyphRenderer(this._terminal, this._gl, this.dimensions)), this.handleCharSizeChanged(), [this._rectangleRenderer, this._glyphRenderer];\n              }\n            }, {\n              key: \"_refreshCharAtlas\",\n              value: function _refreshCharAtlas() {\n                var e;\n                if (this.dimensions.device.char.width <= 0 && this.dimensions.device.char.height <= 0) return void (this._isAttached = !1);\n                var t = (0, o.acquireTextureAtlas)(this._terminal, this._optionsService.rawOptions, this._themeService.colors, this.dimensions.device.cell.width, this.dimensions.device.cell.height, this.dimensions.device.char.width, this.dimensions.device.char.height, this._coreBrowserService.dpr);\n                this._charAtlas !== t && (null === (e = this._charAtlasDisposable) || void 0 === e || e.dispose(), this._onChangeTextureAtlas.fire(t.pages[0].canvas), this._charAtlasDisposable = (0, _.getDisposeArrayDisposable)([(0, d.forwardEvent)(t.onAddTextureAtlasCanvas, this._onAddTextureAtlasCanvas), (0, d.forwardEvent)(t.onRemoveTextureAtlasCanvas, this._onRemoveTextureAtlasCanvas)])), this._charAtlas = t, this._charAtlas.warmUp(), this._glyphRenderer.setAtlas(this._charAtlas);\n              }\n            }, {\n              key: \"_clearModel\",\n              value: function _clearModel(e) {\n                this._model.clear(), e && this._glyphRenderer.clear();\n              }\n            }, {\n              key: \"clearTextureAtlas\",\n              value: function clearTextureAtlas() {\n                var e;\n                null === (e = this._charAtlas) || void 0 === e || e.clearTexture(), this._clearModel(!0), this._requestRedrawViewport();\n              }\n            }, {\n              key: \"clear\",\n              value: function clear() {\n                this._clearModel(!0);\n                var _iterator8 = _createForOfIteratorHelper(this._renderLayers),\n                  _step8;\n                try {\n                  for (_iterator8.s(); !(_step8 = _iterator8.n()).done;) {\n                    var _e10 = _step8.value;\n                    _e10.reset(this._terminal);\n                  }\n                } catch (err) {\n                  _iterator8.e(err);\n                } finally {\n                  _iterator8.f();\n                }\n              }\n            }, {\n              key: \"registerCharacterJoiner\",\n              value: function registerCharacterJoiner(e) {\n                return -1;\n              }\n            }, {\n              key: \"deregisterCharacterJoiner\",\n              value: function deregisterCharacterJoiner(e) {\n                return !1;\n              }\n            }, {\n              key: \"renderRows\",\n              value: function renderRows(e, t) {\n                if (!this._isAttached) {\n                  if (!(this._coreBrowserService.window.document.body.contains(this._core.screenElement) && this._charSizeService.width && this._charSizeService.height)) return;\n                  this._updateDimensions(), this._refreshCharAtlas(), this._isAttached = !0;\n                }\n                var _iterator9 = _createForOfIteratorHelper(this._renderLayers),\n                  _step9;\n                try {\n                  for (_iterator9.s(); !(_step9 = _iterator9.n()).done;) {\n                    var _i2 = _step9.value;\n                    _i2.handleGridChanged(this._terminal, e, t);\n                  }\n                } catch (err) {\n                  _iterator9.e(err);\n                } finally {\n                  _iterator9.f();\n                }\n                this._glyphRenderer.beginFrame() && this._clearModel(!0), this._updateModel(e, t), this._rectangleRenderer.render(), this._glyphRenderer.render(this._model);\n              }\n            }, {\n              key: \"_updateModel\",\n              value: function _updateModel(e, t) {\n                var i = this._core;\n                var s,\n                  r,\n                  o,\n                  n,\n                  a,\n                  h,\n                  l,\n                  d,\n                  _,\n                  u,\n                  g,\n                  v,\n                  f,\n                  _p2 = this._workCell;\n                for (r = e; r <= t && (o = r + i.buffer.ydisp, n = i.buffer.lines.get(o), n); r++) for (this._model.lineLengths[r] = 0, a = this._characterJoinerService.getJoinedCharacters(o), v = 0; v < i.cols; v++) if (s = this._cellColorResolver.result.bg, n.loadCell(v, _p2), 0 === v && (s = this._cellColorResolver.result.bg), h = !1, l = v, a.length > 0 && v === a[0][0] && (h = !0, d = a.shift(), _p2 = new m(_p2, n.translateToString(!0, d[0], d[1]), d[1] - d[0]), l = d[1] - 1), _ = _p2.getChars(), u = _p2.getCode(), g = (r * i.cols + v) * C.RENDER_MODEL_INDICIES_PER_CELL, this._cellColorResolver.resolve(_p2, v, o), u !== c.NULL_CELL_CODE && (this._model.lineLengths[r] = v + 1), (this._model.cells[g] !== u || this._model.cells[g + C.RENDER_MODEL_BG_OFFSET] !== this._cellColorResolver.result.bg || this._model.cells[g + C.RENDER_MODEL_FG_OFFSET] !== this._cellColorResolver.result.fg || this._model.cells[g + C.RENDER_MODEL_EXT_OFFSET] !== this._cellColorResolver.result.ext) && (_.length > 1 && (u |= C.COMBINED_CHAR_BIT_MASK), this._model.cells[g] = u, this._model.cells[g + C.RENDER_MODEL_BG_OFFSET] = this._cellColorResolver.result.bg, this._model.cells[g + C.RENDER_MODEL_FG_OFFSET] = this._cellColorResolver.result.fg, this._model.cells[g + C.RENDER_MODEL_EXT_OFFSET] = this._cellColorResolver.result.ext, this._glyphRenderer.updateCell(v, r, u, this._cellColorResolver.result.bg, this._cellColorResolver.result.fg, this._cellColorResolver.result.ext, _, s), h)) for (_p2 = this._workCell, v++; v < l; v++) f = (r * i.cols + v) * C.RENDER_MODEL_INDICIES_PER_CELL, this._glyphRenderer.updateCell(v, r, c.NULL_CELL_CODE, 0, 0, 0, c.NULL_CELL_CHAR, 0), this._model.cells[f] = c.NULL_CELL_CODE, this._model.cells[f + C.RENDER_MODEL_BG_OFFSET] = this._cellColorResolver.result.bg, this._model.cells[f + C.RENDER_MODEL_FG_OFFSET] = this._cellColorResolver.result.fg, this._model.cells[f + C.RENDER_MODEL_EXT_OFFSET] = this._cellColorResolver.result.ext;\n                this._rectangleRenderer.updateBackgrounds(this._model);\n              }\n            }, {\n              key: \"_updateDimensions\",\n              value: function _updateDimensions() {\n                this._charSizeService.width && this._charSizeService.height && (this.dimensions.device.char.width = Math.floor(this._charSizeService.width * this._devicePixelRatio), this.dimensions.device.char.height = Math.ceil(this._charSizeService.height * this._devicePixelRatio), this.dimensions.device.cell.height = Math.floor(this.dimensions.device.char.height * this._optionsService.rawOptions.lineHeight), this.dimensions.device.char.top = 1 === this._optionsService.rawOptions.lineHeight ? 0 : Math.round((this.dimensions.device.cell.height - this.dimensions.device.char.height) / 2), this.dimensions.device.cell.width = this.dimensions.device.char.width + Math.round(this._optionsService.rawOptions.letterSpacing), this.dimensions.device.char.left = Math.floor(this._optionsService.rawOptions.letterSpacing / 2), this.dimensions.device.canvas.height = this._terminal.rows * this.dimensions.device.cell.height, this.dimensions.device.canvas.width = this._terminal.cols * this.dimensions.device.cell.width, this.dimensions.css.canvas.height = Math.round(this.dimensions.device.canvas.height / this._devicePixelRatio), this.dimensions.css.canvas.width = Math.round(this.dimensions.device.canvas.width / this._devicePixelRatio), this.dimensions.css.cell.height = this.dimensions.device.cell.height / this._devicePixelRatio, this.dimensions.css.cell.width = this.dimensions.device.cell.width / this._devicePixelRatio);\n              }\n            }, {\n              key: \"_setCanvasDevicePixelDimensions\",\n              value: function _setCanvasDevicePixelDimensions(e, t) {\n                this._canvas.width === e && this._canvas.height === t || (this._canvas.width = e, this._canvas.height = t, this._requestRedrawViewport());\n              }\n            }, {\n              key: \"_requestRedrawViewport\",\n              value: function _requestRedrawViewport() {\n                this._onRequestRedraw.fire({\n                  start: 0,\n                  end: this._terminal.rows - 1\n                });\n              }\n            }]);\n            return p;\n          }(_.Disposable);\n          t.WebglRenderer = p;\n          var m = /*#__PURE__*/function (_h$AttributeData) {\n            _inherits(m, _h$AttributeData);\n            var _super4 = _createSuper(m);\n            function m(e, t, i) {\n              var _this4;\n              _classCallCheck(this, m);\n              _this4 = _super4.call(this), _this4.content = 0, _this4.combinedData = \"\", _this4.fg = e.fg, _this4.bg = e.bg, _this4.combinedData = t, _this4._width = i;\n              return _this4;\n            }\n            _createClass(m, [{\n              key: \"isCombined\",\n              value: function isCombined() {\n                return 2097152;\n              }\n            }, {\n              key: \"getWidth\",\n              value: function getWidth() {\n                return this._width;\n              }\n            }, {\n              key: \"getChars\",\n              value: function getChars() {\n                return this.combinedData;\n              }\n            }, {\n              key: \"getCode\",\n              value: function getCode() {\n                return 2097151;\n              }\n            }, {\n              key: \"setFromCharData\",\n              value: function setFromCharData(e) {\n                throw new Error(\"not implemented\");\n              }\n            }, {\n              key: \"getAsCharData\",\n              value: function getAsCharData() {\n                return [this.fg, this.getChars(), this.getWidth(), this.getCode()];\n              }\n            }]);\n            return m;\n          }(h.AttributeData);\n          t.JoinedCellData = m;\n        },\n        381: function _(e, t, i) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.GLTexture = t.expandFloat32Array = t.createShader = t.createProgram = t.PROJECTION_MATRIX = void 0;\n          var s = i(374);\n          function r(e, t, i) {\n            var r = (0, s.throwIfFalsy)(e.createShader(t));\n            if (e.shaderSource(r, i), e.compileShader(r), e.getShaderParameter(r, e.COMPILE_STATUS)) return r;\n            console.error(e.getShaderInfoLog(r)), e.deleteShader(r);\n          }\n          t.PROJECTION_MATRIX = new Float32Array([2, 0, 0, 0, 0, -2, 0, 0, 0, 0, 1, 0, -1, 1, 0, 1]), t.createProgram = function (e, t, i) {\n            var o = (0, s.throwIfFalsy)(e.createProgram());\n            if (e.attachShader(o, (0, s.throwIfFalsy)(r(e, e.VERTEX_SHADER, t))), e.attachShader(o, (0, s.throwIfFalsy)(r(e, e.FRAGMENT_SHADER, i))), e.linkProgram(o), e.getProgramParameter(o, e.LINK_STATUS)) return o;\n            console.error(e.getProgramInfoLog(o)), e.deleteProgram(o);\n          }, t.createShader = r, t.expandFloat32Array = function (e, t) {\n            var i = Math.min(2 * e.length, t),\n              s = new Float32Array(i);\n            for (var _t3 = 0; _t3 < e.length; _t3++) s[_t3] = e[_t3];\n            return s;\n          }, t.GLTexture = /*#__PURE__*/function () {\n            function _class2(e) {\n              _classCallCheck(this, _class2);\n              this.texture = e, this.version = -1;\n            }\n            return _createClass(_class2);\n          }();\n        },\n        592: function _(e, t, i) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.BaseRenderLayer = void 0;\n          var s = i(627),\n            r = i(237),\n            o = i(374),\n            n = i(859);\n          var a = /*#__PURE__*/function (_n$Disposable) {\n            _inherits(a, _n$Disposable);\n            var _super5 = _createSuper(a);\n            function a(e, t, i, s, r, o, _a, h) {\n              var _this5;\n              _classCallCheck(this, a);\n              _this5 = _super5.call(this), _this5._container = t, _this5._alpha = r, _this5._coreBrowserService = o, _this5._optionsService = _a, _this5._themeService = h, _this5._deviceCharWidth = 0, _this5._deviceCharHeight = 0, _this5._deviceCellWidth = 0, _this5._deviceCellHeight = 0, _this5._deviceCharLeft = 0, _this5._deviceCharTop = 0, _this5._canvas = document.createElement(\"canvas\"), _this5._canvas.classList.add(\"xterm-\".concat(i, \"-layer\")), _this5._canvas.style.zIndex = s.toString(), _this5._initCanvas(), _this5._container.appendChild(_this5._canvas), _this5.register(_this5._themeService.onChangeColors(function (t) {\n                _this5._refreshCharAtlas(e, t), _this5.reset(e);\n              })), _this5.register((0, n.toDisposable)(function () {\n                var e;\n                _this5._canvas.remove(), null === (e = _this5._charAtlas) || void 0 === e || e.dispose();\n              }));\n              return _this5;\n            }\n            _createClass(a, [{\n              key: \"_initCanvas\",\n              value: function _initCanvas() {\n                this._ctx = (0, o.throwIfFalsy)(this._canvas.getContext(\"2d\", {\n                  alpha: this._alpha\n                })), this._alpha || this._clearAll();\n              }\n            }, {\n              key: \"handleBlur\",\n              value: function handleBlur(e) {}\n            }, {\n              key: \"handleFocus\",\n              value: function handleFocus(e) {}\n            }, {\n              key: \"handleCursorMove\",\n              value: function handleCursorMove(e) {}\n            }, {\n              key: \"handleGridChanged\",\n              value: function handleGridChanged(e, t, i) {}\n            }, {\n              key: \"handleSelectionChanged\",\n              value: function handleSelectionChanged(e, t, i) {\n                var s = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : !1;\n              }\n            }, {\n              key: \"_setTransparency\",\n              value: function _setTransparency(e, t) {\n                if (t === this._alpha) return;\n                var i = this._canvas;\n                this._alpha = t, this._canvas = this._canvas.cloneNode(), this._initCanvas(), this._container.replaceChild(this._canvas, i), this._refreshCharAtlas(e, this._themeService.colors), this.handleGridChanged(e, 0, e.rows - 1);\n              }\n            }, {\n              key: \"_refreshCharAtlas\",\n              value: function _refreshCharAtlas(e, t) {\n                this._deviceCharWidth <= 0 && this._deviceCharHeight <= 0 || (this._charAtlas = (0, s.acquireTextureAtlas)(e, this._optionsService.rawOptions, t, this._deviceCellWidth, this._deviceCellHeight, this._deviceCharWidth, this._deviceCharHeight, this._coreBrowserService.dpr), this._charAtlas.warmUp());\n              }\n            }, {\n              key: \"resize\",\n              value: function resize(e, t) {\n                this._deviceCellWidth = t.device.cell.width, this._deviceCellHeight = t.device.cell.height, this._deviceCharWidth = t.device.char.width, this._deviceCharHeight = t.device.char.height, this._deviceCharLeft = t.device.char.left, this._deviceCharTop = t.device.char.top, this._canvas.width = t.device.canvas.width, this._canvas.height = t.device.canvas.height, this._canvas.style.width = \"\".concat(t.css.canvas.width, \"px\"), this._canvas.style.height = \"\".concat(t.css.canvas.height, \"px\"), this._alpha || this._clearAll(), this._refreshCharAtlas(e, this._themeService.colors);\n              }\n            }, {\n              key: \"_fillCells\",\n              value: function _fillCells(e, t, i, s) {\n                this._ctx.fillRect(e * this._deviceCellWidth, t * this._deviceCellHeight, i * this._deviceCellWidth, s * this._deviceCellHeight);\n              }\n            }, {\n              key: \"_fillBottomLineAtCells\",\n              value: function _fillBottomLineAtCells(e, t) {\n                var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n                this._ctx.fillRect(e * this._deviceCellWidth, (t + 1) * this._deviceCellHeight - this._coreBrowserService.dpr - 1, i * this._deviceCellWidth, this._coreBrowserService.dpr);\n              }\n            }, {\n              key: \"_fillLeftLineAtCell\",\n              value: function _fillLeftLineAtCell(e, t, i) {\n                this._ctx.fillRect(e * this._deviceCellWidth, t * this._deviceCellHeight, this._coreBrowserService.dpr * i, this._deviceCellHeight);\n              }\n            }, {\n              key: \"_strokeRectAtCell\",\n              value: function _strokeRectAtCell(e, t, i, s) {\n                this._ctx.lineWidth = this._coreBrowserService.dpr, this._ctx.strokeRect(e * this._deviceCellWidth + this._coreBrowserService.dpr / 2, t * this._deviceCellHeight + this._coreBrowserService.dpr / 2, i * this._deviceCellWidth - this._coreBrowserService.dpr, s * this._deviceCellHeight - this._coreBrowserService.dpr);\n              }\n            }, {\n              key: \"_clearAll\",\n              value: function _clearAll() {\n                this._alpha ? this._ctx.clearRect(0, 0, this._canvas.width, this._canvas.height) : (this._ctx.fillStyle = this._themeService.colors.background.css, this._ctx.fillRect(0, 0, this._canvas.width, this._canvas.height));\n              }\n            }, {\n              key: \"_clearCells\",\n              value: function _clearCells(e, t, i, s) {\n                this._alpha ? this._ctx.clearRect(e * this._deviceCellWidth, t * this._deviceCellHeight, i * this._deviceCellWidth, s * this._deviceCellHeight) : (this._ctx.fillStyle = this._themeService.colors.background.css, this._ctx.fillRect(e * this._deviceCellWidth, t * this._deviceCellHeight, i * this._deviceCellWidth, s * this._deviceCellHeight));\n              }\n            }, {\n              key: \"_fillCharTrueColor\",\n              value: function _fillCharTrueColor(e, t, i, s) {\n                this._ctx.font = this._getFont(e, !1, !1), this._ctx.textBaseline = r.TEXT_BASELINE, this._clipCell(i, s, t.getWidth()), this._ctx.fillText(t.getChars(), i * this._deviceCellWidth + this._deviceCharLeft, s * this._deviceCellHeight + this._deviceCharTop + this._deviceCharHeight);\n              }\n            }, {\n              key: \"_clipCell\",\n              value: function _clipCell(e, t, i) {\n                this._ctx.beginPath(), this._ctx.rect(e * this._deviceCellWidth, t * this._deviceCellHeight, i * this._deviceCellWidth, this._deviceCellHeight), this._ctx.clip();\n              }\n            }, {\n              key: \"_getFont\",\n              value: function _getFont(e, t, i) {\n                return \"\".concat(i ? \"italic\" : \"\", \" \").concat(t ? e.options.fontWeightBold : e.options.fontWeight, \" \").concat(e.options.fontSize * this._coreBrowserService.dpr, \"px \").concat(e.options.fontFamily);\n              }\n            }]);\n            return a;\n          }(n.Disposable);\n          t.BaseRenderLayer = a;\n        },\n        461: function _(e, t, i) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.CursorRenderLayer = void 0;\n          var s = i(592),\n            r = i(782),\n            o = i(859);\n          var n = /*#__PURE__*/function (_s$BaseRenderLayer) {\n            _inherits(n, _s$BaseRenderLayer);\n            var _super6 = _createSuper(n);\n            function n(e, t, i, s, _n2, a, h, l) {\n              var _this6;\n              _classCallCheck(this, n);\n              _this6 = _super6.call(this, e, t, \"cursor\", i, !0, _n2, h, l), _this6._onRequestRefreshRowsEvent = s, _this6._coreService = a, _this6._cell = new r.CellData(), _this6._state = {\n                x: 0,\n                y: 0,\n                isFocused: !1,\n                style: \"\",\n                width: 0\n              }, _this6._cursorRenderers = {\n                bar: _this6._renderBarCursor.bind(_assertThisInitialized(_this6)),\n                block: _this6._renderBlockCursor.bind(_assertThisInitialized(_this6)),\n                underline: _this6._renderUnderlineCursor.bind(_assertThisInitialized(_this6))\n              }, _this6._handleOptionsChanged(e), _this6.register(h.onOptionChange(function () {\n                return _this6._handleOptionsChanged(e);\n              })), _this6.register((0, o.toDisposable)(function () {\n                var e;\n                null === (e = _this6._cursorBlinkStateManager) || void 0 === e || e.dispose(), _this6._cursorBlinkStateManager = void 0;\n              }));\n              return _this6;\n            }\n            _createClass(n, [{\n              key: \"resize\",\n              value: function resize(e, t) {\n                _get(_getPrototypeOf(n.prototype), \"resize\", this).call(this, e, t), this._state = {\n                  x: 0,\n                  y: 0,\n                  isFocused: !1,\n                  style: \"\",\n                  width: 0\n                };\n              }\n            }, {\n              key: \"reset\",\n              value: function reset(e) {\n                var t;\n                this._clearCursor(), null === (t = this._cursorBlinkStateManager) || void 0 === t || t.restartBlinkAnimation(e), this._handleOptionsChanged(e);\n              }\n            }, {\n              key: \"handleBlur\",\n              value: function handleBlur(e) {\n                var t;\n                null === (t = this._cursorBlinkStateManager) || void 0 === t || t.pause(), this._onRequestRefreshRowsEvent.fire({\n                  start: e.buffer.active.cursorY,\n                  end: e.buffer.active.cursorY\n                });\n              }\n            }, {\n              key: \"handleFocus\",\n              value: function handleFocus(e) {\n                var t;\n                null === (t = this._cursorBlinkStateManager) || void 0 === t || t.resume(e), this._onRequestRefreshRowsEvent.fire({\n                  start: e.buffer.active.cursorY,\n                  end: e.buffer.active.cursorY\n                });\n              }\n            }, {\n              key: \"_handleOptionsChanged\",\n              value: function _handleOptionsChanged(e) {\n                var _this7 = this;\n                var t;\n                e.options.cursorBlink ? this._cursorBlinkStateManager || (this._cursorBlinkStateManager = new a(function () {\n                  _this7._render(e, !0);\n                }, this._coreBrowserService)) : (null === (t = this._cursorBlinkStateManager) || void 0 === t || t.dispose(), this._cursorBlinkStateManager = void 0), this._onRequestRefreshRowsEvent.fire({\n                  start: e.buffer.active.cursorY,\n                  end: e.buffer.active.cursorY\n                });\n              }\n            }, {\n              key: \"handleCursorMove\",\n              value: function handleCursorMove(e) {\n                var t;\n                null === (t = this._cursorBlinkStateManager) || void 0 === t || t.restartBlinkAnimation(e);\n              }\n            }, {\n              key: \"handleGridChanged\",\n              value: function handleGridChanged(e, t, i) {\n                !this._cursorBlinkStateManager || this._cursorBlinkStateManager.isPaused ? this._render(e, !1) : this._cursorBlinkStateManager.restartBlinkAnimation(e);\n              }\n            }, {\n              key: \"_render\",\n              value: function _render(e, t) {\n                if (!this._coreService.isCursorInitialized || this._coreService.isCursorHidden) return void this._clearCursor();\n                var i = e.buffer.active.baseY + e.buffer.active.cursorY,\n                  s = i - e.buffer.active.viewportY,\n                  r = Math.min(e.buffer.active.cursorX, e.cols - 1);\n                if (s < 0 || s >= e.rows) this._clearCursor();else if (e._core.buffer.lines.get(i).loadCell(r, this._cell), void 0 !== this._cell.content) {\n                  if (!this._coreBrowserService.isFocused) {\n                    this._clearCursor(), this._ctx.save(), this._ctx.fillStyle = this._themeService.colors.cursor.css;\n                    var _t4 = e.options.cursorStyle;\n                    return _t4 && \"block\" !== _t4 ? this._cursorRenderers[_t4](e, r, s, this._cell) : this._renderBlurCursor(e, r, s, this._cell), this._ctx.restore(), this._state.x = r, this._state.y = s, this._state.isFocused = !1, this._state.style = _t4, void (this._state.width = this._cell.getWidth());\n                  }\n                  if (!this._cursorBlinkStateManager || this._cursorBlinkStateManager.isCursorVisible) {\n                    if (this._state) {\n                      if (this._state.x === r && this._state.y === s && this._state.isFocused === this._coreBrowserService.isFocused && this._state.style === e.options.cursorStyle && this._state.width === this._cell.getWidth()) return;\n                      this._clearCursor();\n                    }\n                    this._ctx.save(), this._cursorRenderers[e.options.cursorStyle || \"block\"](e, r, s, this._cell), this._ctx.restore(), this._state.x = r, this._state.y = s, this._state.isFocused = !1, this._state.style = e.options.cursorStyle, this._state.width = this._cell.getWidth();\n                  } else this._clearCursor();\n                }\n              }\n            }, {\n              key: \"_clearCursor\",\n              value: function _clearCursor() {\n                this._state && (this._coreBrowserService.dpr < 1 ? this._clearAll() : this._clearCells(this._state.x, this._state.y, this._state.width, 1), this._state = {\n                  x: 0,\n                  y: 0,\n                  isFocused: !1,\n                  style: \"\",\n                  width: 0\n                });\n              }\n            }, {\n              key: \"_renderBarCursor\",\n              value: function _renderBarCursor(e, t, i, s) {\n                this._ctx.save(), this._ctx.fillStyle = this._themeService.colors.cursor.css, this._fillLeftLineAtCell(t, i, this._optionsService.rawOptions.cursorWidth), this._ctx.restore();\n              }\n            }, {\n              key: \"_renderBlockCursor\",\n              value: function _renderBlockCursor(e, t, i, s) {\n                this._ctx.save(), this._ctx.fillStyle = this._themeService.colors.cursor.css, this._fillCells(t, i, s.getWidth(), 1), this._ctx.fillStyle = this._themeService.colors.cursorAccent.css, this._fillCharTrueColor(e, s, t, i), this._ctx.restore();\n              }\n            }, {\n              key: \"_renderUnderlineCursor\",\n              value: function _renderUnderlineCursor(e, t, i, s) {\n                this._ctx.save(), this._ctx.fillStyle = this._themeService.colors.cursor.css, this._fillBottomLineAtCells(t, i), this._ctx.restore();\n              }\n            }, {\n              key: \"_renderBlurCursor\",\n              value: function _renderBlurCursor(e, t, i, s) {\n                this._ctx.save(), this._ctx.strokeStyle = this._themeService.colors.cursor.css, this._strokeRectAtCell(t, i, s.getWidth(), 1), this._ctx.restore();\n              }\n            }]);\n            return n;\n          }(s.BaseRenderLayer);\n          t.CursorRenderLayer = n;\n          var a = /*#__PURE__*/function () {\n            function a(e, t) {\n              _classCallCheck(this, a);\n              this._renderCallback = e, this._coreBrowserService = t, this.isCursorVisible = !0, this._coreBrowserService.isFocused && this._restartInterval();\n            }\n            _createClass(a, [{\n              key: \"isPaused\",\n              get: function get() {\n                return !(this._blinkStartTimeout || this._blinkInterval);\n              }\n            }, {\n              key: \"dispose\",\n              value: function dispose() {\n                this._blinkInterval && (this._coreBrowserService.window.clearInterval(this._blinkInterval), this._blinkInterval = void 0), this._blinkStartTimeout && (this._coreBrowserService.window.clearTimeout(this._blinkStartTimeout), this._blinkStartTimeout = void 0), this._animationFrame && (this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame), this._animationFrame = void 0);\n              }\n            }, {\n              key: \"restartBlinkAnimation\",\n              value: function restartBlinkAnimation(e) {\n                var _this8 = this;\n                this.isPaused || (this._animationTimeRestarted = Date.now(), this.isCursorVisible = !0, this._animationFrame || (this._animationFrame = this._coreBrowserService.window.requestAnimationFrame(function () {\n                  _this8._renderCallback(), _this8._animationFrame = void 0;\n                })));\n              }\n            }, {\n              key: \"_restartInterval\",\n              value: function _restartInterval() {\n                var _this9 = this;\n                var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 600;\n                this._blinkInterval && (this._coreBrowserService.window.clearInterval(this._blinkInterval), this._blinkInterval = void 0), this._blinkStartTimeout = this._coreBrowserService.window.setTimeout(function () {\n                  if (_this9._animationTimeRestarted) {\n                    var _e11 = 600 - (Date.now() - _this9._animationTimeRestarted);\n                    if (_this9._animationTimeRestarted = void 0, _e11 > 0) return void _this9._restartInterval(_e11);\n                  }\n                  _this9.isCursorVisible = !1, _this9._animationFrame = _this9._coreBrowserService.window.requestAnimationFrame(function () {\n                    _this9._renderCallback(), _this9._animationFrame = void 0;\n                  }), _this9._blinkInterval = _this9._coreBrowserService.window.setInterval(function () {\n                    if (_this9._animationTimeRestarted) {\n                      var _e12 = 600 - (Date.now() - _this9._animationTimeRestarted);\n                      return _this9._animationTimeRestarted = void 0, void _this9._restartInterval(_e12);\n                    }\n                    _this9.isCursorVisible = !_this9.isCursorVisible, _this9._animationFrame = _this9._coreBrowserService.window.requestAnimationFrame(function () {\n                      _this9._renderCallback(), _this9._animationFrame = void 0;\n                    });\n                  }, 600);\n                }, e);\n              }\n            }, {\n              key: \"pause\",\n              value: function pause() {\n                this.isCursorVisible = !0, this._blinkInterval && (this._coreBrowserService.window.clearInterval(this._blinkInterval), this._blinkInterval = void 0), this._blinkStartTimeout && (this._coreBrowserService.window.clearTimeout(this._blinkStartTimeout), this._blinkStartTimeout = void 0), this._animationFrame && (this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame), this._animationFrame = void 0);\n              }\n            }, {\n              key: \"resume\",\n              value: function resume(e) {\n                this.pause(), this._animationTimeRestarted = void 0, this._restartInterval(), this.restartBlinkAnimation(e);\n              }\n            }]);\n            return a;\n          }();\n        },\n        733: function _(e, t, i) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.LinkRenderLayer = void 0;\n          var s = i(197),\n            r = i(237),\n            o = i(592);\n          var n = /*#__PURE__*/function (_o$BaseRenderLayer) {\n            _inherits(n, _o$BaseRenderLayer);\n            var _super7 = _createSuper(n);\n            function n(e, t, i, s, r, o, _n3) {\n              var _this10;\n              _classCallCheck(this, n);\n              _this10 = _super7.call(this, i, e, \"link\", t, !0, r, o, _n3), _this10.register(s.onShowLinkUnderline(function (e) {\n                return _this10._handleShowLinkUnderline(e);\n              })), _this10.register(s.onHideLinkUnderline(function (e) {\n                return _this10._handleHideLinkUnderline(e);\n              }));\n              return _this10;\n            }\n            _createClass(n, [{\n              key: \"resize\",\n              value: function resize(e, t) {\n                _get(_getPrototypeOf(n.prototype), \"resize\", this).call(this, e, t), this._state = void 0;\n              }\n            }, {\n              key: \"reset\",\n              value: function reset(e) {\n                this._clearCurrentLink();\n              }\n            }, {\n              key: \"_clearCurrentLink\",\n              value: function _clearCurrentLink() {\n                if (this._state) {\n                  this._clearCells(this._state.x1, this._state.y1, this._state.cols - this._state.x1, 1);\n                  var _e13 = this._state.y2 - this._state.y1 - 1;\n                  _e13 > 0 && this._clearCells(0, this._state.y1 + 1, this._state.cols, _e13), this._clearCells(0, this._state.y2, this._state.x2, 1), this._state = void 0;\n                }\n              }\n            }, {\n              key: \"_handleShowLinkUnderline\",\n              value: function _handleShowLinkUnderline(e) {\n                if (e.fg === r.INVERTED_DEFAULT_COLOR ? this._ctx.fillStyle = this._themeService.colors.background.css : void 0 !== e.fg && (0, s.is256Color)(e.fg) ? this._ctx.fillStyle = this._themeService.colors.ansi[e.fg].css : this._ctx.fillStyle = this._themeService.colors.foreground.css, e.y1 === e.y2) this._fillBottomLineAtCells(e.x1, e.y1, e.x2 - e.x1);else {\n                  this._fillBottomLineAtCells(e.x1, e.y1, e.cols - e.x1);\n                  for (var _t5 = e.y1 + 1; _t5 < e.y2; _t5++) this._fillBottomLineAtCells(0, _t5, e.cols);\n                  this._fillBottomLineAtCells(0, e.y2, e.x2);\n                }\n                this._state = e;\n              }\n            }, {\n              key: \"_handleHideLinkUnderline\",\n              value: function _handleHideLinkUnderline(e) {\n                this._clearCurrentLink();\n              }\n            }]);\n            return n;\n          }(o.BaseRenderLayer);\n          t.LinkRenderLayer = n;\n        },\n        820: function _(e, t) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.addDisposableDomListener = void 0, t.addDisposableDomListener = function (e, t, i, s) {\n            e.addEventListener(t, i, s);\n            var r = !1;\n            return {\n              dispose: function dispose() {\n                r || (r = !0, e.removeEventListener(t, i, s));\n              }\n            };\n          };\n        },\n        274: function _(e, t) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.CellColorResolver = void 0;\n          var i,\n            s = 0,\n            r = 0,\n            o = !1,\n            n = !1,\n            a = !1;\n          t.CellColorResolver = /*#__PURE__*/function () {\n            function _class3(e, t, i, s, r) {\n              _classCallCheck(this, _class3);\n              this._terminal = e, this._selectionRenderModel = t, this._decorationService = i, this._coreBrowserService = s, this._themeService = r, this.result = {\n                fg: 0,\n                bg: 0,\n                ext: 0\n              };\n            }\n            _createClass(_class3, [{\n              key: \"resolve\",\n              value: function resolve(e, t, h) {\n                this.result.bg = e.bg, this.result.fg = e.fg, this.result.ext = 268435456 & e.bg ? e.extended.ext : 0, r = 0, s = 0, n = !1, o = !1, a = !1, i = this._themeService.colors, this._decorationService.forEachDecorationAtCell(t, h, \"bottom\", function (e) {\n                  e.backgroundColorRGB && (r = e.backgroundColorRGB.rgba >> 8 & 16777215, n = !0), e.foregroundColorRGB && (s = e.foregroundColorRGB.rgba >> 8 & 16777215, o = !0);\n                }), a = this._selectionRenderModel.isCellSelected(this._terminal, t, h), a && (r = (this._coreBrowserService.isFocused ? i.selectionBackgroundOpaque : i.selectionInactiveBackgroundOpaque).rgba >> 8 & 16777215, n = !0, i.selectionForeground && (s = i.selectionForeground.rgba >> 8 & 16777215, o = !0)), this._decorationService.forEachDecorationAtCell(t, h, \"top\", function (e) {\n                  e.backgroundColorRGB && (r = e.backgroundColorRGB.rgba >> 8 & 16777215, n = !0), e.foregroundColorRGB && (s = e.foregroundColorRGB.rgba >> 8 & 16777215, o = !0);\n                }), n && (r = a ? -16777216 & e.bg & -134217729 | r | 50331648 : -16777216 & e.bg | r | 50331648), o && (s = -16777216 & e.fg & -67108865 | s | 50331648), 67108864 & this.result.fg && (n && !o && (s = 0 == (50331648 & this.result.bg) ? -134217728 & this.result.fg | 16777215 & i.background.rgba >> 8 | 50331648 : -134217728 & this.result.fg | 67108863 & this.result.bg, o = !0), !n && o && (r = 0 == (50331648 & this.result.fg) ? -67108864 & this.result.bg | 16777215 & i.foreground.rgba >> 8 | 50331648 : -67108864 & this.result.bg | 67108863 & this.result.fg, n = !0)), i = void 0, this.result.bg = n ? r : this.result.bg, this.result.fg = o ? s : this.result.fg;\n              }\n            }]);\n            return _class3;\n          }();\n        },\n        627: function _(e, t, i) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.removeTerminalFromCache = t.acquireTextureAtlas = void 0;\n          var s = i(509),\n            r = i(197),\n            o = [];\n          t.acquireTextureAtlas = function (e, t, i, n, a, h, l, c) {\n            var d = (0, r.generateConfig)(n, a, h, l, t, i, c);\n            for (var _t6 = 0; _t6 < o.length; _t6++) {\n              var _i3 = o[_t6],\n                _s3 = _i3.ownedBy.indexOf(e);\n              if (_s3 >= 0) {\n                if ((0, r.configEquals)(_i3.config, d)) return _i3.atlas;\n                1 === _i3.ownedBy.length ? (_i3.atlas.dispose(), o.splice(_t6, 1)) : _i3.ownedBy.splice(_s3, 1);\n                break;\n              }\n            }\n            for (var _t7 = 0; _t7 < o.length; _t7++) {\n              var _i4 = o[_t7];\n              if ((0, r.configEquals)(_i4.config, d)) return _i4.ownedBy.push(e), _i4.atlas;\n            }\n            var _ = e._core,\n              u = {\n                atlas: new s.TextureAtlas(document, d, _.unicodeService),\n                config: d,\n                ownedBy: [e]\n              };\n            return o.push(u), u.atlas;\n          }, t.removeTerminalFromCache = function (e) {\n            for (var _t8 = 0; _t8 < o.length; _t8++) {\n              var _i5 = o[_t8].ownedBy.indexOf(e);\n              if (-1 !== _i5) {\n                1 === o[_t8].ownedBy.length ? (o[_t8].atlas.dispose(), o.splice(_t8, 1)) : o[_t8].ownedBy.splice(_i5, 1);\n                break;\n              }\n            }\n          };\n        },\n        197: function _(e, t, i) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.is256Color = t.configEquals = t.generateConfig = void 0;\n          var s = i(160);\n          t.generateConfig = function (e, t, i, r, o, n, a) {\n            var h = {\n              foreground: n.foreground,\n              background: n.background,\n              cursor: s.NULL_COLOR,\n              cursorAccent: s.NULL_COLOR,\n              selectionForeground: s.NULL_COLOR,\n              selectionBackgroundTransparent: s.NULL_COLOR,\n              selectionBackgroundOpaque: s.NULL_COLOR,\n              selectionInactiveBackgroundTransparent: s.NULL_COLOR,\n              selectionInactiveBackgroundOpaque: s.NULL_COLOR,\n              ansi: n.ansi.slice(),\n              contrastCache: n.contrastCache\n            };\n            return {\n              customGlyphs: o.customGlyphs,\n              devicePixelRatio: a,\n              letterSpacing: o.letterSpacing,\n              lineHeight: o.lineHeight,\n              deviceCellWidth: e,\n              deviceCellHeight: t,\n              deviceCharWidth: i,\n              deviceCharHeight: r,\n              fontFamily: o.fontFamily,\n              fontSize: o.fontSize,\n              fontWeight: o.fontWeight,\n              fontWeightBold: o.fontWeightBold,\n              allowTransparency: o.allowTransparency,\n              drawBoldTextInBrightColors: o.drawBoldTextInBrightColors,\n              minimumContrastRatio: o.minimumContrastRatio,\n              colors: h\n            };\n          }, t.configEquals = function (e, t) {\n            for (var _i6 = 0; _i6 < e.colors.ansi.length; _i6++) if (e.colors.ansi[_i6].rgba !== t.colors.ansi[_i6].rgba) return !1;\n            return e.devicePixelRatio === t.devicePixelRatio && e.customGlyphs === t.customGlyphs && e.lineHeight === t.lineHeight && e.letterSpacing === t.letterSpacing && e.fontFamily === t.fontFamily && e.fontSize === t.fontSize && e.fontWeight === t.fontWeight && e.fontWeightBold === t.fontWeightBold && e.allowTransparency === t.allowTransparency && e.deviceCharWidth === t.deviceCharWidth && e.deviceCharHeight === t.deviceCharHeight && e.drawBoldTextInBrightColors === t.drawBoldTextInBrightColors && e.minimumContrastRatio === t.minimumContrastRatio && e.colors.foreground.rgba === t.colors.foreground.rgba && e.colors.background.rgba === t.colors.background.rgba;\n          }, t.is256Color = function (e) {\n            return 16777216 == (50331648 & e) || 33554432 == (50331648 & e);\n          };\n        },\n        237: function _(e, t, i) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.TEXT_BASELINE = t.DIM_OPACITY = t.INVERTED_DEFAULT_COLOR = void 0;\n          var s = i(399);\n          t.INVERTED_DEFAULT_COLOR = 257, t.DIM_OPACITY = .5, t.TEXT_BASELINE = s.isFirefox || s.isLegacyEdge ? \"bottom\" : \"ideographic\";\n        },\n        860: function _(e, t, i) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.tryDrawCustomChar = t.powerlineDefinitions = t.boxDrawingDefinitions = t.blockElementDefinitions = void 0;\n          var s = i(374);\n          t.blockElementDefinitions = {\n            \"\": [{\n              x: 0,\n              y: 0,\n              w: 8,\n              h: 4\n            }],\n            \"\": [{\n              x: 0,\n              y: 7,\n              w: 8,\n              h: 1\n            }],\n            \"\": [{\n              x: 0,\n              y: 6,\n              w: 8,\n              h: 2\n            }],\n            \"\": [{\n              x: 0,\n              y: 5,\n              w: 8,\n              h: 3\n            }],\n            \"\": [{\n              x: 0,\n              y: 4,\n              w: 8,\n              h: 4\n            }],\n            \"\": [{\n              x: 0,\n              y: 3,\n              w: 8,\n              h: 5\n            }],\n            \"\": [{\n              x: 0,\n              y: 2,\n              w: 8,\n              h: 6\n            }],\n            \"\": [{\n              x: 0,\n              y: 1,\n              w: 8,\n              h: 7\n            }],\n            \"\": [{\n              x: 0,\n              y: 0,\n              w: 8,\n              h: 8\n            }],\n            \"\": [{\n              x: 0,\n              y: 0,\n              w: 7,\n              h: 8\n            }],\n            \"\": [{\n              x: 0,\n              y: 0,\n              w: 6,\n              h: 8\n            }],\n            \"\": [{\n              x: 0,\n              y: 0,\n              w: 5,\n              h: 8\n            }],\n            \"\": [{\n              x: 0,\n              y: 0,\n              w: 4,\n              h: 8\n            }],\n            \"\": [{\n              x: 0,\n              y: 0,\n              w: 3,\n              h: 8\n            }],\n            \"\": [{\n              x: 0,\n              y: 0,\n              w: 2,\n              h: 8\n            }],\n            \"\": [{\n              x: 0,\n              y: 0,\n              w: 1,\n              h: 8\n            }],\n            \"\": [{\n              x: 4,\n              y: 0,\n              w: 4,\n              h: 8\n            }],\n            \"\": [{\n              x: 0,\n              y: 0,\n              w: 8,\n              h: 1\n            }],\n            \"\": [{\n              x: 7,\n              y: 0,\n              w: 1,\n              h: 8\n            }],\n            \"\": [{\n              x: 0,\n              y: 4,\n              w: 4,\n              h: 4\n            }],\n            \"\": [{\n              x: 4,\n              y: 4,\n              w: 4,\n              h: 4\n            }],\n            \"\": [{\n              x: 0,\n              y: 0,\n              w: 4,\n              h: 4\n            }],\n            \"\": [{\n              x: 0,\n              y: 0,\n              w: 4,\n              h: 8\n            }, {\n              x: 0,\n              y: 4,\n              w: 8,\n              h: 4\n            }],\n            \"\": [{\n              x: 0,\n              y: 0,\n              w: 4,\n              h: 4\n            }, {\n              x: 4,\n              y: 4,\n              w: 4,\n              h: 4\n            }],\n            \"\": [{\n              x: 0,\n              y: 0,\n              w: 4,\n              h: 8\n            }, {\n              x: 4,\n              y: 0,\n              w: 4,\n              h: 4\n            }],\n            \"\": [{\n              x: 0,\n              y: 0,\n              w: 8,\n              h: 4\n            }, {\n              x: 4,\n              y: 0,\n              w: 4,\n              h: 8\n            }],\n            \"\": [{\n              x: 4,\n              y: 0,\n              w: 4,\n              h: 4\n            }],\n            \"\": [{\n              x: 4,\n              y: 0,\n              w: 4,\n              h: 4\n            }, {\n              x: 0,\n              y: 4,\n              w: 4,\n              h: 4\n            }],\n            \"\": [{\n              x: 4,\n              y: 0,\n              w: 4,\n              h: 8\n            }, {\n              x: 0,\n              y: 4,\n              w: 8,\n              h: 4\n            }],\n            \"\": [{\n              x: 1,\n              y: 0,\n              w: 1,\n              h: 8\n            }],\n            \"\": [{\n              x: 2,\n              y: 0,\n              w: 1,\n              h: 8\n            }],\n            \"\": [{\n              x: 3,\n              y: 0,\n              w: 1,\n              h: 8\n            }],\n            \"\": [{\n              x: 4,\n              y: 0,\n              w: 1,\n              h: 8\n            }],\n            \"\": [{\n              x: 5,\n              y: 0,\n              w: 1,\n              h: 8\n            }],\n            \"\": [{\n              x: 6,\n              y: 0,\n              w: 1,\n              h: 8\n            }],\n            \"\": [{\n              x: 0,\n              y: 1,\n              w: 8,\n              h: 1\n            }],\n            \"\": [{\n              x: 0,\n              y: 2,\n              w: 8,\n              h: 1\n            }],\n            \"\": [{\n              x: 0,\n              y: 3,\n              w: 8,\n              h: 1\n            }],\n            \"\": [{\n              x: 0,\n              y: 4,\n              w: 8,\n              h: 1\n            }],\n            \"\": [{\n              x: 0,\n              y: 5,\n              w: 8,\n              h: 1\n            }],\n            \"\": [{\n              x: 0,\n              y: 6,\n              w: 8,\n              h: 1\n            }],\n            \"\": [{\n              x: 0,\n              y: 0,\n              w: 1,\n              h: 8\n            }, {\n              x: 0,\n              y: 7,\n              w: 8,\n              h: 1\n            }],\n            \"\": [{\n              x: 0,\n              y: 0,\n              w: 1,\n              h: 8\n            }, {\n              x: 0,\n              y: 0,\n              w: 8,\n              h: 1\n            }],\n            \"\": [{\n              x: 7,\n              y: 0,\n              w: 1,\n              h: 8\n            }, {\n              x: 0,\n              y: 0,\n              w: 8,\n              h: 1\n            }],\n            \"\": [{\n              x: 7,\n              y: 0,\n              w: 1,\n              h: 8\n            }, {\n              x: 0,\n              y: 7,\n              w: 8,\n              h: 1\n            }],\n            \"\": [{\n              x: 0,\n              y: 0,\n              w: 8,\n              h: 1\n            }, {\n              x: 0,\n              y: 7,\n              w: 8,\n              h: 1\n            }],\n            \"\": [{\n              x: 0,\n              y: 0,\n              w: 8,\n              h: 1\n            }, {\n              x: 0,\n              y: 2,\n              w: 8,\n              h: 1\n            }, {\n              x: 0,\n              y: 4,\n              w: 8,\n              h: 1\n            }, {\n              x: 0,\n              y: 7,\n              w: 8,\n              h: 1\n            }],\n            \"\": [{\n              x: 0,\n              y: 0,\n              w: 8,\n              h: 2\n            }],\n            \"\": [{\n              x: 0,\n              y: 0,\n              w: 8,\n              h: 3\n            }],\n            \"\": [{\n              x: 0,\n              y: 0,\n              w: 8,\n              h: 5\n            }],\n            \"\": [{\n              x: 0,\n              y: 0,\n              w: 8,\n              h: 6\n            }],\n            \"\": [{\n              x: 0,\n              y: 0,\n              w: 8,\n              h: 7\n            }],\n            \"\": [{\n              x: 6,\n              y: 0,\n              w: 2,\n              h: 8\n            }],\n            \"\": [{\n              x: 5,\n              y: 0,\n              w: 3,\n              h: 8\n            }],\n            \"\": [{\n              x: 3,\n              y: 0,\n              w: 5,\n              h: 8\n            }],\n            \"\": [{\n              x: 2,\n              y: 0,\n              w: 6,\n              h: 8\n            }],\n            \"\": [{\n              x: 1,\n              y: 0,\n              w: 7,\n              h: 8\n            }],\n            \"\": [{\n              x: 0,\n              y: 0,\n              w: 2,\n              h: 2\n            }, {\n              x: 4,\n              y: 0,\n              w: 2,\n              h: 2\n            }, {\n              x: 2,\n              y: 2,\n              w: 2,\n              h: 2\n            }, {\n              x: 6,\n              y: 2,\n              w: 2,\n              h: 2\n            }, {\n              x: 0,\n              y: 4,\n              w: 2,\n              h: 2\n            }, {\n              x: 4,\n              y: 4,\n              w: 2,\n              h: 2\n            }, {\n              x: 2,\n              y: 6,\n              w: 2,\n              h: 2\n            }, {\n              x: 6,\n              y: 6,\n              w: 2,\n              h: 2\n            }],\n            \"\": [{\n              x: 2,\n              y: 0,\n              w: 2,\n              h: 2\n            }, {\n              x: 6,\n              y: 0,\n              w: 2,\n              h: 2\n            }, {\n              x: 0,\n              y: 2,\n              w: 2,\n              h: 2\n            }, {\n              x: 4,\n              y: 2,\n              w: 2,\n              h: 2\n            }, {\n              x: 2,\n              y: 4,\n              w: 2,\n              h: 2\n            }, {\n              x: 6,\n              y: 4,\n              w: 2,\n              h: 2\n            }, {\n              x: 0,\n              y: 6,\n              w: 2,\n              h: 2\n            }, {\n              x: 4,\n              y: 6,\n              w: 2,\n              h: 2\n            }],\n            \"\": [{\n              x: 0,\n              y: 2,\n              w: 8,\n              h: 2\n            }, {\n              x: 0,\n              y: 6,\n              w: 8,\n              h: 2\n            }]\n          };\n          var r = {\n            \"\": [[1, 0, 0, 0], [0, 0, 0, 0], [0, 0, 1, 0], [0, 0, 0, 0]],\n            \"\": [[1, 0], [0, 0], [0, 1], [0, 0]],\n            \"\": [[0, 1], [1, 1], [1, 0], [1, 1]]\n          };\n          t.boxDrawingDefinitions = {\n            \"\": {\n              1: \"M0,.5 L1,.5\"\n            },\n            \"\": {\n              3: \"M0,.5 L1,.5\"\n            },\n            \"\": {\n              1: \"M.5,0 L.5,1\"\n            },\n            \"\": {\n              3: \"M.5,0 L.5,1\"\n            },\n            \"\": {\n              1: \"M0.5,1 L.5,.5 L1,.5\"\n            },\n            \"\": {\n              3: \"M0.5,1 L.5,.5 L1,.5\"\n            },\n            \"\": {\n              1: \"M0,.5 L.5,.5 L.5,1\"\n            },\n            \"\": {\n              3: \"M0,.5 L.5,.5 L.5,1\"\n            },\n            \"\": {\n              1: \"M.5,0 L.5,.5 L1,.5\"\n            },\n            \"\": {\n              3: \"M.5,0 L.5,.5 L1,.5\"\n            },\n            \"\": {\n              1: \"M.5,0 L.5,.5 L0,.5\"\n            },\n            \"\": {\n              3: \"M.5,0 L.5,.5 L0,.5\"\n            },\n            \"\": {\n              1: \"M.5,0 L.5,1 M.5,.5 L1,.5\"\n            },\n            \"\": {\n              3: \"M.5,0 L.5,1 M.5,.5 L1,.5\"\n            },\n            \"\": {\n              1: \"M.5,0 L.5,1 M.5,.5 L0,.5\"\n            },\n            \"\": {\n              3: \"M.5,0 L.5,1 M.5,.5 L0,.5\"\n            },\n            \"\": {\n              1: \"M0,.5 L1,.5 M.5,.5 L.5,1\"\n            },\n            \"\": {\n              3: \"M0,.5 L1,.5 M.5,.5 L.5,1\"\n            },\n            \"\": {\n              1: \"M0,.5 L1,.5 M.5,.5 L.5,0\"\n            },\n            \"\": {\n              3: \"M0,.5 L1,.5 M.5,.5 L.5,0\"\n            },\n            \"\": {\n              1: \"M0,.5 L1,.5 M.5,0 L.5,1\"\n            },\n            \"\": {\n              3: \"M0,.5 L1,.5 M.5,0 L.5,1\"\n            },\n            \"\": {\n              1: \"M.5,.5 L0,.5\"\n            },\n            \"\": {\n              3: \"M.5,.5 L0,.5\"\n            },\n            \"\": {\n              1: \"M.5,.5 L.5,0\"\n            },\n            \"\": {\n              3: \"M.5,.5 L.5,0\"\n            },\n            \"\": {\n              1: \"M.5,.5 L1,.5\"\n            },\n            \"\": {\n              3: \"M.5,.5 L1,.5\"\n            },\n            \"\": {\n              1: \"M.5,.5 L.5,1\"\n            },\n            \"\": {\n              3: \"M.5,.5 L.5,1\"\n            },\n            \"\": {\n              1: function _(e, t) {\n                return \"M0,\".concat(.5 - t, \" L1,\").concat(.5 - t, \" M0,\").concat(.5 + t, \" L1,\").concat(.5 + t);\n              }\n            },\n            \"\": {\n              1: function _(e, t) {\n                return \"M\".concat(.5 - e, \",0 L\").concat(.5 - e, \",1 M\").concat(.5 + e, \",0 L\").concat(.5 + e, \",1\");\n              }\n            },\n            \"\": {\n              1: function _(e, t) {\n                return \"M.5,1 L.5,\".concat(.5 - t, \" L1,\").concat(.5 - t, \" M.5,\").concat(.5 + t, \" L1,\").concat(.5 + t);\n              }\n            },\n            \"\": {\n              1: function _(e, t) {\n                return \"M\".concat(.5 - e, \",1 L\").concat(.5 - e, \",.5 L1,.5 M\").concat(.5 + e, \",.5 L\").concat(.5 + e, \",1\");\n              }\n            },\n            \"\": {\n              1: function _(e, t) {\n                return \"M1,\".concat(.5 - t, \" L\").concat(.5 - e, \",\").concat(.5 - t, \" L\").concat(.5 - e, \",1 M1,\").concat(.5 + t, \" L\").concat(.5 + e, \",\").concat(.5 + t, \" L\").concat(.5 + e, \",1\");\n              }\n            },\n            \"\": {\n              1: function _(e, t) {\n                return \"M0,\".concat(.5 - t, \" L.5,\").concat(.5 - t, \" L.5,1 M0,\").concat(.5 + t, \" L.5,\").concat(.5 + t);\n              }\n            },\n            \"\": {\n              1: function _(e, t) {\n                return \"M\".concat(.5 + e, \",1 L\").concat(.5 + e, \",.5 L0,.5 M\").concat(.5 - e, \",.5 L\").concat(.5 - e, \",1\");\n              }\n            },\n            \"\": {\n              1: function _(e, t) {\n                return \"M0,\".concat(.5 + t, \" L\").concat(.5 - e, \",\").concat(.5 + t, \" L\").concat(.5 - e, \",1 M0,\").concat(.5 - t, \" L\").concat(.5 + e, \",\").concat(.5 - t, \" L\").concat(.5 + e, \",1\");\n              }\n            },\n            \"\": {\n              1: function _(e, t) {\n                return \"M.5,0 L.5,\".concat(.5 + t, \" L1,\").concat(.5 + t, \" M.5,\").concat(.5 - t, \" L1,\").concat(.5 - t);\n              }\n            },\n            \"\": {\n              1: function _(e, t) {\n                return \"M1,.5 L\".concat(.5 - e, \",.5 L\").concat(.5 - e, \",0 M\").concat(.5 + e, \",.5 L\").concat(.5 + e, \",0\");\n              }\n            },\n            \"\": {\n              1: function _(e, t) {\n                return \"M1,\".concat(.5 - t, \" L\").concat(.5 + e, \",\").concat(.5 - t, \" L\").concat(.5 + e, \",0 M1,\").concat(.5 + t, \" L\").concat(.5 - e, \",\").concat(.5 + t, \" L\").concat(.5 - e, \",0\");\n              }\n            },\n            \"\": {\n              1: function _(e, t) {\n                return \"M0,\".concat(.5 + t, \" L.5,\").concat(.5 + t, \" L.5,0 M0,\").concat(.5 - t, \" L.5,\").concat(.5 - t);\n              }\n            },\n            \"\": {\n              1: function _(e, t) {\n                return \"M0,.5 L\".concat(.5 + e, \",.5 L\").concat(.5 + e, \",0 M\").concat(.5 - e, \",.5 L\").concat(.5 - e, \",0\");\n              }\n            },\n            \"\": {\n              1: function _(e, t) {\n                return \"M0,\".concat(.5 - t, \" L\").concat(.5 - e, \",\").concat(.5 - t, \" L\").concat(.5 - e, \",0 M0,\").concat(.5 + t, \" L\").concat(.5 + e, \",\").concat(.5 + t, \" L\").concat(.5 + e, \",0\");\n              }\n            },\n            \"\": {\n              1: function _(e, t) {\n                return \"M.5,0 L.5,1 M.5,\".concat(.5 - t, \" L1,\").concat(.5 - t, \" M.5,\").concat(.5 + t, \" L1,\").concat(.5 + t);\n              }\n            },\n            \"\": {\n              1: function _(e, t) {\n                return \"M\".concat(.5 - e, \",0 L\").concat(.5 - e, \",1 M\").concat(.5 + e, \",0 L\").concat(.5 + e, \",1 M\").concat(.5 + e, \",.5 L1,.5\");\n              }\n            },\n            \"\": {\n              1: function _(e, t) {\n                return \"M\".concat(.5 - e, \",0 L\").concat(.5 - e, \",1 M1,\").concat(.5 + t, \" L\").concat(.5 + e, \",\").concat(.5 + t, \" L\").concat(.5 + e, \",1 M1,\").concat(.5 - t, \" L\").concat(.5 + e, \",\").concat(.5 - t, \" L\").concat(.5 + e, \",0\");\n              }\n            },\n            \"\": {\n              1: function _(e, t) {\n                return \"M.5,0 L.5,1 M0,\".concat(.5 - t, \" L.5,\").concat(.5 - t, \" M0,\").concat(.5 + t, \" L.5,\").concat(.5 + t);\n              }\n            },\n            \"\": {\n              1: function _(e, t) {\n                return \"M0,.5 L\".concat(.5 - e, \",.5 M\").concat(.5 - e, \",0 L\").concat(.5 - e, \",1 M\").concat(.5 + e, \",0 L\").concat(.5 + e, \",1\");\n              }\n            },\n            \"\": {\n              1: function _(e, t) {\n                return \"M\".concat(.5 + e, \",0 L\").concat(.5 + e, \",1 M0,\").concat(.5 + t, \" L\").concat(.5 - e, \",\").concat(.5 + t, \" L\").concat(.5 - e, \",1 M0,\").concat(.5 - t, \" L\").concat(.5 - e, \",\").concat(.5 - t, \" L\").concat(.5 - e, \",0\");\n              }\n            },\n            \"\": {\n              1: function _(e, t) {\n                return \"M0,\".concat(.5 - t, \" L1,\").concat(.5 - t, \" M0,\").concat(.5 + t, \" L1,\").concat(.5 + t, \" M.5,\").concat(.5 + t, \" L.5,1\");\n              }\n            },\n            \"\": {\n              1: function _(e, t) {\n                return \"M0,.5 L1,.5 M\".concat(.5 - e, \",.5 L\").concat(.5 - e, \",1 M\").concat(.5 + e, \",.5 L\").concat(.5 + e, \",1\");\n              }\n            },\n            \"\": {\n              1: function _(e, t) {\n                return \"M0,\".concat(.5 - t, \" L1,\").concat(.5 - t, \" M0,\").concat(.5 + t, \" L\").concat(.5 - e, \",\").concat(.5 + t, \" L\").concat(.5 - e, \",1 M1,\").concat(.5 + t, \" L\").concat(.5 + e, \",\").concat(.5 + t, \" L\").concat(.5 + e, \",1\");\n              }\n            },\n            \"\": {\n              1: function _(e, t) {\n                return \"M.5,0 L.5,\".concat(.5 - t, \" M0,\").concat(.5 - t, \" L1,\").concat(.5 - t, \" M0,\").concat(.5 + t, \" L1,\").concat(.5 + t);\n              }\n            },\n            \"\": {\n              1: function _(e, t) {\n                return \"M0,.5 L1,.5 M\".concat(.5 - e, \",.5 L\").concat(.5 - e, \",0 M\").concat(.5 + e, \",.5 L\").concat(.5 + e, \",0\");\n              }\n            },\n            \"\": {\n              1: function _(e, t) {\n                return \"M0,\".concat(.5 + t, \" L1,\").concat(.5 + t, \" M0,\").concat(.5 - t, \" L\").concat(.5 - e, \",\").concat(.5 - t, \" L\").concat(.5 - e, \",0 M1,\").concat(.5 - t, \" L\").concat(.5 + e, \",\").concat(.5 - t, \" L\").concat(.5 + e, \",0\");\n              }\n            },\n            \"\": {\n              1: function _(e, t) {\n                return \"M.5,0 L.5,1 M0,\".concat(.5 - t, \" L1,\").concat(.5 - t, \" M0,\").concat(.5 + t, \" L1,\").concat(.5 + t);\n              }\n            },\n            \"\": {\n              1: function _(e, t) {\n                return \"M0,.5 L1,.5 M\".concat(.5 - e, \",0 L\").concat(.5 - e, \",1 M\").concat(.5 + e, \",0 L\").concat(.5 + e, \",1\");\n              }\n            },\n            \"\": {\n              1: function _(e, t) {\n                return \"M0,\".concat(.5 + t, \" L\").concat(.5 - e, \",\").concat(.5 + t, \" L\").concat(.5 - e, \",1 M1,\").concat(.5 + t, \" L\").concat(.5 + e, \",\").concat(.5 + t, \" L\").concat(.5 + e, \",1 M0,\").concat(.5 - t, \" L\").concat(.5 - e, \",\").concat(.5 - t, \" L\").concat(.5 - e, \",0 M1,\").concat(.5 - t, \" L\").concat(.5 + e, \",\").concat(.5 - t, \" L\").concat(.5 + e, \",0\");\n              }\n            },\n            \"\": {\n              1: \"M1,0 L0,1\"\n            },\n            \"\": {\n              1: \"M0,0 L1,1\"\n            },\n            \"\": {\n              1: \"M1,0 L0,1 M0,0 L1,1\"\n            },\n            \"\": {\n              1: \"M.5,.5 L0,.5\",\n              3: \"M.5,.5 L1,.5\"\n            },\n            \"\": {\n              1: \"M.5,.5 L.5,0\",\n              3: \"M.5,.5 L.5,1\"\n            },\n            \"\": {\n              1: \"M.5,.5 L1,.5\",\n              3: \"M.5,.5 L0,.5\"\n            },\n            \"\": {\n              1: \"M.5,.5 L.5,1\",\n              3: \"M.5,.5 L.5,0\"\n            },\n            \"\": {\n              1: \"M.5,.5 L.5,1\",\n              3: \"M.5,.5 L1,.5\"\n            },\n            \"\": {\n              1: \"M.5,.5 L1,.5\",\n              3: \"M.5,.5 L.5,1\"\n            },\n            \"\": {\n              1: \"M.5,.5 L.5,1\",\n              3: \"M.5,.5 L0,.5\"\n            },\n            \"\": {\n              1: \"M.5,.5 L0,.5\",\n              3: \"M.5,.5 L.5,1\"\n            },\n            \"\": {\n              1: \"M.5,.5 L.5,0\",\n              3: \"M.5,.5 L1,.5\"\n            },\n            \"\": {\n              1: \"M.5,.5 L1,.5\",\n              3: \"M.5,.5 L.5,0\"\n            },\n            \"\": {\n              1: \"M.5,.5 L.5,0\",\n              3: \"M.5,.5 L0,.5\"\n            },\n            \"\": {\n              1: \"M.5,.5 L0,.5\",\n              3: \"M.5,.5 L.5,0\"\n            },\n            \"\": {\n              1: \"M.5,0 L.5,1\",\n              3: \"M.5,.5 L1,.5\"\n            },\n            \"\": {\n              1: \"M0.5,1 L.5,.5 L1,.5\",\n              3: \"M.5,.5 L.5,0\"\n            },\n            \"\": {\n              1: \"M.5,0 L.5,.5 L1,.5\",\n              3: \"M.5,.5 L.5,1\"\n            },\n            \"\": {\n              1: \"M.5,.5 L1,.5\",\n              3: \"M.5,0 L.5,1\"\n            },\n            \"\": {\n              1: \"M.5,.5 L.5,1\",\n              3: \"M.5,0 L.5,.5 L1,.5\"\n            },\n            \"\": {\n              1: \"M.5,.5 L.5,0\",\n              3: \"M0.5,1 L.5,.5 L1,.5\"\n            },\n            \"\": {\n              1: \"M.5,0 L.5,1\",\n              3: \"M.5,.5 L0,.5\"\n            },\n            \"\": {\n              1: \"M0,.5 L.5,.5 L.5,1\",\n              3: \"M.5,.5 L.5,0\"\n            },\n            \"\": {\n              1: \"M.5,0 L.5,.5 L0,.5\",\n              3: \"M.5,.5 L.5,1\"\n            },\n            \"\": {\n              1: \"M.5,.5 L0,.5\",\n              3: \"M.5,0 L.5,1\"\n            },\n            \"\": {\n              1: \"M.5,.5 L.5,1\",\n              3: \"M.5,0 L.5,.5 L0,.5\"\n            },\n            \"\": {\n              1: \"M.5,.5 L.5,0\",\n              3: \"M0,.5 L.5,.5 L.5,1\"\n            },\n            \"\": {\n              1: \"M0.5,1 L.5,.5 L1,.5\",\n              3: \"M.5,.5 L0,.5\"\n            },\n            \"\": {\n              1: \"M0,.5 L.5,.5 L.5,1\",\n              3: \"M.5,.5 L1,.5\"\n            },\n            \"\": {\n              1: \"M.5,.5 L.5,1\",\n              3: \"M0,.5 L1,.5\"\n            },\n            \"\": {\n              1: \"M0,.5 L1,.5\",\n              3: \"M.5,.5 L.5,1\"\n            },\n            \"\": {\n              1: \"M.5,.5 L1,.5\",\n              3: \"M0,.5 L.5,.5 L.5,1\"\n            },\n            \"\": {\n              1: \"M.5,.5 L0,.5\",\n              3: \"M0.5,1 L.5,.5 L1,.5\"\n            },\n            \"\": {\n              1: \"M.5,0 L.5,.5 L1,.5\",\n              3: \"M.5,.5 L0,.5\"\n            },\n            \"\": {\n              1: \"M.5,0 L.5,.5 L0,.5\",\n              3: \"M.5,.5 L1,.5\"\n            },\n            \"\": {\n              1: \"M.5,.5 L.5,0\",\n              3: \"M0,.5 L1,.5\"\n            },\n            \"\": {\n              1: \"M0,.5 L1,.5\",\n              3: \"M.5,.5 L.5,0\"\n            },\n            \"\": {\n              1: \"M.5,.5 L1,.5\",\n              3: \"M.5,0 L.5,.5 L0,.5\"\n            },\n            \"\": {\n              1: \"M.5,.5 L0,.5\",\n              3: \"M.5,0 L.5,.5 L1,.5\"\n            },\n            \"\": {\n              1: \"M.5,0 L.5,1 M.5,.5 L1,.5\",\n              3: \"M.5,.5 L0,.5\"\n            },\n            \"\": {\n              1: \"M.5,0 L.5,1 M.5,.5 L0,.5\",\n              3: \"M.5,.5 L1,.5\"\n            },\n            \"\": {\n              1: \"M.5,0 L.5,1\",\n              3: \"M0,.5 L1,.5\"\n            },\n            \"\": {\n              1: \"M0,.5 L1,.5 M.5,.5 L.5,1\",\n              3: \"M.5,.5 L.5,0\"\n            },\n            \"\": {\n              1: \"M.5,.5 L.5,0 M0,.5 L1,.5\",\n              3: \"M.5,.5 L.5,1\"\n            },\n            \"\": {\n              1: \"M0,.5 L1,.5\",\n              3: \"M.5,0 L.5,1\"\n            },\n            \"\": {\n              1: \"M0.5,1 L.5,.5 L1,.5\",\n              3: \"M.5,0 L.5,.5 L0,.5\"\n            },\n            \"\": {\n              1: \"M0,.5 L.5,.5 L.5,1\",\n              3: \"M.5,0 L.5,.5 L1,.5\"\n            },\n            \"\": {\n              1: \"M.5,0 L.5,.5 L1,.5\",\n              3: \"M0,.5 L.5,.5 L.5,1\"\n            },\n            \"\": {\n              1: \"M.5,0 L.5,.5 L0,.5\",\n              3: \"M0.5,1 L.5,.5 L1,.5\"\n            },\n            \"\": {\n              1: \"M.5,.5 L.5,1\",\n              3: \"M.5,.5 L.5,0 M0,.5 L1,.5\"\n            },\n            \"\": {\n              1: \"M.5,.5 L.5,0\",\n              3: \"M0,.5 L1,.5 M.5,.5 L.5,1\"\n            },\n            \"\": {\n              1: \"M.5,.5 L1,.5\",\n              3: \"M.5,0 L.5,1 M.5,.5 L0,.5\"\n            },\n            \"\": {\n              1: \"M.5,.5 L0,.5\",\n              3: \"M.5,0 L.5,1 M.5,.5 L1,.5\"\n            },\n            \"\": {\n              1: \"M.1,.5 L.4,.5 M.6,.5 L.9,.5\"\n            },\n            \"\": {\n              3: \"M.1,.5 L.4,.5 M.6,.5 L.9,.5\"\n            },\n            \"\": {\n              1: \"M.0667,.5 L.2667,.5 M.4,.5 L.6,.5 M.7333,.5 L.9333,.5\"\n            },\n            \"\": {\n              3: \"M.0667,.5 L.2667,.5 M.4,.5 L.6,.5 M.7333,.5 L.9333,.5\"\n            },\n            \"\": {\n              1: \"M.05,.5 L.2,.5 M.3,.5 L.45,.5 M.55,.5 L.7,.5 M.8,.5 L.95,.5\"\n            },\n            \"\": {\n              3: \"M.05,.5 L.2,.5 M.3,.5 L.45,.5 M.55,.5 L.7,.5 M.8,.5 L.95,.5\"\n            },\n            \"\": {\n              1: \"M.5,.1 L.5,.4 M.5,.6 L.5,.9\"\n            },\n            \"\": {\n              3: \"M.5,.1 L.5,.4 M.5,.6 L.5,.9\"\n            },\n            \"\": {\n              1: \"M.5,.0667 L.5,.2667 M.5,.4 L.5,.6 M.5,.7333 L.5,.9333\"\n            },\n            \"\": {\n              3: \"M.5,.0667 L.5,.2667 M.5,.4 L.5,.6 M.5,.7333 L.5,.9333\"\n            },\n            \"\": {\n              1: \"M.5,.05 L.5,.2 M.5,.3 L.5,.45 L.5,.55 M.5,.7 L.5,.95\"\n            },\n            \"\": {\n              3: \"M.5,.05 L.5,.2 M.5,.3 L.5,.45 L.5,.55 M.5,.7 L.5,.95\"\n            },\n            \"\": {\n              1: function _(e, t) {\n                return \"M.5,1 L.5,\".concat(.5 + t / .15 * .5, \" C.5,\").concat(.5 + t / .15 * .5, \",.5,.5,1,.5\");\n              }\n            },\n            \"\": {\n              1: function _(e, t) {\n                return \"M.5,1 L.5,\".concat(.5 + t / .15 * .5, \" C.5,\").concat(.5 + t / .15 * .5, \",.5,.5,0,.5\");\n              }\n            },\n            \"\": {\n              1: function _(e, t) {\n                return \"M.5,0 L.5,\".concat(.5 - t / .15 * .5, \" C.5,\").concat(.5 - t / .15 * .5, \",.5,.5,0,.5\");\n              }\n            },\n            \"\": {\n              1: function _(e, t) {\n                return \"M.5,0 L.5,\".concat(.5 - t / .15 * .5, \" C.5,\").concat(.5 - t / .15 * .5, \",.5,.5,1,.5\");\n              }\n            }\n          }, t.powerlineDefinitions = {\n            \"\": {\n              d: \"M0,0 L1,.5 L0,1\",\n              type: 0,\n              rightPadding: 2\n            },\n            \"\": {\n              d: \"M-1,-.5 L1,.5 L-1,1.5\",\n              type: 1,\n              leftPadding: 1,\n              rightPadding: 1\n            },\n            \"\": {\n              d: \"M1,0 L0,.5 L1,1\",\n              type: 0,\n              leftPadding: 2\n            },\n            \"\": {\n              d: \"M2,-.5 L0,.5 L2,1.5\",\n              type: 1,\n              leftPadding: 1,\n              rightPadding: 1\n            },\n            \"\": {\n              d: \"M0,0 L0,1 C0.552,1,1,0.776,1,.5 C1,0.224,0.552,0,0,0\",\n              type: 0,\n              rightPadding: 1\n            },\n            \"\": {\n              d: \"M0,1 C0.552,1,1,0.776,1,.5 C1,0.224,0.552,0,0,0\",\n              type: 1,\n              rightPadding: 1\n            },\n            \"\": {\n              d: \"M1,0 L1,1 C0.448,1,0,0.776,0,.5 C0,0.224,0.448,0,1,0\",\n              type: 0,\n              leftPadding: 1\n            },\n            \"\": {\n              d: \"M1,1 C0.448,1,0,0.776,0,.5 C0,0.224,0.448,0,1,0\",\n              type: 1,\n              leftPadding: 1\n            },\n            \"\": {\n              d: \"M-.5,-.5 L1.5,1.5 L-.5,1.5\",\n              type: 0\n            },\n            \"\": {\n              d: \"M-.5,-.5 L1.5,1.5\",\n              type: 1,\n              leftPadding: 1,\n              rightPadding: 1\n            },\n            \"\": {\n              d: \"M1.5,-.5 L-.5,1.5 L1.5,1.5\",\n              type: 0\n            },\n            \"\": {\n              d: \"M1.5,-.5 L-.5,1.5 L-.5,-.5\",\n              type: 0\n            },\n            \"\": {\n              d: \"M1.5,-.5 L-.5,1.5\",\n              type: 1,\n              leftPadding: 1,\n              rightPadding: 1\n            },\n            \"\": {\n              d: \"M-.5,-.5 L1.5,1.5 L1.5,-.5\",\n              type: 0\n            }\n          }, t.powerlineDefinitions[\"\"] = t.powerlineDefinitions[\"\"], t.powerlineDefinitions[\"\"] = t.powerlineDefinitions[\"\"], t.tryDrawCustomChar = function (e, i, n, l, c, d, _, u) {\n            var g = t.blockElementDefinitions[i];\n            if (g) return function (e, t, i, s, r, o) {\n              for (var _n4 = 0; _n4 < t.length; _n4++) {\n                var _a2 = t[_n4],\n                  _h = r / 8,\n                  _l = o / 8;\n                e.fillRect(i + _a2.x * _h, s + _a2.y * _l, _a2.w * _h, _a2.h * _l);\n              }\n            }(e, g, n, l, c, d), !0;\n            var v = r[i];\n            if (v) return function (e, t, i, r, n, a) {\n              var h = o.get(t);\n              h || (h = new Map(), o.set(t, h));\n              var l = e.fillStyle;\n              if (\"string\" != typeof l) throw new Error(\"Unexpected fillStyle type \\\"\".concat(l, \"\\\"\"));\n              var c = h.get(l);\n              if (!c) {\n                var _i7 = t[0].length,\n                  _r2 = t.length,\n                  _o2 = document.createElement(\"canvas\");\n                _o2.width = _i7, _o2.height = _r2;\n                var _n5 = (0, s.throwIfFalsy)(_o2.getContext(\"2d\")),\n                  _a3 = new ImageData(_i7, _r2);\n                var _d2, _2, _u, _g2;\n                if (l.startsWith(\"#\")) _d2 = parseInt(l.slice(1, 3), 16), _2 = parseInt(l.slice(3, 5), 16), _u = parseInt(l.slice(5, 7), 16), _g2 = l.length > 7 && parseInt(l.slice(7, 9), 16) || 1;else {\n                  if (!l.startsWith(\"rgba\")) throw new Error(\"Unexpected fillStyle color format \\\"\".concat(l, \"\\\" when drawing pattern glyph\"));\n                  var _l$substring$split$ma = l.substring(5, l.length - 1).split(\",\").map(function (e) {\n                    return parseFloat(e);\n                  });\n                  var _l$substring$split$ma2 = _slicedToArray(_l$substring$split$ma, 4);\n                  _d2 = _l$substring$split$ma2[0];\n                  _2 = _l$substring$split$ma2[1];\n                  _u = _l$substring$split$ma2[2];\n                  _g2 = _l$substring$split$ma2[3];\n                }\n                for (var _e14 = 0; _e14 < _r2; _e14++) for (var _s4 = 0; _s4 < _i7; _s4++) _a3.data[4 * (_e14 * _i7 + _s4)] = _d2, _a3.data[4 * (_e14 * _i7 + _s4) + 1] = _2, _a3.data[4 * (_e14 * _i7 + _s4) + 2] = _u, _a3.data[4 * (_e14 * _i7 + _s4) + 3] = t[_e14][_s4] * (255 * _g2);\n                _n5.putImageData(_a3, 0, 0), c = (0, s.throwIfFalsy)(e.createPattern(_o2, null)), h.set(l, c);\n              }\n              e.fillStyle = c, e.fillRect(i, r, n, a);\n            }(e, v, n, l, c, d), !0;\n            var f = t.boxDrawingDefinitions[i];\n            if (f) return function (e, t, i, s, r, o, n) {\n              e.strokeStyle = e.fillStyle;\n              for (var _i8 = 0, _Object$entries = Object.entries(t); _i8 < _Object$entries.length; _i8++) {\n                var _Object$entries$_i = _slicedToArray(_Object$entries[_i8], 2),\n                  _l2 = _Object$entries$_i[0],\n                  _c = _Object$entries$_i[1];\n                var _t9 = void 0;\n                e.beginPath(), e.lineWidth = n * Number.parseInt(_l2), _t9 = \"function\" == typeof _c ? _c(.15, .15 / o * r) : _c;\n                var _iterator10 = _createForOfIteratorHelper(_t9.split(\" \")),\n                  _step10;\n                try {\n                  for (_iterator10.s(); !(_step10 = _iterator10.n()).done;) {\n                    var _l3 = _step10.value;\n                    var _t10 = _l3[0],\n                      _c2 = a[_t10];\n                    if (!_c2) {\n                      console.error(\"Could not find drawing instructions for \\\"\".concat(_t10, \"\\\"\"));\n                      continue;\n                    }\n                    var _d3 = _l3.substring(1).split(\",\");\n                    _d3[0] && _d3[1] && _c2(e, h(_d3, r, o, i, s, !0, n));\n                  }\n                } catch (err) {\n                  _iterator10.e(err);\n                } finally {\n                  _iterator10.f();\n                }\n                e.stroke(), e.closePath();\n              }\n            }(e, f, n, l, c, d, u), !0;\n            var C = t.powerlineDefinitions[i];\n            return !!C && (function (e, t, i, s, r, o, n, l) {\n              var c, d;\n              var _ = new Path2D();\n              _.rect(i, s, r, o), e.clip(_), e.beginPath();\n              var u = n / 12;\n              e.lineWidth = l * u;\n              var _iterator11 = _createForOfIteratorHelper(t.d.split(\" \")),\n                _step11;\n              try {\n                for (_iterator11.s(); !(_step11 = _iterator11.n()).done;) {\n                  var _n6 = _step11.value;\n                  var _3 = _n6[0],\n                    _g3 = a[_3];\n                  if (!_g3) {\n                    console.error(\"Could not find drawing instructions for \\\"\".concat(_3, \"\\\"\"));\n                    continue;\n                  }\n                  var _v = _n6.substring(1).split(\",\");\n                  _v[0] && _v[1] && _g3(e, h(_v, r, o, i, s, !1, l, (null !== (c = t.leftPadding) && void 0 !== c ? c : 0) * (u / 2), (null !== (d = t.rightPadding) && void 0 !== d ? d : 0) * (u / 2)));\n                }\n              } catch (err) {\n                _iterator11.e(err);\n              } finally {\n                _iterator11.f();\n              }\n              1 === t.type ? (e.strokeStyle = e.fillStyle, e.stroke()) : e.fill(), e.closePath();\n            }(e, C, n, l, c, d, _, u), !0);\n          };\n          var o = new Map();\n          function n(e, t) {\n            var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n            return Math.max(Math.min(e, t), i);\n          }\n          var a = {\n            C: function C(e, t) {\n              return e.bezierCurveTo(t[0], t[1], t[2], t[3], t[4], t[5]);\n            },\n            L: function L(e, t) {\n              return e.lineTo(t[0], t[1]);\n            },\n            M: function M(e, t) {\n              return e.moveTo(t[0], t[1]);\n            }\n          };\n          function h(e, t, i, s, r, o, a) {\n            var h = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : 0;\n            var l = arguments.length > 8 && arguments[8] !== undefined ? arguments[8] : 0;\n            var c = e.map(function (e) {\n              return parseFloat(e) || parseInt(e);\n            });\n            if (c.length < 2) throw new Error(\"Too few arguments for instruction\");\n            for (var _e15 = 0; _e15 < c.length; _e15 += 2) c[_e15] *= t - h * a - l * a, o && 0 !== c[_e15] && (c[_e15] = n(Math.round(c[_e15] + .5) - .5, t, 0)), c[_e15] += s + h * a;\n            for (var _e16 = 1; _e16 < c.length; _e16 += 2) c[_e16] *= i, o && 0 !== c[_e16] && (c[_e16] = n(Math.round(c[_e16] + .5) - .5, i, 0)), c[_e16] += r;\n            return c;\n          }\n        },\n        56: function _(e, t, i) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.observeDevicePixelDimensions = void 0;\n          var s = i(859);\n          t.observeDevicePixelDimensions = function (e, t, i) {\n            var r = new t.ResizeObserver(function (t) {\n              var s = t.find(function (t) {\n                return t.target === e;\n              });\n              if (!s) return;\n              if (!(\"devicePixelContentBoxSize\" in s)) return null == r || r.disconnect(), void (r = void 0);\n              var o = s.devicePixelContentBoxSize[0].inlineSize,\n                n = s.devicePixelContentBoxSize[0].blockSize;\n              o > 0 && n > 0 && i(o, n);\n            });\n            try {\n              r.observe(e, {\n                box: [\"device-pixel-content-box\"]\n              });\n            } catch (e) {\n              r.disconnect(), r = void 0;\n            }\n            return (0, s.toDisposable)(function () {\n              return null == r ? void 0 : r.disconnect();\n            });\n          };\n        },\n        374: function _(e, t) {\n          function i(e) {\n            return 57508 <= e && e <= 57558;\n          }\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.createRenderDimensions = t.excludeFromContrastRatioDemands = t.isRestrictedPowerlineGlyph = t.isPowerlineGlyph = t.throwIfFalsy = void 0, t.throwIfFalsy = function (e) {\n            if (!e) throw new Error(\"value must not be falsy\");\n            return e;\n          }, t.isPowerlineGlyph = i, t.isRestrictedPowerlineGlyph = function (e) {\n            return 57520 <= e && e <= 57527;\n          }, t.excludeFromContrastRatioDemands = function (e) {\n            return i(e) || function (e) {\n              return 9472 <= e && e <= 9631;\n            }(e);\n          }, t.createRenderDimensions = function () {\n            return {\n              css: {\n                canvas: {\n                  width: 0,\n                  height: 0\n                },\n                cell: {\n                  width: 0,\n                  height: 0\n                }\n              },\n              device: {\n                canvas: {\n                  width: 0,\n                  height: 0\n                },\n                cell: {\n                  width: 0,\n                  height: 0\n                },\n                char: {\n                  width: 0,\n                  height: 0,\n                  left: 0,\n                  top: 0\n                }\n              }\n            };\n          };\n        },\n        296: function _(e, t) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.createSelectionRenderModel = void 0;\n          var i = /*#__PURE__*/function () {\n            function i() {\n              _classCallCheck(this, i);\n              this.clear();\n            }\n            _createClass(i, [{\n              key: \"clear\",\n              value: function clear() {\n                this.hasSelection = !1, this.columnSelectMode = !1, this.viewportStartRow = 0, this.viewportEndRow = 0, this.viewportCappedStartRow = 0, this.viewportCappedEndRow = 0, this.startCol = 0, this.endCol = 0, this.selectionStart = void 0, this.selectionEnd = void 0;\n              }\n            }, {\n              key: \"update\",\n              value: function update(e, t, _i9) {\n                var s = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : !1;\n                if (this.selectionStart = t, this.selectionEnd = _i9, !t || !_i9 || t[0] === _i9[0] && t[1] === _i9[1]) return void this.clear();\n                var r = t[1] - e.buffer.active.viewportY,\n                  o = _i9[1] - e.buffer.active.viewportY,\n                  n = Math.max(r, 0),\n                  a = Math.min(o, e.rows - 1);\n                n >= e.rows || a < 0 ? this.clear() : (this.hasSelection = !0, this.columnSelectMode = s, this.viewportStartRow = r, this.viewportEndRow = o, this.viewportCappedStartRow = n, this.viewportCappedEndRow = a, this.startCol = t[0], this.endCol = _i9[0]);\n              }\n            }, {\n              key: \"isCellSelected\",\n              value: function isCellSelected(e, t, _i10) {\n                return !!this.hasSelection && (_i10 -= e.buffer.active.viewportY, this.columnSelectMode ? this.startCol <= this.endCol ? t >= this.startCol && _i10 >= this.viewportCappedStartRow && t < this.endCol && _i10 <= this.viewportCappedEndRow : t < this.startCol && _i10 >= this.viewportCappedStartRow && t >= this.endCol && _i10 <= this.viewportCappedEndRow : _i10 > this.viewportStartRow && _i10 < this.viewportEndRow || this.viewportStartRow === this.viewportEndRow && _i10 === this.viewportStartRow && t >= this.startCol && t < this.endCol || this.viewportStartRow < this.viewportEndRow && _i10 === this.viewportEndRow && t < this.endCol || this.viewportStartRow < this.viewportEndRow && _i10 === this.viewportStartRow && t >= this.startCol);\n              }\n            }]);\n            return i;\n          }();\n          t.createSelectionRenderModel = function () {\n            return new i();\n          };\n        },\n        509: function _(e, t, i) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.TextureAtlas = void 0;\n          var s = i(237),\n            r = i(855),\n            o = i(147),\n            n = i(160),\n            a = i(860),\n            h = i(374),\n            l = i(485),\n            c = i(385),\n            d = i(345),\n            _ = {\n              texturePage: 0,\n              texturePosition: {\n                x: 0,\n                y: 0\n              },\n              texturePositionClipSpace: {\n                x: 0,\n                y: 0\n              },\n              offset: {\n                x: 0,\n                y: 0\n              },\n              size: {\n                x: 0,\n                y: 0\n              },\n              sizeClipSpace: {\n                x: 0,\n                y: 0\n              }\n            };\n          var u;\n          var g = /*#__PURE__*/function () {\n            function g(e, t, i) {\n              _classCallCheck(this, g);\n              this._document = e, this._config = t, this._unicodeService = i, this._didWarmUp = !1, this._cacheMap = new l.FourKeyMap(), this._cacheMapCombined = new l.FourKeyMap(), this._pages = [], this._activePages = [], this._workBoundingBox = {\n                top: 0,\n                left: 0,\n                bottom: 0,\n                right: 0\n              }, this._workAttributeData = new o.AttributeData(), this._textureSize = 512, this._onAddTextureAtlasCanvas = new d.EventEmitter(), this.onAddTextureAtlasCanvas = this._onAddTextureAtlasCanvas.event, this._onRemoveTextureAtlasCanvas = new d.EventEmitter(), this.onRemoveTextureAtlasCanvas = this._onRemoveTextureAtlasCanvas.event, this._requestClearModel = !1, this._createNewPage(), this._tmpCanvas = C(e, 4 * this._config.deviceCellWidth + 4, this._config.deviceCellHeight + 4), this._tmpCtx = (0, h.throwIfFalsy)(this._tmpCanvas.getContext(\"2d\", {\n                alpha: this._config.allowTransparency,\n                willReadFrequently: !0\n              }));\n            }\n            _createClass(g, [{\n              key: \"pages\",\n              get: function get() {\n                return this._pages;\n              }\n            }, {\n              key: \"dispose\",\n              value: function dispose() {\n                var _iterator12 = _createForOfIteratorHelper(this.pages),\n                  _step12;\n                try {\n                  for (_iterator12.s(); !(_step12 = _iterator12.n()).done;) {\n                    var _e17 = _step12.value;\n                    _e17.canvas.remove();\n                  }\n                } catch (err) {\n                  _iterator12.e(err);\n                } finally {\n                  _iterator12.f();\n                }\n                this._onAddTextureAtlasCanvas.dispose();\n              }\n            }, {\n              key: \"warmUp\",\n              value: function warmUp() {\n                this._didWarmUp || (this._doWarmUp(), this._didWarmUp = !0);\n              }\n            }, {\n              key: \"_doWarmUp\",\n              value: function _doWarmUp() {\n                var _this11 = this;\n                var e = new c.IdleTaskQueue();\n                var _loop2 = function _loop2(_t11) {\n                  e.enqueue(function () {\n                    if (!_this11._cacheMap.get(_t11, r.DEFAULT_COLOR, r.DEFAULT_COLOR, r.DEFAULT_EXT)) {\n                      var _e18 = _this11._drawToCache(_t11, r.DEFAULT_COLOR, r.DEFAULT_COLOR, r.DEFAULT_EXT);\n                      _this11._cacheMap.set(_t11, r.DEFAULT_COLOR, r.DEFAULT_COLOR, r.DEFAULT_EXT, _e18);\n                    }\n                  });\n                };\n                for (var _t11 = 33; _t11 < 126; _t11++) {\n                  _loop2(_t11);\n                }\n              }\n            }, {\n              key: \"beginFrame\",\n              value: function beginFrame() {\n                return this._requestClearModel;\n              }\n            }, {\n              key: \"clearTexture\",\n              value: function clearTexture() {\n                if (0 !== this._pages[0].currentRow.x || 0 !== this._pages[0].currentRow.y) {\n                  var _iterator13 = _createForOfIteratorHelper(this._pages),\n                    _step13;\n                  try {\n                    for (_iterator13.s(); !(_step13 = _iterator13.n()).done;) {\n                      var _e19 = _step13.value;\n                      _e19.clear();\n                    }\n                  } catch (err) {\n                    _iterator13.e(err);\n                  } finally {\n                    _iterator13.f();\n                  }\n                  this._cacheMap.clear(), this._cacheMapCombined.clear(), this._didWarmUp = !1;\n                }\n              }\n            }, {\n              key: \"_createNewPage\",\n              value: function _createNewPage() {\n                var _this12 = this;\n                g.maxAtlasPages && this._pages.length >= Math.max(4, g.maxAtlasPages / 2) && queueMicrotask(function () {\n                  var e = _this12._pages.filter(function (e) {\n                    return 2 * e.canvas.width <= (g.maxTextureSize || 4096);\n                  }).sort(function (e, t) {\n                    return t.canvas.width !== e.canvas.width ? t.canvas.width - e.canvas.width : t.percentageUsed - e.percentageUsed;\n                  });\n                  var t = -1,\n                    i = 0;\n                  for (var _s5 = 0; _s5 < e.length; _s5++) if (e[_s5].canvas.width !== i) t = _s5, i = e[_s5].canvas.width;else if (_s5 - t == 3) break;\n                  var s = e.slice(t, t + 4),\n                    r = s.map(function (e) {\n                      return e.glyphs[0].texturePage;\n                    }).sort(function (e, t) {\n                      return e > t ? 1 : -1;\n                    }),\n                    o = r[0],\n                    n = _this12._mergePages(s, o);\n                  n.version++, _this12._pages[o] = n;\n                  for (var _e20 = r.length - 1; _e20 >= 1; _e20--) _this12._deletePage(r[_e20]);\n                  _this12._requestClearModel = !0, _this12._onAddTextureAtlasCanvas.fire(n.canvas);\n                });\n                var e = new v(this._document, this._textureSize);\n                return this._pages.push(e), this._activePages.push(e), this._onAddTextureAtlasCanvas.fire(e.canvas), e;\n              }\n            }, {\n              key: \"_mergePages\",\n              value: function _mergePages(e, t) {\n                var i = 2 * e[0].canvas.width,\n                  s = new v(this._document, i, e);\n                var _iterator14 = _createForOfIteratorHelper(e.entries()),\n                  _step14;\n                try {\n                  for (_iterator14.s(); !(_step14 = _iterator14.n()).done;) {\n                    var _step14$value = _slicedToArray(_step14.value, 2),\n                      _r3 = _step14$value[0],\n                      _o3 = _step14$value[1];\n                    var _e21 = _r3 * _o3.canvas.width % i,\n                      _n7 = Math.floor(_r3 / 2) * _o3.canvas.height;\n                    s.ctx.drawImage(_o3.canvas, _e21, _n7);\n                    var _iterator15 = _createForOfIteratorHelper(_o3.glyphs),\n                      _step15;\n                    try {\n                      for (_iterator15.s(); !(_step15 = _iterator15.n()).done;) {\n                        var _s6 = _step15.value;\n                        _s6.texturePage = t, _s6.sizeClipSpace.x = _s6.size.x / i, _s6.sizeClipSpace.y = _s6.size.y / i, _s6.texturePosition.x += _e21, _s6.texturePosition.y += _n7, _s6.texturePositionClipSpace.x = _s6.texturePosition.x / i, _s6.texturePositionClipSpace.y = _s6.texturePosition.y / i;\n                      }\n                    } catch (err) {\n                      _iterator15.e(err);\n                    } finally {\n                      _iterator15.f();\n                    }\n                    this._onRemoveTextureAtlasCanvas.fire(_o3.canvas);\n                    var _a4 = this._activePages.indexOf(_o3);\n                    -1 !== _a4 && this._activePages.splice(_a4, 1);\n                  }\n                } catch (err) {\n                  _iterator14.e(err);\n                } finally {\n                  _iterator14.f();\n                }\n                return s;\n              }\n            }, {\n              key: \"_deletePage\",\n              value: function _deletePage(e) {\n                this._pages.splice(e, 1);\n                for (var _t12 = e; _t12 < this._pages.length; _t12++) {\n                  var _e22 = this._pages[_t12];\n                  var _iterator16 = _createForOfIteratorHelper(_e22.glyphs),\n                    _step16;\n                  try {\n                    for (_iterator16.s(); !(_step16 = _iterator16.n()).done;) {\n                      var _t13 = _step16.value;\n                      _t13.texturePage--;\n                    }\n                  } catch (err) {\n                    _iterator16.e(err);\n                  } finally {\n                    _iterator16.f();\n                  }\n                  _e22.version++;\n                }\n              }\n            }, {\n              key: \"getRasterizedGlyphCombinedChar\",\n              value: function getRasterizedGlyphCombinedChar(e, t, i, s) {\n                return this._getFromCacheMap(this._cacheMapCombined, e, t, i, s);\n              }\n            }, {\n              key: \"getRasterizedGlyph\",\n              value: function getRasterizedGlyph(e, t, i, s) {\n                return this._getFromCacheMap(this._cacheMap, e, t, i, s);\n              }\n            }, {\n              key: \"_getFromCacheMap\",\n              value: function _getFromCacheMap(e, t, i, s, r) {\n                return u = e.get(t, i, s, r), u || (u = this._drawToCache(t, i, s, r), e.set(t, i, s, r, u)), u;\n              }\n            }, {\n              key: \"_getColorFromAnsiIndex\",\n              value: function _getColorFromAnsiIndex(e) {\n                if (e >= this._config.colors.ansi.length) throw new Error(\"No color found for idx \" + e);\n                return this._config.colors.ansi[e];\n              }\n            }, {\n              key: \"_getBackgroundColor\",\n              value: function _getBackgroundColor(e, t, i, r) {\n                if (this._config.allowTransparency) return n.NULL_COLOR;\n                var a;\n                switch (e) {\n                  case 16777216:\n                  case 33554432:\n                    a = this._getColorFromAnsiIndex(t);\n                    break;\n                  case 50331648:\n                    var _e23 = o.AttributeData.toColorRGB(t);\n                    a = n.rgba.toColor(_e23[0], _e23[1], _e23[2]);\n                    break;\n                  default:\n                    a = i ? this._config.colors.foreground : this._config.colors.background;\n                }\n                return r && (a = n.color.blend(this._config.colors.background, n.color.multiplyOpacity(a, s.DIM_OPACITY))), a;\n              }\n            }, {\n              key: \"_getForegroundColor\",\n              value: function _getForegroundColor(e, t, i, r, a, h, l, c, d, _) {\n                var u = this._getMinimumContrastColor(e, t, i, r, a, h, !1, d, _);\n                if (u) return u;\n                var _g4;\n                switch (a) {\n                  case 16777216:\n                  case 33554432:\n                    this._config.drawBoldTextInBrightColors && d && h < 8 && (h += 8), _g4 = this._getColorFromAnsiIndex(h);\n                    break;\n                  case 50331648:\n                    var _e24 = o.AttributeData.toColorRGB(h);\n                    _g4 = n.rgba.toColor(_e24[0], _e24[1], _e24[2]);\n                    break;\n                  default:\n                    _g4 = l ? this._config.colors.background : this._config.colors.foreground;\n                }\n                return this._config.allowTransparency && (_g4 = n.color.opaque(_g4)), c && (_g4 = n.color.multiplyOpacity(_g4, s.DIM_OPACITY)), _g4;\n              }\n            }, {\n              key: \"_resolveBackgroundRgba\",\n              value: function _resolveBackgroundRgba(e, t, i) {\n                switch (e) {\n                  case 16777216:\n                  case 33554432:\n                    return this._getColorFromAnsiIndex(t).rgba;\n                  case 50331648:\n                    return t << 8;\n                  default:\n                    return i ? this._config.colors.foreground.rgba : this._config.colors.background.rgba;\n                }\n              }\n            }, {\n              key: \"_resolveForegroundRgba\",\n              value: function _resolveForegroundRgba(e, t, i, s) {\n                switch (e) {\n                  case 16777216:\n                  case 33554432:\n                    return this._config.drawBoldTextInBrightColors && s && t < 8 && (t += 8), this._getColorFromAnsiIndex(t).rgba;\n                  case 50331648:\n                    return t << 8;\n                  default:\n                    return i ? this._config.colors.background.rgba : this._config.colors.foreground.rgba;\n                }\n              }\n            }, {\n              key: \"_getMinimumContrastColor\",\n              value: function _getMinimumContrastColor(e, t, i, s, r, o, a, h, l) {\n                if (1 === this._config.minimumContrastRatio || l) return;\n                var c = this._config.colors.contrastCache.getColor(e, s);\n                if (void 0 !== c) return c || void 0;\n                var d = this._resolveBackgroundRgba(t, i, a),\n                  _ = this._resolveForegroundRgba(r, o, a, h),\n                  u = n.rgba.ensureContrastRatio(d, _, this._config.minimumContrastRatio);\n                if (!u) return void this._config.colors.contrastCache.setColor(e, s, null);\n                var _g5 = n.rgba.toColor(u >> 24 & 255, u >> 16 & 255, u >> 8 & 255);\n                return this._config.colors.contrastCache.setColor(e, s, _g5), _g5;\n              }\n            }, {\n              key: \"_drawToCache\",\n              value: function _drawToCache(e, t, i, r) {\n                var n = \"number\" == typeof e ? String.fromCharCode(e) : e,\n                  l = this._config.deviceCellWidth * Math.max(n.length, 2) + 4;\n                this._tmpCanvas.width < l && (this._tmpCanvas.width = l);\n                var c = this._config.deviceCellHeight + 8;\n                if (this._tmpCanvas.height < c && (this._tmpCanvas.height = c), this._tmpCtx.save(), this._workAttributeData.fg = i, this._workAttributeData.bg = t, this._workAttributeData.extended.ext = r, this._workAttributeData.isInvisible()) return _;\n                var d = !!this._workAttributeData.isBold(),\n                  u = !!this._workAttributeData.isInverse(),\n                  _g6 = !!this._workAttributeData.isDim(),\n                  v = !!this._workAttributeData.isItalic(),\n                  C = !!this._workAttributeData.isUnderline(),\n                  p = !!this._workAttributeData.isStrikethrough();\n                var m = this._workAttributeData.getFgColor(),\n                  x = this._workAttributeData.getFgColorMode(),\n                  L = this._workAttributeData.getBgColor(),\n                  w = this._workAttributeData.getBgColorMode();\n                if (u) {\n                  var _e25 = m;\n                  m = L, L = _e25;\n                  var _t14 = x;\n                  x = w, w = _t14;\n                }\n                var b = this._getBackgroundColor(w, L, u, _g6);\n                this._tmpCtx.globalCompositeOperation = \"copy\", this._tmpCtx.fillStyle = b.css, this._tmpCtx.fillRect(0, 0, this._tmpCanvas.width, this._tmpCanvas.height), this._tmpCtx.globalCompositeOperation = \"source-over\";\n                var M = d ? this._config.fontWeightBold : this._config.fontWeight,\n                  R = v ? \"italic\" : \"\";\n                this._tmpCtx.font = \"\".concat(R, \" \").concat(M, \" \").concat(this._config.fontSize * this._config.devicePixelRatio, \"px \").concat(this._config.fontFamily), this._tmpCtx.textBaseline = s.TEXT_BASELINE;\n                var y = 1 === n.length && (0, h.isPowerlineGlyph)(n.charCodeAt(0)),\n                  A = 1 === n.length && (0, h.isRestrictedPowerlineGlyph)(n.charCodeAt(0)),\n                  E = this._getForegroundColor(t, w, L, i, x, m, u, _g6, d, (0, h.excludeFromContrastRatioDemands)(n.charCodeAt(0)));\n                this._tmpCtx.fillStyle = E.css;\n                var T = A ? 0 : 4;\n                var S = !1;\n                !1 !== this._config.customGlyphs && (S = (0, a.tryDrawCustomChar)(this._tmpCtx, n, T, T, this._config.deviceCellWidth, this._config.deviceCellHeight, this._config.fontSize, this._config.devicePixelRatio));\n                var D,\n                  B = !y;\n                if (D = \"number\" == typeof e ? this._unicodeService.wcwidth(e) : this._unicodeService.getStringCellWidth(e), C) {\n                  this._tmpCtx.save();\n                  var _e26 = Math.max(1, Math.floor(this._config.fontSize * this._config.devicePixelRatio / 15)),\n                    _t15 = _e26 % 2 == 1 ? .5 : 0;\n                  if (this._tmpCtx.lineWidth = _e26, this._workAttributeData.isUnderlineColorDefault()) this._tmpCtx.strokeStyle = this._tmpCtx.fillStyle;else if (this._workAttributeData.isUnderlineColorRGB()) B = !1, this._tmpCtx.strokeStyle = \"rgb(\".concat(o.AttributeData.toColorRGB(this._workAttributeData.getUnderlineColor()).join(\",\"), \")\");else {\n                    B = !1;\n                    var _e27 = this._workAttributeData.getUnderlineColor();\n                    this._config.drawBoldTextInBrightColors && this._workAttributeData.isBold() && _e27 < 8 && (_e27 += 8), this._tmpCtx.strokeStyle = this._getColorFromAnsiIndex(_e27).css;\n                  }\n                  this._tmpCtx.beginPath();\n                  var _i11 = T,\n                    _s7 = Math.ceil(T + this._config.deviceCharHeight) - _t15,\n                    _r4 = T + this._config.deviceCharHeight + _e26 - _t15,\n                    _a5 = Math.ceil(T + this._config.deviceCharHeight + 2 * _e26) - _t15;\n                  for (var _o4 = 0; _o4 < D; _o4++) {\n                    this._tmpCtx.save();\n                    var _n8 = _i11 + _o4 * this._config.deviceCellWidth,\n                      _h2 = _i11 + (_o4 + 1) * this._config.deviceCellWidth,\n                      _l4 = _n8 + this._config.deviceCellWidth / 2;\n                    switch (this._workAttributeData.extended.underlineStyle) {\n                      case 2:\n                        this._tmpCtx.moveTo(_n8, _s7), this._tmpCtx.lineTo(_h2, _s7), this._tmpCtx.moveTo(_n8, _a5), this._tmpCtx.lineTo(_h2, _a5);\n                        break;\n                      case 3:\n                        var _i12 = _e26 <= 1 ? _a5 : Math.ceil(T + this._config.deviceCharHeight - _e26 / 2) - _t15,\n                          _o5 = _e26 <= 1 ? _s7 : Math.ceil(T + this._config.deviceCharHeight + _e26 / 2) - _t15,\n                          _c3 = new Path2D();\n                        _c3.rect(_n8, _s7, this._config.deviceCellWidth, _a5 - _s7), this._tmpCtx.clip(_c3), this._tmpCtx.moveTo(_n8 - this._config.deviceCellWidth / 2, _r4), this._tmpCtx.bezierCurveTo(_n8 - this._config.deviceCellWidth / 2, _o5, _n8, _o5, _n8, _r4), this._tmpCtx.bezierCurveTo(_n8, _i12, _l4, _i12, _l4, _r4), this._tmpCtx.bezierCurveTo(_l4, _o5, _h2, _o5, _h2, _r4), this._tmpCtx.bezierCurveTo(_h2, _i12, _h2 + this._config.deviceCellWidth / 2, _i12, _h2 + this._config.deviceCellWidth / 2, _r4);\n                        break;\n                      case 4:\n                        this._tmpCtx.setLineDash([2 * this._config.devicePixelRatio, this._config.devicePixelRatio]), this._tmpCtx.moveTo(_n8, _s7), this._tmpCtx.lineTo(_h2, _s7);\n                        break;\n                      case 5:\n                        this._tmpCtx.setLineDash([4 * this._config.devicePixelRatio, 3 * this._config.devicePixelRatio]), this._tmpCtx.moveTo(_n8, _s7), this._tmpCtx.lineTo(_h2, _s7);\n                        break;\n                      default:\n                        this._tmpCtx.moveTo(_n8, _s7), this._tmpCtx.lineTo(_h2, _s7);\n                    }\n                    this._tmpCtx.stroke(), this._tmpCtx.restore();\n                  }\n                  if (this._tmpCtx.restore(), !S && this._config.fontSize >= 12 && !this._config.allowTransparency && \" \" !== n) {\n                    this._tmpCtx.save(), this._tmpCtx.textBaseline = \"alphabetic\";\n                    var _t16 = this._tmpCtx.measureText(n);\n                    if (this._tmpCtx.restore(), \"actualBoundingBoxDescent\" in _t16 && _t16.actualBoundingBoxDescent > 0) {\n                      this._tmpCtx.save();\n                      var _t17 = new Path2D();\n                      _t17.rect(_i11, _s7 - Math.ceil(_e26 / 2), this._config.deviceCellWidth, _a5 - _s7 + Math.ceil(_e26 / 2)), this._tmpCtx.clip(_t17), this._tmpCtx.lineWidth = 3 * this._config.devicePixelRatio, this._tmpCtx.strokeStyle = b.css, this._tmpCtx.strokeText(n, T, T + this._config.deviceCharHeight), this._tmpCtx.restore();\n                    }\n                  }\n                }\n                if (S || this._tmpCtx.fillText(n, T, T + this._config.deviceCharHeight), \"_\" === n && !this._config.allowTransparency) {\n                  var _e28 = f(this._tmpCtx.getImageData(T, T, this._config.deviceCellWidth, this._config.deviceCellHeight), b, E, B);\n                  if (_e28) for (var _t18 = 1; _t18 <= 5 && (this._tmpCtx.save(), this._tmpCtx.fillStyle = b.css, this._tmpCtx.fillRect(0, 0, this._tmpCanvas.width, this._tmpCanvas.height), this._tmpCtx.restore(), this._tmpCtx.fillText(n, T, T + this._config.deviceCharHeight - _t18), _e28 = f(this._tmpCtx.getImageData(T, T, this._config.deviceCellWidth, this._config.deviceCellHeight), b, E, B), _e28); _t18++);\n                }\n                if (p) {\n                  var _e29 = Math.max(1, Math.floor(this._config.fontSize * this._config.devicePixelRatio / 10)),\n                    _t19 = this._tmpCtx.lineWidth % 2 == 1 ? .5 : 0;\n                  this._tmpCtx.lineWidth = _e29, this._tmpCtx.strokeStyle = this._tmpCtx.fillStyle, this._tmpCtx.beginPath(), this._tmpCtx.moveTo(T, T + Math.floor(this._config.deviceCharHeight / 2) - _t19), this._tmpCtx.lineTo(T + this._config.deviceCharWidth * D, T + Math.floor(this._config.deviceCharHeight / 2) - _t19), this._tmpCtx.stroke();\n                }\n                this._tmpCtx.restore();\n                var P = this._tmpCtx.getImageData(0, 0, this._tmpCanvas.width, this._tmpCanvas.height);\n                var F;\n                if (F = this._config.allowTransparency ? function (e) {\n                  for (var _t20 = 0; _t20 < e.data.length; _t20 += 4) if (e.data[_t20 + 3] > 0) return !1;\n                  return !0;\n                }(P) : f(P, b, E, B), F) return _;\n                var I = this._findGlyphBoundingBox(P, this._workBoundingBox, l, A, S, T);\n                var $, k;\n                for (;;) {\n                  if (0 === this._activePages.length) {\n                    var _e30 = this._createNewPage();\n                    $ = _e30, k = _e30.currentRow, k.height = I.size.y;\n                    break;\n                  }\n                  $ = this._activePages[this._activePages.length - 1], k = $.currentRow;\n                  var _iterator17 = _createForOfIteratorHelper(this._activePages),\n                    _step17;\n                  try {\n                    for (_iterator17.s(); !(_step17 = _iterator17.n()).done;) {\n                      var _e34 = _step17.value;\n                      I.size.y <= _e34.currentRow.height && ($ = _e34, k = _e34.currentRow);\n                    }\n                  } catch (err) {\n                    _iterator17.e(err);\n                  } finally {\n                    _iterator17.f();\n                  }\n                  for (var _e31 = this._activePages.length - 1; _e31 >= 0; _e31--) {\n                    var _iterator18 = _createForOfIteratorHelper(this._activePages[_e31].fixedRows),\n                      _step18;\n                    try {\n                      for (_iterator18.s(); !(_step18 = _iterator18.n()).done;) {\n                        var _t21 = _step18.value;\n                        _t21.height <= k.height && I.size.y <= _t21.height && ($ = this._activePages[_e31], k = _t21);\n                      }\n                    } catch (err) {\n                      _iterator18.e(err);\n                    } finally {\n                      _iterator18.f();\n                    }\n                  }\n                  if (k.y + I.size.y >= $.canvas.height || k.height > I.size.y + 2) {\n                    var _e32 = !1;\n                    if ($.currentRow.y + $.currentRow.height + I.size.y >= $.canvas.height) {\n                      var _t22 = void 0;\n                      var _iterator19 = _createForOfIteratorHelper(this._activePages),\n                        _step19;\n                      try {\n                        for (_iterator19.s(); !(_step19 = _iterator19.n()).done;) {\n                          var _e33 = _step19.value;\n                          if (_e33.currentRow.y + _e33.currentRow.height + I.size.y < _e33.canvas.height) {\n                            _t22 = _e33;\n                            break;\n                          }\n                        }\n                      } catch (err) {\n                        _iterator19.e(err);\n                      } finally {\n                        _iterator19.f();\n                      }\n                      if (_t22) $ = _t22;else {\n                        var _t23 = this._createNewPage();\n                        $ = _t23, k = _t23.currentRow, k.height = I.size.y, _e32 = !0;\n                      }\n                    }\n                    _e32 || ($.currentRow.height > 0 && $.fixedRows.push($.currentRow), k = {\n                      x: 0,\n                      y: $.currentRow.y + $.currentRow.height,\n                      height: I.size.y\n                    }, $.fixedRows.push(k), $.currentRow = {\n                      x: 0,\n                      y: k.y + k.height,\n                      height: 0\n                    });\n                  }\n                  if (k.x + I.size.x <= $.canvas.width) break;\n                  k === $.currentRow ? (k.x = 0, k.y += k.height, k.height = 0) : $.fixedRows.splice($.fixedRows.indexOf(k), 1);\n                }\n                return I.texturePage = this._pages.indexOf($), I.texturePosition.x = k.x, I.texturePosition.y = k.y, I.texturePositionClipSpace.x = k.x / $.canvas.width, I.texturePositionClipSpace.y = k.y / $.canvas.height, I.sizeClipSpace.x /= $.canvas.width, I.sizeClipSpace.y /= $.canvas.height, k.height = Math.max(k.height, I.size.y), k.x += I.size.x, $.ctx.putImageData(P, I.texturePosition.x - this._workBoundingBox.left, I.texturePosition.y - this._workBoundingBox.top, this._workBoundingBox.left, this._workBoundingBox.top, I.size.x, I.size.y), $.addGlyph(I), $.version++, I;\n              }\n            }, {\n              key: \"_findGlyphBoundingBox\",\n              value: function _findGlyphBoundingBox(e, t, i, s, r, o) {\n                t.top = 0;\n                var n = s ? this._config.deviceCellHeight : this._tmpCanvas.height,\n                  a = s ? this._config.deviceCellWidth : i;\n                var h = !1;\n                for (var _i13 = 0; _i13 < n; _i13++) {\n                  for (var _s8 = 0; _s8 < a; _s8++) {\n                    var _r5 = _i13 * this._tmpCanvas.width * 4 + 4 * _s8 + 3;\n                    if (0 !== e.data[_r5]) {\n                      t.top = _i13, h = !0;\n                      break;\n                    }\n                  }\n                  if (h) break;\n                }\n                t.left = 0, h = !1;\n                for (var _i14 = 0; _i14 < o + a; _i14++) {\n                  for (var _s9 = 0; _s9 < n; _s9++) {\n                    var _r6 = _s9 * this._tmpCanvas.width * 4 + 4 * _i14 + 3;\n                    if (0 !== e.data[_r6]) {\n                      t.left = _i14, h = !0;\n                      break;\n                    }\n                  }\n                  if (h) break;\n                }\n                t.right = a, h = !1;\n                for (var _i15 = o + a - 1; _i15 >= o; _i15--) {\n                  for (var _s10 = 0; _s10 < n; _s10++) {\n                    var _r7 = _s10 * this._tmpCanvas.width * 4 + 4 * _i15 + 3;\n                    if (0 !== e.data[_r7]) {\n                      t.right = _i15, h = !0;\n                      break;\n                    }\n                  }\n                  if (h) break;\n                }\n                t.bottom = n, h = !1;\n                for (var _i16 = n - 1; _i16 >= 0; _i16--) {\n                  for (var _s11 = 0; _s11 < a; _s11++) {\n                    var _r8 = _i16 * this._tmpCanvas.width * 4 + 4 * _s11 + 3;\n                    if (0 !== e.data[_r8]) {\n                      t.bottom = _i16, h = !0;\n                      break;\n                    }\n                  }\n                  if (h) break;\n                }\n                return {\n                  texturePage: 0,\n                  texturePosition: {\n                    x: 0,\n                    y: 0\n                  },\n                  texturePositionClipSpace: {\n                    x: 0,\n                    y: 0\n                  },\n                  size: {\n                    x: t.right - t.left + 1,\n                    y: t.bottom - t.top + 1\n                  },\n                  sizeClipSpace: {\n                    x: t.right - t.left + 1,\n                    y: t.bottom - t.top + 1\n                  },\n                  offset: {\n                    x: -t.left + o + (s || r ? Math.floor((this._config.deviceCellWidth - this._config.deviceCharWidth) / 2) : 0),\n                    y: -t.top + o + (s || r ? 1 === this._config.lineHeight ? 0 : Math.round((this._config.deviceCellHeight - this._config.deviceCharHeight) / 2) : 0)\n                  }\n                };\n              }\n            }]);\n            return g;\n          }();\n          t.TextureAtlas = g;\n          var v = /*#__PURE__*/function () {\n            function v(e, t, i) {\n              _classCallCheck(this, v);\n              if (this._usedPixels = 0, this._glyphs = [], this.version = 0, this.currentRow = {\n                x: 0,\n                y: 0,\n                height: 0\n              }, this.fixedRows = [], i) {\n                var _iterator20 = _createForOfIteratorHelper(i),\n                  _step20;\n                try {\n                  for (_iterator20.s(); !(_step20 = _iterator20.n()).done;) {\n                    var _this$_glyphs;\n                    var _e35 = _step20.value;\n                    (_this$_glyphs = this._glyphs).push.apply(_this$_glyphs, _toConsumableArray(_e35.glyphs)), this._usedPixels += _e35._usedPixels;\n                  }\n                } catch (err) {\n                  _iterator20.e(err);\n                } finally {\n                  _iterator20.f();\n                }\n              }\n              this.canvas = C(e, t, t), this.ctx = (0, h.throwIfFalsy)(this.canvas.getContext(\"2d\", {\n                alpha: !0\n              }));\n            }\n            _createClass(v, [{\n              key: \"percentageUsed\",\n              get: function get() {\n                return this._usedPixels / (this.canvas.width * this.canvas.height);\n              }\n            }, {\n              key: \"glyphs\",\n              get: function get() {\n                return this._glyphs;\n              }\n            }, {\n              key: \"addGlyph\",\n              value: function addGlyph(e) {\n                this._glyphs.push(e), this._usedPixels += e.size.x * e.size.y;\n              }\n            }, {\n              key: \"clear\",\n              value: function clear() {\n                this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height), this.currentRow.x = 0, this.currentRow.y = 0, this.currentRow.height = 0, this.fixedRows.length = 0, this.version++;\n              }\n            }]);\n            return v;\n          }();\n          function f(e, t, i, s) {\n            var r = t.rgba >>> 24,\n              o = t.rgba >>> 16 & 255,\n              n = t.rgba >>> 8 & 255,\n              a = i.rgba >>> 24,\n              h = i.rgba >>> 16 & 255,\n              l = i.rgba >>> 8 & 255,\n              c = Math.floor((Math.abs(r - a) + Math.abs(o - h) + Math.abs(n - l)) / 12);\n            var d = !0;\n            for (var _t24 = 0; _t24 < e.data.length; _t24 += 4) e.data[_t24] === r && e.data[_t24 + 1] === o && e.data[_t24 + 2] === n || s && Math.abs(e.data[_t24] - r) + Math.abs(e.data[_t24 + 1] - o) + Math.abs(e.data[_t24 + 2] - n) < c ? e.data[_t24 + 3] = 0 : d = !1;\n            return d;\n          }\n          function C(e, t, i) {\n            var s = e.createElement(\"canvas\");\n            return s.width = t, s.height = i, s;\n          }\n        },\n        160: function _(e, t, i) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.contrastRatio = t.toPaddedHex = t.rgba = t.rgb = t.css = t.color = t.channels = t.NULL_COLOR = void 0;\n          var s = i(399);\n          var r = 0,\n            o = 0,\n            n = 0,\n            a = 0;\n          var h, l, c;\n          function d(e) {\n            var t = e.toString(16);\n            return t.length < 2 ? \"0\" + t : t;\n          }\n          function _(e, t) {\n            return e < t ? (t + .05) / (e + .05) : (e + .05) / (t + .05);\n          }\n          t.NULL_COLOR = {\n            css: \"#00000000\",\n            rgba: 0\n          }, function (e) {\n            e.toCss = function (e, t, i, s) {\n              return void 0 !== s ? \"#\".concat(d(e)).concat(d(t)).concat(d(i)).concat(d(s)) : \"#\".concat(d(e)).concat(d(t)).concat(d(i));\n            }, e.toRgba = function (e, t, i) {\n              var s = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 255;\n              return (e << 24 | t << 16 | i << 8 | s) >>> 0;\n            };\n          }(h = t.channels || (t.channels = {})), function (e) {\n            function t(e, t) {\n              var _c$toChannels, _c$toChannels2;\n              return a = Math.round(255 * t), (_c$toChannels = c.toChannels(e.rgba), _c$toChannels2 = _slicedToArray(_c$toChannels, 3), r = _c$toChannels2[0], o = _c$toChannels2[1], n = _c$toChannels2[2]), {\n                css: h.toCss(r, o, n, a),\n                rgba: h.toRgba(r, o, n, a)\n              };\n            }\n            e.blend = function (e, t) {\n              if (a = (255 & t.rgba) / 255, 1 === a) return {\n                css: t.css,\n                rgba: t.rgba\n              };\n              var i = t.rgba >> 24 & 255,\n                s = t.rgba >> 16 & 255,\n                l = t.rgba >> 8 & 255,\n                c = e.rgba >> 24 & 255,\n                d = e.rgba >> 16 & 255,\n                _ = e.rgba >> 8 & 255;\n              return r = c + Math.round((i - c) * a), o = d + Math.round((s - d) * a), n = _ + Math.round((l - _) * a), {\n                css: h.toCss(r, o, n),\n                rgba: h.toRgba(r, o, n)\n              };\n            }, e.isOpaque = function (e) {\n              return 255 == (255 & e.rgba);\n            }, e.ensureContrastRatio = function (e, t, i) {\n              var s = c.ensureContrastRatio(e.rgba, t.rgba, i);\n              if (s) return c.toColor(s >> 24 & 255, s >> 16 & 255, s >> 8 & 255);\n            }, e.opaque = function (e) {\n              var _c$toChannels3, _c$toChannels4;\n              var t = (255 | e.rgba) >>> 0;\n              return (_c$toChannels3 = c.toChannels(t), _c$toChannels4 = _slicedToArray(_c$toChannels3, 3), r = _c$toChannels4[0], o = _c$toChannels4[1], n = _c$toChannels4[2]), {\n                css: h.toCss(r, o, n),\n                rgba: t\n              };\n            }, e.opacity = t, e.multiplyOpacity = function (e, i) {\n              return a = 255 & e.rgba, t(e, a * i / 255);\n            }, e.toColorRGB = function (e) {\n              return [e.rgba >> 24 & 255, e.rgba >> 16 & 255, e.rgba >> 8 & 255];\n            };\n          }(t.color || (t.color = {})), function (e) {\n            var t, i;\n            if (!s.isNode) {\n              var _e36 = document.createElement(\"canvas\");\n              _e36.width = 1, _e36.height = 1;\n              var _s12 = _e36.getContext(\"2d\", {\n                willReadFrequently: !0\n              });\n              _s12 && (t = _s12, t.globalCompositeOperation = \"copy\", i = t.createLinearGradient(0, 0, 1, 1));\n            }\n            e.toColor = function (e) {\n              var _t$getImageData$data;\n              if (e.match(/#[\\da-f]{3,8}/i)) switch (e.length) {\n                case 4:\n                  return r = parseInt(e.slice(1, 2).repeat(2), 16), o = parseInt(e.slice(2, 3).repeat(2), 16), n = parseInt(e.slice(3, 4).repeat(2), 16), c.toColor(r, o, n);\n                case 5:\n                  return r = parseInt(e.slice(1, 2).repeat(2), 16), o = parseInt(e.slice(2, 3).repeat(2), 16), n = parseInt(e.slice(3, 4).repeat(2), 16), a = parseInt(e.slice(4, 5).repeat(2), 16), c.toColor(r, o, n, a);\n                case 7:\n                  return {\n                    css: e,\n                    rgba: (parseInt(e.slice(1), 16) << 8 | 255) >>> 0\n                  };\n                case 9:\n                  return {\n                    css: e,\n                    rgba: parseInt(e.slice(1), 16) >>> 0\n                  };\n              }\n              var s = e.match(/rgba?\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*(,\\s*(0|1|\\d?\\.(\\d+))\\s*)?\\)/);\n              if (s) return r = parseInt(s[1]), o = parseInt(s[2]), n = parseInt(s[3]), a = Math.round(255 * (void 0 === s[5] ? 1 : parseFloat(s[5]))), c.toColor(r, o, n, a);\n              if (!t || !i) throw new Error(\"css.toColor: Unsupported css format\");\n              if (t.fillStyle = i, t.fillStyle = e, \"string\" != typeof t.fillStyle) throw new Error(\"css.toColor: Unsupported css format\");\n              if (t.fillRect(0, 0, 1, 1), (_t$getImageData$data = _slicedToArray(t.getImageData(0, 0, 1, 1).data, 4), r = _t$getImageData$data[0], o = _t$getImageData$data[1], n = _t$getImageData$data[2], a = _t$getImageData$data[3]), 255 !== a) throw new Error(\"css.toColor: Unsupported css format\");\n              return {\n                rgba: h.toRgba(r, o, n, a),\n                css: e\n              };\n            };\n          }(t.css || (t.css = {})), function (e) {\n            function t(e, t, i) {\n              var s = e / 255,\n                r = t / 255,\n                o = i / 255;\n              return .2126 * (s <= .03928 ? s / 12.92 : Math.pow((s + .055) / 1.055, 2.4)) + .7152 * (r <= .03928 ? r / 12.92 : Math.pow((r + .055) / 1.055, 2.4)) + .0722 * (o <= .03928 ? o / 12.92 : Math.pow((o + .055) / 1.055, 2.4));\n            }\n            e.relativeLuminance = function (e) {\n              return t(e >> 16 & 255, e >> 8 & 255, 255 & e);\n            }, e.relativeLuminance2 = t;\n          }(l = t.rgb || (t.rgb = {})), function (e) {\n            function t(e, t, i) {\n              var s = e >> 24 & 255,\n                r = e >> 16 & 255,\n                o = e >> 8 & 255;\n              var n = t >> 24 & 255,\n                a = t >> 16 & 255,\n                h = t >> 8 & 255,\n                c = _(l.relativeLuminance2(n, a, h), l.relativeLuminance2(s, r, o));\n              for (; c < i && (n > 0 || a > 0 || h > 0);) n -= Math.max(0, Math.ceil(.1 * n)), a -= Math.max(0, Math.ceil(.1 * a)), h -= Math.max(0, Math.ceil(.1 * h)), c = _(l.relativeLuminance2(n, a, h), l.relativeLuminance2(s, r, o));\n              return (n << 24 | a << 16 | h << 8 | 255) >>> 0;\n            }\n            function i(e, t, i) {\n              var s = e >> 24 & 255,\n                r = e >> 16 & 255,\n                o = e >> 8 & 255;\n              var n = t >> 24 & 255,\n                a = t >> 16 & 255,\n                h = t >> 8 & 255,\n                c = _(l.relativeLuminance2(n, a, h), l.relativeLuminance2(s, r, o));\n              for (; c < i && (n < 255 || a < 255 || h < 255);) n = Math.min(255, n + Math.ceil(.1 * (255 - n))), a = Math.min(255, a + Math.ceil(.1 * (255 - a))), h = Math.min(255, h + Math.ceil(.1 * (255 - h))), c = _(l.relativeLuminance2(n, a, h), l.relativeLuminance2(s, r, o));\n              return (n << 24 | a << 16 | h << 8 | 255) >>> 0;\n            }\n            e.ensureContrastRatio = function (e, s, r) {\n              var o = l.relativeLuminance(e >> 8),\n                n = l.relativeLuminance(s >> 8);\n              if (_(o, n) < r) {\n                if (n < o) {\n                  var _n9 = t(e, s, r),\n                    _a6 = _(o, l.relativeLuminance(_n9 >> 8));\n                  if (_a6 < r) {\n                    var _t25 = i(e, s, r);\n                    return _a6 > _(o, l.relativeLuminance(_t25 >> 8)) ? _n9 : _t25;\n                  }\n                  return _n9;\n                }\n                var _a7 = i(e, s, r),\n                  _h3 = _(o, l.relativeLuminance(_a7 >> 8));\n                if (_h3 < r) {\n                  var _i17 = t(e, s, r);\n                  return _h3 > _(o, l.relativeLuminance(_i17 >> 8)) ? _a7 : _i17;\n                }\n                return _a7;\n              }\n            }, e.reduceLuminance = t, e.increaseLuminance = i, e.toChannels = function (e) {\n              return [e >> 24 & 255, e >> 16 & 255, e >> 8 & 255, 255 & e];\n            }, e.toColor = function (e, t, i, s) {\n              return {\n                css: h.toCss(e, t, i, s),\n                rgba: h.toRgba(e, t, i, s)\n              };\n            };\n          }(c = t.rgba || (t.rgba = {})), t.toPaddedHex = d, t.contrastRatio = _;\n        },\n        345: function _(e, t) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.forwardEvent = t.EventEmitter = void 0, t.EventEmitter = /*#__PURE__*/function () {\n            function _class4() {\n              _classCallCheck(this, _class4);\n              this._listeners = [], this._disposed = !1;\n            }\n            _createClass(_class4, [{\n              key: \"event\",\n              get: function get() {\n                var _this13 = this;\n                return this._event || (this._event = function (e) {\n                  return _this13._listeners.push(e), {\n                    dispose: function dispose() {\n                      if (!_this13._disposed) for (var _t26 = 0; _t26 < _this13._listeners.length; _t26++) if (_this13._listeners[_t26] === e) return void _this13._listeners.splice(_t26, 1);\n                    }\n                  };\n                }), this._event;\n              }\n            }, {\n              key: \"fire\",\n              value: function fire(e, t) {\n                var i = [];\n                for (var _e37 = 0; _e37 < this._listeners.length; _e37++) i.push(this._listeners[_e37]);\n                for (var _s13 = 0; _s13 < i.length; _s13++) i[_s13].call(void 0, e, t);\n              }\n            }, {\n              key: \"dispose\",\n              value: function dispose() {\n                this._listeners && (this._listeners.length = 0), this._disposed = !0;\n              }\n            }]);\n            return _class4;\n          }(), t.forwardEvent = function (e, t) {\n            return e(function (e) {\n              return t.fire(e);\n            });\n          };\n        },\n        859: function _(e, t) {\n          function i(e) {\n            var _iterator21 = _createForOfIteratorHelper(e),\n              _step21;\n            try {\n              for (_iterator21.s(); !(_step21 = _iterator21.n()).done;) {\n                var _t27 = _step21.value;\n                _t27.dispose();\n              }\n            } catch (err) {\n              _iterator21.e(err);\n            } finally {\n              _iterator21.f();\n            }\n            e.length = 0;\n          }\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.getDisposeArrayDisposable = t.disposeArray = t.toDisposable = t.Disposable = void 0, t.Disposable = /*#__PURE__*/function () {\n            function _class5() {\n              _classCallCheck(this, _class5);\n              this._disposables = [], this._isDisposed = !1;\n            }\n            _createClass(_class5, [{\n              key: \"dispose\",\n              value: function dispose() {\n                this._isDisposed = !0;\n                var _iterator22 = _createForOfIteratorHelper(this._disposables),\n                  _step22;\n                try {\n                  for (_iterator22.s(); !(_step22 = _iterator22.n()).done;) {\n                    var _e38 = _step22.value;\n                    _e38.dispose();\n                  }\n                } catch (err) {\n                  _iterator22.e(err);\n                } finally {\n                  _iterator22.f();\n                }\n                this._disposables.length = 0;\n              }\n            }, {\n              key: \"register\",\n              value: function register(e) {\n                return this._disposables.push(e), e;\n              }\n            }, {\n              key: \"unregister\",\n              value: function unregister(e) {\n                var t = this._disposables.indexOf(e);\n                -1 !== t && this._disposables.splice(t, 1);\n              }\n            }]);\n            return _class5;\n          }(), t.toDisposable = function (e) {\n            return {\n              dispose: e\n            };\n          }, t.disposeArray = i, t.getDisposeArrayDisposable = function (e) {\n            return {\n              dispose: function dispose() {\n                return i(e);\n              }\n            };\n          };\n        },\n        485: function _(e, t) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.FourKeyMap = t.TwoKeyMap = void 0;\n          var i = /*#__PURE__*/function () {\n            function i() {\n              _classCallCheck(this, i);\n              this._data = {};\n            }\n            _createClass(i, [{\n              key: \"set\",\n              value: function set(e, t, _i18) {\n                this._data[e] || (this._data[e] = {}), this._data[e][t] = _i18;\n              }\n            }, {\n              key: \"get\",\n              value: function get(e, t) {\n                return this._data[e] ? this._data[e][t] : void 0;\n              }\n            }, {\n              key: \"clear\",\n              value: function clear() {\n                this._data = {};\n              }\n            }]);\n            return i;\n          }();\n          t.TwoKeyMap = i, t.FourKeyMap = /*#__PURE__*/function () {\n            function _class6() {\n              _classCallCheck(this, _class6);\n              this._data = new i();\n            }\n            _createClass(_class6, [{\n              key: \"set\",\n              value: function set(e, t, s, r, o) {\n                this._data.get(e, t) || this._data.set(e, t, new i()), this._data.get(e, t).set(s, r, o);\n              }\n            }, {\n              key: \"get\",\n              value: function get(e, t, i, s) {\n                var r;\n                return null === (r = this._data.get(e, t)) || void 0 === r ? void 0 : r.get(i, s);\n              }\n            }, {\n              key: \"clear\",\n              value: function clear() {\n                this._data.clear();\n              }\n            }]);\n            return _class6;\n          }();\n        },\n        399: function _(e, t) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.isChromeOS = t.isLinux = t.isWindows = t.isIphone = t.isIpad = t.isMac = t.getSafariVersion = t.isSafari = t.isLegacyEdge = t.isFirefox = t.isNode = void 0, t.isNode = \"undefined\" == typeof navigator;\n          var i = t.isNode ? \"node\" : navigator.userAgent,\n            s = t.isNode ? \"node\" : navigator.platform;\n          t.isFirefox = i.includes(\"Firefox\"), t.isLegacyEdge = i.includes(\"Edge\"), t.isSafari = /^((?!chrome|android).)*safari/i.test(i), t.getSafariVersion = function () {\n            if (!t.isSafari) return 0;\n            var e = i.match(/Version\\/(\\d+)/);\n            return null === e || e.length < 2 ? 0 : parseInt(e[1]);\n          }, t.isMac = [\"Macintosh\", \"MacIntel\", \"MacPPC\", \"Mac68K\"].includes(s), t.isIpad = \"iPad\" === s, t.isIphone = \"iPhone\" === s, t.isWindows = [\"Windows\", \"Win16\", \"Win32\", \"WinCE\"].includes(s), t.isLinux = s.indexOf(\"Linux\") >= 0, t.isChromeOS = /\\bCrOS\\b/.test(i);\n        },\n        385: function _(e, t, i) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.DebouncedIdleTask = t.IdleTaskQueue = t.PriorityTaskQueue = void 0;\n          var s = i(399);\n          var r = /*#__PURE__*/function () {\n            function r() {\n              _classCallCheck(this, r);\n              this._tasks = [], this._i = 0;\n            }\n            _createClass(r, [{\n              key: \"enqueue\",\n              value: function enqueue(e) {\n                this._tasks.push(e), this._start();\n              }\n            }, {\n              key: \"flush\",\n              value: function flush() {\n                for (; this._i < this._tasks.length;) this._tasks[this._i]() || this._i++;\n                this.clear();\n              }\n            }, {\n              key: \"clear\",\n              value: function clear() {\n                this._idleCallback && (this._cancelCallback(this._idleCallback), this._idleCallback = void 0), this._i = 0, this._tasks.length = 0;\n              }\n            }, {\n              key: \"_start\",\n              value: function _start() {\n                this._idleCallback || (this._idleCallback = this._requestCallback(this._process.bind(this)));\n              }\n            }, {\n              key: \"_process\",\n              value: function _process(e) {\n                this._idleCallback = void 0;\n                var t = 0,\n                  i = 0,\n                  s = e.timeRemaining(),\n                  _r9 = 0;\n                for (; this._i < this._tasks.length;) {\n                  if (t = Date.now(), this._tasks[this._i]() || this._i++, t = Math.max(1, Date.now() - t), i = Math.max(t, i), _r9 = e.timeRemaining(), 1.5 * i > _r9) return s - t < -20 && console.warn(\"task queue exceeded allotted deadline by \".concat(Math.abs(Math.round(s - t)), \"ms\")), void this._start();\n                  s = _r9;\n                }\n                this.clear();\n              }\n            }]);\n            return r;\n          }();\n          var o = /*#__PURE__*/function (_r10) {\n            _inherits(o, _r10);\n            var _super8 = _createSuper(o);\n            function o() {\n              _classCallCheck(this, o);\n              return _super8.apply(this, arguments);\n            }\n            _createClass(o, [{\n              key: \"_requestCallback\",\n              value: function _requestCallback(e) {\n                var _this14 = this;\n                return setTimeout(function () {\n                  return e(_this14._createDeadline(16));\n                });\n              }\n            }, {\n              key: \"_cancelCallback\",\n              value: function _cancelCallback(e) {\n                clearTimeout(e);\n              }\n            }, {\n              key: \"_createDeadline\",\n              value: function _createDeadline(e) {\n                var t = Date.now() + e;\n                return {\n                  timeRemaining: function timeRemaining() {\n                    return Math.max(0, t - Date.now());\n                  }\n                };\n              }\n            }]);\n            return o;\n          }(r);\n          t.PriorityTaskQueue = o, t.IdleTaskQueue = !s.isNode && \"requestIdleCallback\" in window ? /*#__PURE__*/function (_r11) {\n            _inherits(_class7, _r11);\n            var _super9 = _createSuper(_class7);\n            function _class7() {\n              _classCallCheck(this, _class7);\n              return _super9.apply(this, arguments);\n            }\n            _createClass(_class7, [{\n              key: \"_requestCallback\",\n              value: function _requestCallback(e) {\n                return requestIdleCallback(e);\n              }\n            }, {\n              key: \"_cancelCallback\",\n              value: function _cancelCallback(e) {\n                cancelIdleCallback(e);\n              }\n            }]);\n            return _class7;\n          }(r) : o, t.DebouncedIdleTask = /*#__PURE__*/function () {\n            function _class8() {\n              _classCallCheck(this, _class8);\n              this._queue = new t.IdleTaskQueue();\n            }\n            _createClass(_class8, [{\n              key: \"set\",\n              value: function set(e) {\n                this._queue.clear(), this._queue.enqueue(e);\n              }\n            }, {\n              key: \"flush\",\n              value: function flush() {\n                this._queue.flush();\n              }\n            }]);\n            return _class8;\n          }();\n        },\n        147: function _(e, t) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.ExtendedAttrs = t.AttributeData = void 0;\n          var i = /*#__PURE__*/function () {\n            function i() {\n              _classCallCheck(this, i);\n              this.fg = 0, this.bg = 0, this.extended = new s();\n            }\n            _createClass(i, [{\n              key: \"clone\",\n              value: function clone() {\n                var e = new i();\n                return e.fg = this.fg, e.bg = this.bg, e.extended = this.extended.clone(), e;\n              }\n            }, {\n              key: \"isInverse\",\n              value: function isInverse() {\n                return 67108864 & this.fg;\n              }\n            }, {\n              key: \"isBold\",\n              value: function isBold() {\n                return 134217728 & this.fg;\n              }\n            }, {\n              key: \"isUnderline\",\n              value: function isUnderline() {\n                return this.hasExtendedAttrs() && 0 !== this.extended.underlineStyle ? 1 : 268435456 & this.fg;\n              }\n            }, {\n              key: \"isBlink\",\n              value: function isBlink() {\n                return 536870912 & this.fg;\n              }\n            }, {\n              key: \"isInvisible\",\n              value: function isInvisible() {\n                return 1073741824 & this.fg;\n              }\n            }, {\n              key: \"isItalic\",\n              value: function isItalic() {\n                return 67108864 & this.bg;\n              }\n            }, {\n              key: \"isDim\",\n              value: function isDim() {\n                return 134217728 & this.bg;\n              }\n            }, {\n              key: \"isStrikethrough\",\n              value: function isStrikethrough() {\n                return 2147483648 & this.fg;\n              }\n            }, {\n              key: \"isProtected\",\n              value: function isProtected() {\n                return 536870912 & this.bg;\n              }\n            }, {\n              key: \"getFgColorMode\",\n              value: function getFgColorMode() {\n                return 50331648 & this.fg;\n              }\n            }, {\n              key: \"getBgColorMode\",\n              value: function getBgColorMode() {\n                return 50331648 & this.bg;\n              }\n            }, {\n              key: \"isFgRGB\",\n              value: function isFgRGB() {\n                return 50331648 == (50331648 & this.fg);\n              }\n            }, {\n              key: \"isBgRGB\",\n              value: function isBgRGB() {\n                return 50331648 == (50331648 & this.bg);\n              }\n            }, {\n              key: \"isFgPalette\",\n              value: function isFgPalette() {\n                return 16777216 == (50331648 & this.fg) || 33554432 == (50331648 & this.fg);\n              }\n            }, {\n              key: \"isBgPalette\",\n              value: function isBgPalette() {\n                return 16777216 == (50331648 & this.bg) || 33554432 == (50331648 & this.bg);\n              }\n            }, {\n              key: \"isFgDefault\",\n              value: function isFgDefault() {\n                return 0 == (50331648 & this.fg);\n              }\n            }, {\n              key: \"isBgDefault\",\n              value: function isBgDefault() {\n                return 0 == (50331648 & this.bg);\n              }\n            }, {\n              key: \"isAttributeDefault\",\n              value: function isAttributeDefault() {\n                return 0 === this.fg && 0 === this.bg;\n              }\n            }, {\n              key: \"getFgColor\",\n              value: function getFgColor() {\n                switch (50331648 & this.fg) {\n                  case 16777216:\n                  case 33554432:\n                    return 255 & this.fg;\n                  case 50331648:\n                    return 16777215 & this.fg;\n                  default:\n                    return -1;\n                }\n              }\n            }, {\n              key: \"getBgColor\",\n              value: function getBgColor() {\n                switch (50331648 & this.bg) {\n                  case 16777216:\n                  case 33554432:\n                    return 255 & this.bg;\n                  case 50331648:\n                    return 16777215 & this.bg;\n                  default:\n                    return -1;\n                }\n              }\n            }, {\n              key: \"hasExtendedAttrs\",\n              value: function hasExtendedAttrs() {\n                return 268435456 & this.bg;\n              }\n            }, {\n              key: \"updateExtended\",\n              value: function updateExtended() {\n                this.extended.isEmpty() ? this.bg &= -268435457 : this.bg |= 268435456;\n              }\n            }, {\n              key: \"getUnderlineColor\",\n              value: function getUnderlineColor() {\n                if (268435456 & this.bg && ~this.extended.underlineColor) switch (50331648 & this.extended.underlineColor) {\n                  case 16777216:\n                  case 33554432:\n                    return 255 & this.extended.underlineColor;\n                  case 50331648:\n                    return 16777215 & this.extended.underlineColor;\n                  default:\n                    return this.getFgColor();\n                }\n                return this.getFgColor();\n              }\n            }, {\n              key: \"getUnderlineColorMode\",\n              value: function getUnderlineColorMode() {\n                return 268435456 & this.bg && ~this.extended.underlineColor ? 50331648 & this.extended.underlineColor : this.getFgColorMode();\n              }\n            }, {\n              key: \"isUnderlineColorRGB\",\n              value: function isUnderlineColorRGB() {\n                return 268435456 & this.bg && ~this.extended.underlineColor ? 50331648 == (50331648 & this.extended.underlineColor) : this.isFgRGB();\n              }\n            }, {\n              key: \"isUnderlineColorPalette\",\n              value: function isUnderlineColorPalette() {\n                return 268435456 & this.bg && ~this.extended.underlineColor ? 16777216 == (50331648 & this.extended.underlineColor) || 33554432 == (50331648 & this.extended.underlineColor) : this.isFgPalette();\n              }\n            }, {\n              key: \"isUnderlineColorDefault\",\n              value: function isUnderlineColorDefault() {\n                return 268435456 & this.bg && ~this.extended.underlineColor ? 0 == (50331648 & this.extended.underlineColor) : this.isFgDefault();\n              }\n            }, {\n              key: \"getUnderlineStyle\",\n              value: function getUnderlineStyle() {\n                return 268435456 & this.fg ? 268435456 & this.bg ? this.extended.underlineStyle : 1 : 0;\n              }\n            }], [{\n              key: \"toColorRGB\",\n              value: function toColorRGB(e) {\n                return [e >>> 16 & 255, e >>> 8 & 255, 255 & e];\n              }\n            }, {\n              key: \"fromColorRGB\",\n              value: function fromColorRGB(e) {\n                return (255 & e[0]) << 16 | (255 & e[1]) << 8 | 255 & e[2];\n              }\n            }]);\n            return i;\n          }();\n          t.AttributeData = i;\n          var s = /*#__PURE__*/function () {\n            function s() {\n              var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n              _classCallCheck(this, s);\n              this._ext = 0, this._urlId = 0, this._ext = e, this._urlId = t;\n            }\n            _createClass(s, [{\n              key: \"ext\",\n              get: function get() {\n                return this._urlId ? -469762049 & this._ext | this.underlineStyle << 26 : this._ext;\n              },\n              set: function set(e) {\n                this._ext = e;\n              }\n            }, {\n              key: \"underlineStyle\",\n              get: function get() {\n                return this._urlId ? 5 : (469762048 & this._ext) >> 26;\n              },\n              set: function set(e) {\n                this._ext &= -469762049, this._ext |= e << 26 & 469762048;\n              }\n            }, {\n              key: \"underlineColor\",\n              get: function get() {\n                return 67108863 & this._ext;\n              },\n              set: function set(e) {\n                this._ext &= -67108864, this._ext |= 67108863 & e;\n              }\n            }, {\n              key: \"urlId\",\n              get: function get() {\n                return this._urlId;\n              },\n              set: function set(e) {\n                this._urlId = e;\n              }\n            }, {\n              key: \"clone\",\n              value: function clone() {\n                return new s(this._ext, this._urlId);\n              }\n            }, {\n              key: \"isEmpty\",\n              value: function isEmpty() {\n                return 0 === this.underlineStyle && 0 === this._urlId;\n              }\n            }]);\n            return s;\n          }();\n          t.ExtendedAttrs = s;\n        },\n        782: function _(e, t, i) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.CellData = void 0;\n          var s = i(133),\n            r = i(855),\n            o = i(147);\n          var n = /*#__PURE__*/function (_o$AttributeData) {\n            _inherits(n, _o$AttributeData);\n            var _super10 = _createSuper(n);\n            function n() {\n              var _this15;\n              _classCallCheck(this, n);\n              _this15 = _super10.apply(this, arguments), _this15.content = 0, _this15.fg = 0, _this15.bg = 0, _this15.extended = new o.ExtendedAttrs(), _this15.combinedData = \"\";\n              return _this15;\n            }\n            _createClass(n, [{\n              key: \"isCombined\",\n              value: function isCombined() {\n                return 2097152 & this.content;\n              }\n            }, {\n              key: \"getWidth\",\n              value: function getWidth() {\n                return this.content >> 22;\n              }\n            }, {\n              key: \"getChars\",\n              value: function getChars() {\n                return 2097152 & this.content ? this.combinedData : 2097151 & this.content ? (0, s.stringFromCodePoint)(2097151 & this.content) : \"\";\n              }\n            }, {\n              key: \"getCode\",\n              value: function getCode() {\n                return this.isCombined() ? this.combinedData.charCodeAt(this.combinedData.length - 1) : 2097151 & this.content;\n              }\n            }, {\n              key: \"setFromCharData\",\n              value: function setFromCharData(e) {\n                this.fg = e[r.CHAR_DATA_ATTR_INDEX], this.bg = 0;\n                var t = !1;\n                if (e[r.CHAR_DATA_CHAR_INDEX].length > 2) t = !0;else if (2 === e[r.CHAR_DATA_CHAR_INDEX].length) {\n                  var _i19 = e[r.CHAR_DATA_CHAR_INDEX].charCodeAt(0);\n                  if (55296 <= _i19 && _i19 <= 56319) {\n                    var _s14 = e[r.CHAR_DATA_CHAR_INDEX].charCodeAt(1);\n                    56320 <= _s14 && _s14 <= 57343 ? this.content = 1024 * (_i19 - 55296) + _s14 - 56320 + 65536 | e[r.CHAR_DATA_WIDTH_INDEX] << 22 : t = !0;\n                  } else t = !0;\n                } else this.content = e[r.CHAR_DATA_CHAR_INDEX].charCodeAt(0) | e[r.CHAR_DATA_WIDTH_INDEX] << 22;\n                t && (this.combinedData = e[r.CHAR_DATA_CHAR_INDEX], this.content = 2097152 | e[r.CHAR_DATA_WIDTH_INDEX] << 22);\n              }\n            }, {\n              key: \"getAsCharData\",\n              value: function getAsCharData() {\n                return [this.fg, this.getChars(), this.getWidth(), this.getCode()];\n              }\n            }], [{\n              key: \"fromCharData\",\n              value: function fromCharData(e) {\n                var t = new n();\n                return t.setFromCharData(e), t;\n              }\n            }]);\n            return n;\n          }(o.AttributeData);\n          t.CellData = n;\n        },\n        855: function _(e, t) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.WHITESPACE_CELL_CODE = t.WHITESPACE_CELL_WIDTH = t.WHITESPACE_CELL_CHAR = t.NULL_CELL_CODE = t.NULL_CELL_WIDTH = t.NULL_CELL_CHAR = t.CHAR_DATA_CODE_INDEX = t.CHAR_DATA_WIDTH_INDEX = t.CHAR_DATA_CHAR_INDEX = t.CHAR_DATA_ATTR_INDEX = t.DEFAULT_EXT = t.DEFAULT_ATTR = t.DEFAULT_COLOR = void 0, t.DEFAULT_COLOR = 0, t.DEFAULT_ATTR = 256 | t.DEFAULT_COLOR << 9, t.DEFAULT_EXT = 0, t.CHAR_DATA_ATTR_INDEX = 0, t.CHAR_DATA_CHAR_INDEX = 1, t.CHAR_DATA_WIDTH_INDEX = 2, t.CHAR_DATA_CODE_INDEX = 3, t.NULL_CELL_CHAR = \"\", t.NULL_CELL_WIDTH = 1, t.NULL_CELL_CODE = 0, t.WHITESPACE_CELL_CHAR = \" \", t.WHITESPACE_CELL_WIDTH = 1, t.WHITESPACE_CELL_CODE = 32;\n        },\n        133: function _(e, t) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.Utf8ToUtf32 = t.StringToUtf32 = t.utf32ToString = t.stringFromCodePoint = void 0, t.stringFromCodePoint = function (e) {\n            return e > 65535 ? (e -= 65536, String.fromCharCode(55296 + (e >> 10)) + String.fromCharCode(e % 1024 + 56320)) : String.fromCharCode(e);\n          }, t.utf32ToString = function (e) {\n            var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n            var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : e.length;\n            var s = \"\";\n            for (var r = t; r < i; ++r) {\n              var _t28 = e[r];\n              _t28 > 65535 ? (_t28 -= 65536, s += String.fromCharCode(55296 + (_t28 >> 10)) + String.fromCharCode(_t28 % 1024 + 56320)) : s += String.fromCharCode(_t28);\n            }\n            return s;\n          }, t.StringToUtf32 = /*#__PURE__*/function () {\n            function _class9() {\n              _classCallCheck(this, _class9);\n              this._interim = 0;\n            }\n            _createClass(_class9, [{\n              key: \"clear\",\n              value: function clear() {\n                this._interim = 0;\n              }\n            }, {\n              key: \"decode\",\n              value: function decode(e, t) {\n                var i = e.length;\n                if (!i) return 0;\n                var s = 0,\n                  r = 0;\n                if (this._interim) {\n                  var _i20 = e.charCodeAt(r++);\n                  56320 <= _i20 && _i20 <= 57343 ? t[s++] = 1024 * (this._interim - 55296) + _i20 - 56320 + 65536 : (t[s++] = this._interim, t[s++] = _i20), this._interim = 0;\n                }\n                for (var o = r; o < i; ++o) {\n                  var _r12 = e.charCodeAt(o);\n                  if (55296 <= _r12 && _r12 <= 56319) {\n                    if (++o >= i) return this._interim = _r12, s;\n                    var n = e.charCodeAt(o);\n                    56320 <= n && n <= 57343 ? t[s++] = 1024 * (_r12 - 55296) + n - 56320 + 65536 : (t[s++] = _r12, t[s++] = n);\n                  } else 65279 !== _r12 && (t[s++] = _r12);\n                }\n                return s;\n              }\n            }]);\n            return _class9;\n          }(), t.Utf8ToUtf32 = /*#__PURE__*/function () {\n            function _class10() {\n              _classCallCheck(this, _class10);\n              this.interim = new Uint8Array(3);\n            }\n            _createClass(_class10, [{\n              key: \"clear\",\n              value: function clear() {\n                this.interim.fill(0);\n              }\n            }, {\n              key: \"decode\",\n              value: function decode(e, t) {\n                var i = e.length;\n                if (!i) return 0;\n                var s,\n                  r,\n                  o,\n                  n,\n                  a = 0,\n                  h = 0,\n                  l = 0;\n                if (this.interim[0]) {\n                  var _s15 = !1,\n                    _r13 = this.interim[0];\n                  _r13 &= 192 == (224 & _r13) ? 31 : 224 == (240 & _r13) ? 15 : 7;\n                  var _o6,\n                    _n10 = 0;\n                  for (; (_o6 = 63 & this.interim[++_n10]) && _n10 < 4;) _r13 <<= 6, _r13 |= _o6;\n                  var _h4 = 192 == (224 & this.interim[0]) ? 2 : 224 == (240 & this.interim[0]) ? 3 : 4,\n                    _c4 = _h4 - _n10;\n                  for (; l < _c4;) {\n                    if (l >= i) return 0;\n                    if (_o6 = e[l++], 128 != (192 & _o6)) {\n                      l--, _s15 = !0;\n                      break;\n                    }\n                    this.interim[_n10++] = _o6, _r13 <<= 6, _r13 |= 63 & _o6;\n                  }\n                  _s15 || (2 === _h4 ? _r13 < 128 ? l-- : t[a++] = _r13 : 3 === _h4 ? _r13 < 2048 || _r13 >= 55296 && _r13 <= 57343 || 65279 === _r13 || (t[a++] = _r13) : _r13 < 65536 || _r13 > 1114111 || (t[a++] = _r13)), this.interim.fill(0);\n                }\n                var c = i - 4;\n                var d = l;\n                for (; d < i;) {\n                  for (; !(!(d < c) || 128 & (s = e[d]) || 128 & (r = e[d + 1]) || 128 & (o = e[d + 2]) || 128 & (n = e[d + 3]));) t[a++] = s, t[a++] = r, t[a++] = o, t[a++] = n, d += 4;\n                  if (s = e[d++], s < 128) t[a++] = s;else if (192 == (224 & s)) {\n                    if (d >= i) return this.interim[0] = s, a;\n                    if (r = e[d++], 128 != (192 & r)) {\n                      d--;\n                      continue;\n                    }\n                    if (h = (31 & s) << 6 | 63 & r, h < 128) {\n                      d--;\n                      continue;\n                    }\n                    t[a++] = h;\n                  } else if (224 == (240 & s)) {\n                    if (d >= i) return this.interim[0] = s, a;\n                    if (r = e[d++], 128 != (192 & r)) {\n                      d--;\n                      continue;\n                    }\n                    if (d >= i) return this.interim[0] = s, this.interim[1] = r, a;\n                    if (o = e[d++], 128 != (192 & o)) {\n                      d--;\n                      continue;\n                    }\n                    if (h = (15 & s) << 12 | (63 & r) << 6 | 63 & o, h < 2048 || h >= 55296 && h <= 57343 || 65279 === h) continue;\n                    t[a++] = h;\n                  } else if (240 == (248 & s)) {\n                    if (d >= i) return this.interim[0] = s, a;\n                    if (r = e[d++], 128 != (192 & r)) {\n                      d--;\n                      continue;\n                    }\n                    if (d >= i) return this.interim[0] = s, this.interim[1] = r, a;\n                    if (o = e[d++], 128 != (192 & o)) {\n                      d--;\n                      continue;\n                    }\n                    if (d >= i) return this.interim[0] = s, this.interim[1] = r, this.interim[2] = o, a;\n                    if (n = e[d++], 128 != (192 & n)) {\n                      d--;\n                      continue;\n                    }\n                    if (h = (7 & s) << 18 | (63 & r) << 12 | (63 & o) << 6 | 63 & n, h < 65536 || h > 1114111) continue;\n                    t[a++] = h;\n                  }\n                }\n                return a;\n              }\n            }]);\n            return _class10;\n          }();\n        }\n      },\n      t = {};\n    function i(s) {\n      var r = t[s];\n      if (void 0 !== r) return r.exports;\n      var o = t[s] = {\n        exports: {}\n      };\n      return e[s](o, o.exports, i), o.exports;\n    }\n    var s = {};\n    return function () {\n      var e = s;\n      Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      }), e.WebglAddon = void 0;\n      var t = i(345),\n        r = i(859),\n        o = i(399),\n        n = i(666);\n      var a = /*#__PURE__*/function (_r$Disposable) {\n        _inherits(a, _r$Disposable);\n        var _super11 = _createSuper(a);\n        function a(e) {\n          var _this16;\n          _classCallCheck(this, a);\n          if (o.isSafari && (0, o.getSafariVersion)() < 16) throw new Error(\"Webgl2 is only supported on Safari 16 and above\");\n          _this16 = _super11.call(this), _this16._preserveDrawingBuffer = e, _this16._onChangeTextureAtlas = _this16.register(new t.EventEmitter()), _this16.onChangeTextureAtlas = _this16._onChangeTextureAtlas.event, _this16._onAddTextureAtlasCanvas = _this16.register(new t.EventEmitter()), _this16.onAddTextureAtlasCanvas = _this16._onAddTextureAtlasCanvas.event, _this16._onRemoveTextureAtlasCanvas = _this16.register(new t.EventEmitter()), _this16.onRemoveTextureAtlasCanvas = _this16._onRemoveTextureAtlasCanvas.event, _this16._onContextLoss = _this16.register(new t.EventEmitter()), _this16.onContextLoss = _this16._onContextLoss.event;\n          return _this16;\n        }\n        _createClass(a, [{\n          key: \"activate\",\n          value: function activate(e) {\n            var _this17 = this;\n            var i = e._core;\n            if (!e.element) return void this.register(i.onWillOpen(function () {\n              return _this17.activate(e);\n            }));\n            this._terminal = e;\n            var s = i.coreService,\n              o = i.optionsService,\n              _a8 = i,\n              h = _a8._renderService,\n              l = _a8._characterJoinerService,\n              c = _a8._charSizeService,\n              d = _a8._coreBrowserService,\n              _ = _a8._decorationService,\n              u = _a8._themeService;\n            this._renderer = this.register(new n.WebglRenderer(e, l, c, d, s, _, o, u, this._preserveDrawingBuffer)), this.register((0, t.forwardEvent)(this._renderer.onContextLoss, this._onContextLoss)), this.register((0, t.forwardEvent)(this._renderer.onChangeTextureAtlas, this._onChangeTextureAtlas)), this.register((0, t.forwardEvent)(this._renderer.onAddTextureAtlasCanvas, this._onAddTextureAtlasCanvas)), this.register((0, t.forwardEvent)(this._renderer.onRemoveTextureAtlasCanvas, this._onRemoveTextureAtlasCanvas)), h.setRenderer(this._renderer), this.register((0, r.toDisposable)(function () {\n              var t = _this17._terminal._core._renderService;\n              t.setRenderer(_this17._terminal._core._createRenderer()), t.handleResize(e.cols, e.rows);\n            }));\n          }\n        }, {\n          key: \"textureAtlas\",\n          get: function get() {\n            var e;\n            return null === (e = this._renderer) || void 0 === e ? void 0 : e.textureAtlas;\n          }\n        }, {\n          key: \"clearTextureAtlas\",\n          value: function clearTextureAtlas() {\n            var e;\n            null === (e = this._renderer) || void 0 === e || e.clearTextureAtlas();\n          }\n        }]);\n        return a;\n      }(r.Disposable);\n      e.WebglAddon = a;\n    }(), s;\n  }();\n});\n\n//# sourceURL=webpack://acode-plugin-acodex/./node_modules/xterm-addon-webgl/lib/xterm-addon-webgl.js?");

/***/ }),

/***/ "./node_modules/xterm/lib/xterm.js":
/*!*****************************************!*\
  !*** ./node_modules/xterm/lib/xterm.js ***!
  \*****************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("/* module decorator */ module = __webpack_require__.nmd(module);\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;function _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct.bind(); } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return defineProperty(generator, \"_invoke\", { value: makeInvokeMethod(innerFn, self, context) }), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; defineProperty(this, \"_invoke\", { value: function value(method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; } function maybeInvokeDelegate(delegate, context) { var methodName = context.method, method = delegate.iterator[methodName]; if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator.return && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel; var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), defineProperty(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (val) { var object = Object(val), keys = []; for (var key in object) keys.push(key); return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, catch: function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _get() { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i.return && (_r = _i.return(), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e132) { throw _e132; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e133) { didErr = true; err = _e133; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n!function (e, t) {\n  if (\"object\" == ( false ? 0 : _typeof(exports)) && \"object\" == ( false ? 0 : _typeof(module))) module.exports = t();else if (true) !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (t),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));else { var s, i; }\n}(self, function () {\n  return function () {\n    \"use strict\";\n\n    var e = {\n        4567: function _(e, t, i) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.AccessibilityManager = void 0;\n          var s = i(9042),\n            r = i(6114),\n            n = i(9924),\n            o = i(3656),\n            a = i(844),\n            h = i(5596),\n            c = i(9631);\n          var l = /*#__PURE__*/function (_a$Disposable) {\n            _inherits(l, _a$Disposable);\n            var _super = _createSuper(l);\n            function l(e, t) {\n              var _this;\n              _classCallCheck(this, l);\n              _this = _super.call(this), _this._terminal = e, _this._renderService = t, _this._liveRegionLineCount = 0, _this._charsToConsume = [], _this._charsToAnnounce = \"\", _this._accessibilityTreeRoot = document.createElement(\"div\"), _this._accessibilityTreeRoot.classList.add(\"xterm-accessibility\"), _this._accessibilityTreeRoot.tabIndex = 0, _this._rowContainer = document.createElement(\"div\"), _this._rowContainer.setAttribute(\"role\", \"list\"), _this._rowContainer.classList.add(\"xterm-accessibility-tree\"), _this._rowElements = [];\n              for (var _e = 0; _e < _this._terminal.rows; _e++) _this._rowElements[_e] = _this._createAccessibilityTreeNode(), _this._rowContainer.appendChild(_this._rowElements[_e]);\n              if (_this._topBoundaryFocusListener = function (e) {\n                return _this._handleBoundaryFocus(e, 0);\n              }, _this._bottomBoundaryFocusListener = function (e) {\n                return _this._handleBoundaryFocus(e, 1);\n              }, _this._rowElements[0].addEventListener(\"focus\", _this._topBoundaryFocusListener), _this._rowElements[_this._rowElements.length - 1].addEventListener(\"focus\", _this._bottomBoundaryFocusListener), _this._refreshRowsDimensions(), _this._accessibilityTreeRoot.appendChild(_this._rowContainer), _this._renderRowsDebouncer = new n.TimeBasedDebouncer(_this._renderRows.bind(_assertThisInitialized(_this))), _this._refreshRows(), _this._liveRegion = document.createElement(\"div\"), _this._liveRegion.classList.add(\"live-region\"), _this._liveRegion.setAttribute(\"aria-live\", \"assertive\"), _this._accessibilityTreeRoot.appendChild(_this._liveRegion), !_this._terminal.element) throw new Error(\"Cannot enable accessibility before Terminal.open\");\n              _this._terminal.element.insertAdjacentElement(\"afterbegin\", _this._accessibilityTreeRoot), _this.register(_this._renderRowsDebouncer), _this.register(_this._terminal.onResize(function (e) {\n                return _this._handleResize(e.rows);\n              })), _this.register(_this._terminal.onRender(function (e) {\n                return _this._refreshRows(e.start, e.end);\n              })), _this.register(_this._terminal.onScroll(function () {\n                return _this._refreshRows();\n              })), _this.register(_this._terminal.onA11yChar(function (e) {\n                return _this._handleChar(e);\n              })), _this.register(_this._terminal.onLineFeed(function () {\n                return _this._handleChar(\"\\n\");\n              })), _this.register(_this._terminal.onA11yTab(function (e) {\n                return _this._handleTab(e);\n              })), _this.register(_this._terminal.onKey(function (e) {\n                return _this._handleKey(e.key);\n              })), _this.register(_this._terminal.onBlur(function () {\n                return _this._clearLiveRegion();\n              })), _this.register(_this._renderService.onDimensionsChange(function () {\n                return _this._refreshRowsDimensions();\n              })), _this._screenDprMonitor = new h.ScreenDprMonitor(window), _this.register(_this._screenDprMonitor), _this._screenDprMonitor.setListener(function () {\n                return _this._refreshRowsDimensions();\n              }), _this.register((0, o.addDisposableDomListener)(window, \"resize\", function () {\n                return _this._refreshRowsDimensions();\n              })), _this.register((0, a.toDisposable)(function () {\n                (0, c.removeElementFromParent)(_this._accessibilityTreeRoot), _this._rowElements.length = 0;\n              }));\n              return _this;\n            }\n            _createClass(l, [{\n              key: \"_handleBoundaryFocus\",\n              value: function _handleBoundaryFocus(e, t) {\n                var i = e.target,\n                  s = this._rowElements[0 === t ? 1 : this._rowElements.length - 2];\n                if (i.getAttribute(\"aria-posinset\") === (0 === t ? \"1\" : \"\".concat(this._terminal.buffer.lines.length))) return;\n                if (e.relatedTarget !== s) return;\n                var r, n;\n                if (0 === t ? (r = i, n = this._rowElements.pop(), this._rowContainer.removeChild(n)) : (r = this._rowElements.shift(), n = i, this._rowContainer.removeChild(r)), r.removeEventListener(\"focus\", this._topBoundaryFocusListener), n.removeEventListener(\"focus\", this._bottomBoundaryFocusListener), 0 === t) {\n                  var _e2 = this._createAccessibilityTreeNode();\n                  this._rowElements.unshift(_e2), this._rowContainer.insertAdjacentElement(\"afterbegin\", _e2);\n                } else {\n                  var _e3 = this._createAccessibilityTreeNode();\n                  this._rowElements.push(_e3), this._rowContainer.appendChild(_e3);\n                }\n                this._rowElements[0].addEventListener(\"focus\", this._topBoundaryFocusListener), this._rowElements[this._rowElements.length - 1].addEventListener(\"focus\", this._bottomBoundaryFocusListener), this._terminal.scrollLines(0 === t ? -1 : 1), this._rowElements[0 === t ? 1 : this._rowElements.length - 2].focus(), e.preventDefault(), e.stopImmediatePropagation();\n              }\n            }, {\n              key: \"_handleResize\",\n              value: function _handleResize(e) {\n                this._rowElements[this._rowElements.length - 1].removeEventListener(\"focus\", this._bottomBoundaryFocusListener);\n                for (var _e4 = this._rowContainer.children.length; _e4 < this._terminal.rows; _e4++) this._rowElements[_e4] = this._createAccessibilityTreeNode(), this._rowContainer.appendChild(this._rowElements[_e4]);\n                for (; this._rowElements.length > e;) this._rowContainer.removeChild(this._rowElements.pop());\n                this._rowElements[this._rowElements.length - 1].addEventListener(\"focus\", this._bottomBoundaryFocusListener), this._refreshRowsDimensions();\n              }\n            }, {\n              key: \"_createAccessibilityTreeNode\",\n              value: function _createAccessibilityTreeNode() {\n                var e = document.createElement(\"div\");\n                return e.setAttribute(\"role\", \"listitem\"), e.tabIndex = -1, this._refreshRowDimensions(e), e;\n              }\n            }, {\n              key: \"_handleTab\",\n              value: function _handleTab(e) {\n                for (var _t = 0; _t < e; _t++) this._handleChar(\" \");\n              }\n            }, {\n              key: \"_handleChar\",\n              value: function _handleChar(e) {\n                var _this2 = this;\n                this._liveRegionLineCount < 21 && (this._charsToConsume.length > 0 ? this._charsToConsume.shift() !== e && (this._charsToAnnounce += e) : this._charsToAnnounce += e, \"\\n\" === e && (this._liveRegionLineCount++, 21 === this._liveRegionLineCount && (this._liveRegion.textContent += s.tooMuchOutput)), r.isMac && this._liveRegion.textContent && this._liveRegion.textContent.length > 0 && !this._liveRegion.parentNode && setTimeout(function () {\n                  _this2._accessibilityTreeRoot.appendChild(_this2._liveRegion);\n                }, 0));\n              }\n            }, {\n              key: \"_clearLiveRegion\",\n              value: function _clearLiveRegion() {\n                this._liveRegion.textContent = \"\", this._liveRegionLineCount = 0, r.isMac && (0, c.removeElementFromParent)(this._liveRegion);\n              }\n            }, {\n              key: \"_handleKey\",\n              value: function _handleKey(e) {\n                this._clearLiveRegion(), /[\\0-\\x1F\\x7F-\\x9F]/.test(e) || this._charsToConsume.push(e);\n              }\n            }, {\n              key: \"_refreshRows\",\n              value: function _refreshRows(e, t) {\n                this._renderRowsDebouncer.refresh(e, t, this._terminal.rows);\n              }\n            }, {\n              key: \"_renderRows\",\n              value: function _renderRows(e, t) {\n                var i = this._terminal.buffer,\n                  s = i.lines.length.toString();\n                for (var _r = e; _r <= t; _r++) {\n                  var _e5 = i.translateBufferLineToString(i.ydisp + _r, !0),\n                    _t2 = (i.ydisp + _r + 1).toString(),\n                    _n = this._rowElements[_r];\n                  _n && (0 === _e5.length ? _n.innerText = \"\" : _n.textContent = _e5, _n.setAttribute(\"aria-posinset\", _t2), _n.setAttribute(\"aria-setsize\", s));\n                }\n                this._announceCharacters();\n              }\n            }, {\n              key: \"_refreshRowsDimensions\",\n              value: function _refreshRowsDimensions() {\n                if (this._renderService.dimensions.css.cell.height) {\n                  this._accessibilityTreeRoot.style.width = \"\".concat(this._renderService.dimensions.css.canvas.width, \"px\"), this._rowElements.length !== this._terminal.rows && this._handleResize(this._terminal.rows);\n                  for (var _e6 = 0; _e6 < this._terminal.rows; _e6++) this._refreshRowDimensions(this._rowElements[_e6]);\n                }\n              }\n            }, {\n              key: \"_refreshRowDimensions\",\n              value: function _refreshRowDimensions(e) {\n                e.style.height = \"\".concat(this._renderService.dimensions.css.cell.height, \"px\");\n              }\n            }, {\n              key: \"_announceCharacters\",\n              value: function _announceCharacters() {\n                0 !== this._charsToAnnounce.length && (this._liveRegion.textContent += this._charsToAnnounce, this._charsToAnnounce = \"\");\n              }\n            }]);\n            return l;\n          }(a.Disposable);\n          t.AccessibilityManager = l;\n        },\n        3614: function _(e, t) {\n          function i(e) {\n            return e.replace(/\\r?\\n/g, \"\\r\");\n          }\n          function s(e, t) {\n            return t ? \"\u001b[200~\" + e + \"\u001b[201~\" : e;\n          }\n          function r(e, t, r) {\n            e = s(e = i(e), r.decPrivateModes.bracketedPasteMode), r.triggerDataEvent(e, !0), t.value = \"\";\n          }\n          function n(e, t, i) {\n            var s = i.getBoundingClientRect(),\n              r = e.clientX - s.left - 10,\n              n = e.clientY - s.top - 10;\n            t.style.width = \"20px\", t.style.height = \"20px\", t.style.left = \"\".concat(r, \"px\"), t.style.top = \"\".concat(n, \"px\"), t.style.zIndex = \"1000\", t.focus();\n          }\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.rightClickHandler = t.moveTextAreaUnderMouseCursor = t.paste = t.handlePasteEvent = t.copyHandler = t.bracketTextForPaste = t.prepareTextForTerminal = void 0, t.prepareTextForTerminal = i, t.bracketTextForPaste = s, t.copyHandler = function (e, t) {\n            e.clipboardData && e.clipboardData.setData(\"text/plain\", t.selectionText), e.preventDefault();\n          }, t.handlePasteEvent = function (e, t, i) {\n            e.stopPropagation(), e.clipboardData && r(e.clipboardData.getData(\"text/plain\"), t, i);\n          }, t.paste = r, t.moveTextAreaUnderMouseCursor = n, t.rightClickHandler = function (e, t, i, s, r) {\n            n(e, t, i), r && s.rightClickSelect(e), t.value = s.selectionText, t.select();\n          };\n        },\n        7239: function _(e, t, i) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.ColorContrastCache = void 0;\n          var s = i(1505);\n          t.ColorContrastCache = /*#__PURE__*/function () {\n            function _class() {\n              _classCallCheck(this, _class);\n              this._color = new s.TwoKeyMap(), this._css = new s.TwoKeyMap();\n            }\n            _createClass(_class, [{\n              key: \"setCss\",\n              value: function setCss(e, t, i) {\n                this._css.set(e, t, i);\n              }\n            }, {\n              key: \"getCss\",\n              value: function getCss(e, t) {\n                return this._css.get(e, t);\n              }\n            }, {\n              key: \"setColor\",\n              value: function setColor(e, t, i) {\n                this._color.set(e, t, i);\n              }\n            }, {\n              key: \"getColor\",\n              value: function getColor(e, t) {\n                return this._color.get(e, t);\n              }\n            }, {\n              key: \"clear\",\n              value: function clear() {\n                this._color.clear(), this._css.clear();\n              }\n            }]);\n            return _class;\n          }();\n        },\n        9631: function _(e, t) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.removeElementFromParent = void 0, t.removeElementFromParent = function () {\n            var t;\n            for (var _len = arguments.length, e = new Array(_len), _key = 0; _key < _len; _key++) {\n              e[_key] = arguments[_key];\n            }\n            for (var _i = 0, _e7 = e; _i < _e7.length; _i++) {\n              var _i2 = _e7[_i];\n              null === (t = null == _i2 ? void 0 : _i2.parentElement) || void 0 === t || t.removeChild(_i2);\n            }\n          };\n        },\n        3656: function _(e, t) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.addDisposableDomListener = void 0, t.addDisposableDomListener = function (e, t, i, s) {\n            e.addEventListener(t, i, s);\n            var r = !1;\n            return {\n              dispose: function dispose() {\n                r || (r = !0, e.removeEventListener(t, i, s));\n              }\n            };\n          };\n        },\n        6465: function _(e, t, i) {\n          var s = this && this.__decorate || function (e, t, i, s) {\n              var r,\n                n = arguments.length,\n                o = n < 3 ? t : null === s ? s = Object.getOwnPropertyDescriptor(t, i) : s;\n              if (\"object\" == (typeof Reflect === \"undefined\" ? \"undefined\" : _typeof(Reflect)) && \"function\" == typeof Reflect.decorate) o = Reflect.decorate(e, t, i, s);else for (var a = e.length - 1; a >= 0; a--) (r = e[a]) && (o = (n < 3 ? r(o) : n > 3 ? r(t, i, o) : r(t, i)) || o);\n              return n > 3 && o && Object.defineProperty(t, i, o), o;\n            },\n            r = this && this.__param || function (e, t) {\n              return function (i, s) {\n                t(i, s, e);\n              };\n            };\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.Linkifier2 = void 0;\n          var n = i(2585),\n            o = i(8460),\n            a = i(844),\n            h = i(3656);\n          var c = /*#__PURE__*/function (_a$Disposable2) {\n            _inherits(c, _a$Disposable2);\n            var _super2 = _createSuper(c);\n            function c(e) {\n              var _this3;\n              _classCallCheck(this, c);\n              _this3 = _super2.call(this), _this3._bufferService = e, _this3._linkProviders = [], _this3._linkCacheDisposables = [], _this3._isMouseOut = !0, _this3._activeLine = -1, _this3._onShowLinkUnderline = _this3.register(new o.EventEmitter()), _this3.onShowLinkUnderline = _this3._onShowLinkUnderline.event, _this3._onHideLinkUnderline = _this3.register(new o.EventEmitter()), _this3.onHideLinkUnderline = _this3._onHideLinkUnderline.event, _this3.register((0, a.getDisposeArrayDisposable)(_this3._linkCacheDisposables)), _this3.register((0, a.toDisposable)(function () {\n                _this3._lastMouseEvent = void 0;\n              }));\n              return _this3;\n            }\n            _createClass(c, [{\n              key: \"currentLink\",\n              get: function get() {\n                return this._currentLink;\n              }\n            }, {\n              key: \"registerLinkProvider\",\n              value: function registerLinkProvider(e) {\n                var _this4 = this;\n                return this._linkProviders.push(e), {\n                  dispose: function dispose() {\n                    var t = _this4._linkProviders.indexOf(e);\n                    -1 !== t && _this4._linkProviders.splice(t, 1);\n                  }\n                };\n              }\n            }, {\n              key: \"attachToDom\",\n              value: function attachToDom(e, t, i) {\n                var _this5 = this;\n                this._element = e, this._mouseService = t, this._renderService = i, this.register((0, h.addDisposableDomListener)(this._element, \"mouseleave\", function () {\n                  _this5._isMouseOut = !0, _this5._clearCurrentLink();\n                })), this.register((0, h.addDisposableDomListener)(this._element, \"mousemove\", this._handleMouseMove.bind(this))), this.register((0, h.addDisposableDomListener)(this._element, \"mousedown\", this._handleMouseDown.bind(this))), this.register((0, h.addDisposableDomListener)(this._element, \"mouseup\", this._handleMouseUp.bind(this)));\n              }\n            }, {\n              key: \"_handleMouseMove\",\n              value: function _handleMouseMove(e) {\n                if (this._lastMouseEvent = e, !this._element || !this._mouseService) return;\n                var t = this._positionFromMouseEvent(e, this._element, this._mouseService);\n                if (!t) return;\n                this._isMouseOut = !1;\n                var i = e.composedPath();\n                for (var _e8 = 0; _e8 < i.length; _e8++) {\n                  var _t3 = i[_e8];\n                  if (_t3.classList.contains(\"xterm\")) break;\n                  if (_t3.classList.contains(\"xterm-hover\")) return;\n                }\n                this._lastBufferCell && t.x === this._lastBufferCell.x && t.y === this._lastBufferCell.y || (this._handleHover(t), this._lastBufferCell = t);\n              }\n            }, {\n              key: \"_handleHover\",\n              value: function _handleHover(e) {\n                if (this._activeLine !== e.y) return this._clearCurrentLink(), void this._askForLink(e, !1);\n                this._currentLink && this._linkAtPosition(this._currentLink.link, e) || (this._clearCurrentLink(), this._askForLink(e, !0));\n              }\n            }, {\n              key: \"_askForLink\",\n              value: function _askForLink(e, t) {\n                var _this6 = this;\n                var i, s;\n                this._activeProviderReplies && t || (null === (i = this._activeProviderReplies) || void 0 === i || i.forEach(function (e) {\n                  null == e || e.forEach(function (e) {\n                    e.link.dispose && e.link.dispose();\n                  });\n                }), this._activeProviderReplies = new Map(), this._activeLine = e.y);\n                var r = !1;\n                var _iterator = _createForOfIteratorHelper(this._linkProviders.entries()),\n                  _step;\n                try {\n                  var _loop = function _loop() {\n                    var _step$value = _slicedToArray(_step.value, 2),\n                      i = _step$value[0],\n                      n = _step$value[1];\n                    t ? (null === (s = _this6._activeProviderReplies) || void 0 === s ? void 0 : s.get(i)) && (r = _this6._checkLinkProviderResult(i, e, r)) : n.provideLinks(e.y, function (t) {\n                      var s, n;\n                      if (_this6._isMouseOut) return;\n                      var o = null == t ? void 0 : t.map(function (e) {\n                        return {\n                          link: e\n                        };\n                      });\n                      null === (s = _this6._activeProviderReplies) || void 0 === s || s.set(i, o), r = _this6._checkLinkProviderResult(i, e, r), (null === (n = _this6._activeProviderReplies) || void 0 === n ? void 0 : n.size) === _this6._linkProviders.length && _this6._removeIntersectingLinks(e.y, _this6._activeProviderReplies);\n                    });\n                  };\n                  for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                    _loop();\n                  }\n                } catch (err) {\n                  _iterator.e(err);\n                } finally {\n                  _iterator.f();\n                }\n              }\n            }, {\n              key: \"_removeIntersectingLinks\",\n              value: function _removeIntersectingLinks(e, t) {\n                var i = new Set();\n                for (var _s2 = 0; _s2 < t.size; _s2++) {\n                  var _r2 = t.get(_s2);\n                  if (_r2) for (var _t4 = 0; _t4 < _r2.length; _t4++) {\n                    var _s3 = _r2[_t4],\n                      _n2 = _s3.link.range.start.y < e ? 0 : _s3.link.range.start.x,\n                      _o = _s3.link.range.end.y > e ? this._bufferService.cols : _s3.link.range.end.x;\n                    for (var _e9 = _n2; _e9 <= _o; _e9++) {\n                      if (i.has(_e9)) {\n                        _r2.splice(_t4--, 1);\n                        break;\n                      }\n                      i.add(_e9);\n                    }\n                  }\n                }\n              }\n            }, {\n              key: \"_checkLinkProviderResult\",\n              value: function _checkLinkProviderResult(e, t, i) {\n                var _this7 = this;\n                var s;\n                if (!this._activeProviderReplies) return i;\n                var r = this._activeProviderReplies.get(e);\n                var n = !1;\n                for (var _t5 = 0; _t5 < e; _t5++) this._activeProviderReplies.has(_t5) && !this._activeProviderReplies.get(_t5) || (n = !0);\n                if (!n && r) {\n                  var _e10 = r.find(function (e) {\n                    return _this7._linkAtPosition(e.link, t);\n                  });\n                  _e10 && (i = !0, this._handleNewLink(_e10));\n                }\n                if (this._activeProviderReplies.size === this._linkProviders.length && !i) for (var _e11 = 0; _e11 < this._activeProviderReplies.size; _e11++) {\n                  var _r3 = null === (s = this._activeProviderReplies.get(_e11)) || void 0 === s ? void 0 : s.find(function (e) {\n                    return _this7._linkAtPosition(e.link, t);\n                  });\n                  if (_r3) {\n                    i = !0, this._handleNewLink(_r3);\n                    break;\n                  }\n                }\n                return i;\n              }\n            }, {\n              key: \"_handleMouseDown\",\n              value: function _handleMouseDown() {\n                this._mouseDownLink = this._currentLink;\n              }\n            }, {\n              key: \"_handleMouseUp\",\n              value: function _handleMouseUp(e) {\n                if (!this._element || !this._mouseService || !this._currentLink) return;\n                var t = this._positionFromMouseEvent(e, this._element, this._mouseService);\n                t && this._mouseDownLink === this._currentLink && this._linkAtPosition(this._currentLink.link, t) && this._currentLink.link.activate(e, this._currentLink.link.text);\n              }\n            }, {\n              key: \"_clearCurrentLink\",\n              value: function _clearCurrentLink(e, t) {\n                this._element && this._currentLink && this._lastMouseEvent && (!e || !t || this._currentLink.link.range.start.y >= e && this._currentLink.link.range.end.y <= t) && (this._linkLeave(this._element, this._currentLink.link, this._lastMouseEvent), this._currentLink = void 0, (0, a.disposeArray)(this._linkCacheDisposables));\n              }\n            }, {\n              key: \"_handleNewLink\",\n              value: function _handleNewLink(e) {\n                var _this8 = this;\n                if (!this._element || !this._lastMouseEvent || !this._mouseService) return;\n                var t = this._positionFromMouseEvent(this._lastMouseEvent, this._element, this._mouseService);\n                t && this._linkAtPosition(e.link, t) && (this._currentLink = e, this._currentLink.state = {\n                  decorations: {\n                    underline: void 0 === e.link.decorations || e.link.decorations.underline,\n                    pointerCursor: void 0 === e.link.decorations || e.link.decorations.pointerCursor\n                  },\n                  isHovered: !0\n                }, this._linkHover(this._element, e.link, this._lastMouseEvent), e.link.decorations = {}, Object.defineProperties(e.link.decorations, {\n                  pointerCursor: {\n                    get: function get() {\n                      var e, t;\n                      return null === (t = null === (e = _this8._currentLink) || void 0 === e ? void 0 : e.state) || void 0 === t ? void 0 : t.decorations.pointerCursor;\n                    },\n                    set: function set(e) {\n                      var t, i;\n                      (null === (t = _this8._currentLink) || void 0 === t ? void 0 : t.state) && _this8._currentLink.state.decorations.pointerCursor !== e && (_this8._currentLink.state.decorations.pointerCursor = e, _this8._currentLink.state.isHovered && (null === (i = _this8._element) || void 0 === i || i.classList.toggle(\"xterm-cursor-pointer\", e)));\n                    }\n                  },\n                  underline: {\n                    get: function get() {\n                      var e, t;\n                      return null === (t = null === (e = _this8._currentLink) || void 0 === e ? void 0 : e.state) || void 0 === t ? void 0 : t.decorations.underline;\n                    },\n                    set: function set(t) {\n                      var i, s, r;\n                      (null === (i = _this8._currentLink) || void 0 === i ? void 0 : i.state) && (null === (r = null === (s = _this8._currentLink) || void 0 === s ? void 0 : s.state) || void 0 === r ? void 0 : r.decorations.underline) !== t && (_this8._currentLink.state.decorations.underline = t, _this8._currentLink.state.isHovered && _this8._fireUnderlineEvent(e.link, t));\n                    }\n                  }\n                }), this._renderService && this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(function (e) {\n                  var t = 0 === e.start ? 0 : e.start + 1 + _this8._bufferService.buffer.ydisp,\n                    i = _this8._currentLink ? _this8._lastMouseEvent : void 0;\n                  if (_this8._clearCurrentLink(t, e.end + 1 + _this8._bufferService.buffer.ydisp), i && _this8._element) {\n                    var _e12 = _this8._positionFromMouseEvent(i, _this8._element, _this8._mouseService);\n                    _e12 && _this8._askForLink(_e12, !1);\n                  }\n                })));\n              }\n            }, {\n              key: \"_linkHover\",\n              value: function _linkHover(e, t, i) {\n                var s;\n                (null === (s = this._currentLink) || void 0 === s ? void 0 : s.state) && (this._currentLink.state.isHovered = !0, this._currentLink.state.decorations.underline && this._fireUnderlineEvent(t, !0), this._currentLink.state.decorations.pointerCursor && e.classList.add(\"xterm-cursor-pointer\")), t.hover && t.hover(i, t.text);\n              }\n            }, {\n              key: \"_fireUnderlineEvent\",\n              value: function _fireUnderlineEvent(e, t) {\n                var i = e.range,\n                  s = this._bufferService.buffer.ydisp,\n                  r = this._createLinkUnderlineEvent(i.start.x - 1, i.start.y - s - 1, i.end.x, i.end.y - s - 1, void 0);\n                (t ? this._onShowLinkUnderline : this._onHideLinkUnderline).fire(r);\n              }\n            }, {\n              key: \"_linkLeave\",\n              value: function _linkLeave(e, t, i) {\n                var s;\n                (null === (s = this._currentLink) || void 0 === s ? void 0 : s.state) && (this._currentLink.state.isHovered = !1, this._currentLink.state.decorations.underline && this._fireUnderlineEvent(t, !1), this._currentLink.state.decorations.pointerCursor && e.classList.remove(\"xterm-cursor-pointer\")), t.leave && t.leave(i, t.text);\n              }\n            }, {\n              key: \"_linkAtPosition\",\n              value: function _linkAtPosition(e, t) {\n                var i = e.range.start.y * this._bufferService.cols + e.range.start.x,\n                  s = e.range.end.y * this._bufferService.cols + e.range.end.x,\n                  r = t.y * this._bufferService.cols + t.x;\n                return i <= r && r <= s;\n              }\n            }, {\n              key: \"_positionFromMouseEvent\",\n              value: function _positionFromMouseEvent(e, t, i) {\n                var s = i.getCoords(e, t, this._bufferService.cols, this._bufferService.rows);\n                if (s) return {\n                  x: s[0],\n                  y: s[1] + this._bufferService.buffer.ydisp\n                };\n              }\n            }, {\n              key: \"_createLinkUnderlineEvent\",\n              value: function _createLinkUnderlineEvent(e, t, i, s, r) {\n                return {\n                  x1: e,\n                  y1: t,\n                  x2: i,\n                  y2: s,\n                  cols: this._bufferService.cols,\n                  fg: r\n                };\n              }\n            }]);\n            return c;\n          }(a.Disposable);\n          c = s([r(0, n.IBufferService)], c), t.Linkifier2 = c;\n        },\n        9042: function _(e, t) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.tooMuchOutput = t.promptLabel = void 0, t.promptLabel = \"Terminal input\", t.tooMuchOutput = \"Too much output to announce, navigate to rows manually to read\";\n        },\n        3730: function _(e, t, i) {\n          var s = this && this.__decorate || function (e, t, i, s) {\n              var r,\n                n = arguments.length,\n                o = n < 3 ? t : null === s ? s = Object.getOwnPropertyDescriptor(t, i) : s;\n              if (\"object\" == (typeof Reflect === \"undefined\" ? \"undefined\" : _typeof(Reflect)) && \"function\" == typeof Reflect.decorate) o = Reflect.decorate(e, t, i, s);else for (var a = e.length - 1; a >= 0; a--) (r = e[a]) && (o = (n < 3 ? r(o) : n > 3 ? r(t, i, o) : r(t, i)) || o);\n              return n > 3 && o && Object.defineProperty(t, i, o), o;\n            },\n            r = this && this.__param || function (e, t) {\n              return function (i, s) {\n                t(i, s, e);\n              };\n            };\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.OscLinkProvider = void 0;\n          var n = i(511),\n            o = i(2585);\n          var a = /*#__PURE__*/function () {\n            function a(e, t, i) {\n              _classCallCheck(this, a);\n              this._bufferService = e, this._optionsService = t, this._oscLinkService = i;\n            }\n            _createClass(a, [{\n              key: \"provideLinks\",\n              value: function provideLinks(e, t) {\n                var i;\n                var s = this._bufferService.buffer.lines.get(e - 1);\n                if (!s) return void t(void 0);\n                var r = [],\n                  o = this._optionsService.rawOptions.linkHandler,\n                  _a = new n.CellData(),\n                  c = s.getTrimmedLength();\n                var l = -1,\n                  d = -1,\n                  _ = !1;\n                for (var _t6 = 0; _t6 < c; _t6++) if (-1 !== d || s.hasContent(_t6)) {\n                  if (s.loadCell(_t6, _a), _a.hasExtendedAttrs() && _a.extended.urlId) {\n                    if (-1 === d) {\n                      d = _t6, l = _a.extended.urlId;\n                      continue;\n                    }\n                    _ = _a.extended.urlId !== l;\n                  } else -1 !== d && (_ = !0);\n                  if (_ || -1 !== d && _t6 === c - 1) {\n                    var _s4 = null === (i = this._oscLinkService.getLinkData(l)) || void 0 === i ? void 0 : i.uri;\n                    if (_s4) {\n                      var _i3 = {\n                        start: {\n                          x: d + 1,\n                          y: e\n                        },\n                        end: {\n                          x: _t6 + (_ || _t6 !== c - 1 ? 0 : 1),\n                          y: e\n                        }\n                      };\n                      var _n3 = !1;\n                      if (!(null == o ? void 0 : o.allowNonHttpProtocols)) try {\n                        var _e13 = new URL(_s4);\n                        [\"http:\", \"https:\"].includes(_e13.protocol) || (_n3 = !0);\n                      } catch (e) {\n                        _n3 = !0;\n                      }\n                      _n3 || r.push({\n                        text: _s4,\n                        range: _i3,\n                        activate: function activate(e, t) {\n                          return o ? o.activate(e, t, _i3) : h(0, t);\n                        },\n                        hover: function hover(e, t) {\n                          var s;\n                          return null === (s = null == o ? void 0 : o.hover) || void 0 === s ? void 0 : s.call(o, e, t, _i3);\n                        },\n                        leave: function leave(e, t) {\n                          var s;\n                          return null === (s = null == o ? void 0 : o.leave) || void 0 === s ? void 0 : s.call(o, e, t, _i3);\n                        }\n                      });\n                    }\n                    _ = !1, _a.hasExtendedAttrs() && _a.extended.urlId ? (d = _t6, l = _a.extended.urlId) : (d = -1, l = -1);\n                  }\n                }\n                t(r);\n              }\n            }]);\n            return a;\n          }();\n          function h(e, t) {\n            if (confirm(\"Do you want to navigate to \".concat(t, \"?\\n\\nWARNING: This link could potentially be dangerous\"))) {\n              var _e14 = window.open();\n              if (_e14) {\n                try {\n                  _e14.opener = null;\n                } catch (e) {}\n                _e14.location.href = t;\n              } else console.warn(\"Opening link blocked as opener could not be cleared\");\n            }\n          }\n          a = s([r(0, o.IBufferService), r(1, o.IOptionsService), r(2, o.IOscLinkService)], a), t.OscLinkProvider = a;\n        },\n        6193: function _(e, t) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.RenderDebouncer = void 0, t.RenderDebouncer = /*#__PURE__*/function () {\n            function _class2(e, t) {\n              _classCallCheck(this, _class2);\n              this._parentWindow = e, this._renderCallback = t, this._refreshCallbacks = [];\n            }\n            _createClass(_class2, [{\n              key: \"dispose\",\n              value: function dispose() {\n                this._animationFrame && (this._parentWindow.cancelAnimationFrame(this._animationFrame), this._animationFrame = void 0);\n              }\n            }, {\n              key: \"addRefreshCallback\",\n              value: function addRefreshCallback(e) {\n                var _this9 = this;\n                return this._refreshCallbacks.push(e), this._animationFrame || (this._animationFrame = this._parentWindow.requestAnimationFrame(function () {\n                  return _this9._innerRefresh();\n                })), this._animationFrame;\n              }\n            }, {\n              key: \"refresh\",\n              value: function refresh(e, t, i) {\n                var _this10 = this;\n                this._rowCount = i, e = void 0 !== e ? e : 0, t = void 0 !== t ? t : this._rowCount - 1, this._rowStart = void 0 !== this._rowStart ? Math.min(this._rowStart, e) : e, this._rowEnd = void 0 !== this._rowEnd ? Math.max(this._rowEnd, t) : t, this._animationFrame || (this._animationFrame = this._parentWindow.requestAnimationFrame(function () {\n                  return _this10._innerRefresh();\n                }));\n              }\n            }, {\n              key: \"_innerRefresh\",\n              value: function _innerRefresh() {\n                if (this._animationFrame = void 0, void 0 === this._rowStart || void 0 === this._rowEnd || void 0 === this._rowCount) return void this._runRefreshCallbacks();\n                var e = Math.max(this._rowStart, 0),\n                  t = Math.min(this._rowEnd, this._rowCount - 1);\n                this._rowStart = void 0, this._rowEnd = void 0, this._renderCallback(e, t), this._runRefreshCallbacks();\n              }\n            }, {\n              key: \"_runRefreshCallbacks\",\n              value: function _runRefreshCallbacks() {\n                var _iterator2 = _createForOfIteratorHelper(this._refreshCallbacks),\n                  _step2;\n                try {\n                  for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n                    var _e15 = _step2.value;\n                    _e15(0);\n                  }\n                } catch (err) {\n                  _iterator2.e(err);\n                } finally {\n                  _iterator2.f();\n                }\n                this._refreshCallbacks = [];\n              }\n            }]);\n            return _class2;\n          }();\n        },\n        5596: function _(e, t, i) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.ScreenDprMonitor = void 0;\n          var s = i(844);\n          var r = /*#__PURE__*/function (_s$Disposable) {\n            _inherits(r, _s$Disposable);\n            var _super3 = _createSuper(r);\n            function r(e) {\n              var _this11;\n              _classCallCheck(this, r);\n              _this11 = _super3.call(this), _this11._parentWindow = e, _this11._currentDevicePixelRatio = _this11._parentWindow.devicePixelRatio, _this11.register((0, s.toDisposable)(function () {\n                _this11.clearListener();\n              }));\n              return _this11;\n            }\n            _createClass(r, [{\n              key: \"setListener\",\n              value: function setListener(e) {\n                var _this12 = this;\n                this._listener && this.clearListener(), this._listener = e, this._outerListener = function () {\n                  _this12._listener && (_this12._listener(_this12._parentWindow.devicePixelRatio, _this12._currentDevicePixelRatio), _this12._updateDpr());\n                }, this._updateDpr();\n              }\n            }, {\n              key: \"_updateDpr\",\n              value: function _updateDpr() {\n                var e;\n                this._outerListener && (null === (e = this._resolutionMediaMatchList) || void 0 === e || e.removeListener(this._outerListener), this._currentDevicePixelRatio = this._parentWindow.devicePixelRatio, this._resolutionMediaMatchList = this._parentWindow.matchMedia(\"screen and (resolution: \".concat(this._parentWindow.devicePixelRatio, \"dppx)\")), this._resolutionMediaMatchList.addListener(this._outerListener));\n              }\n            }, {\n              key: \"clearListener\",\n              value: function clearListener() {\n                this._resolutionMediaMatchList && this._listener && this._outerListener && (this._resolutionMediaMatchList.removeListener(this._outerListener), this._resolutionMediaMatchList = void 0, this._listener = void 0, this._outerListener = void 0);\n              }\n            }]);\n            return r;\n          }(s.Disposable);\n          t.ScreenDprMonitor = r;\n        },\n        3236: function _(e, t, i) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.Terminal = void 0;\n          var s = i(2950),\n            r = i(1680),\n            n = i(3614),\n            o = i(2584),\n            a = i(5435),\n            h = i(9312),\n            c = i(6114),\n            l = i(3656),\n            d = i(9042),\n            _ = i(4567),\n            u = i(1296),\n            f = i(7399),\n            v = i(8460),\n            g = i(8437),\n            p = i(3230),\n            S = i(4725),\n            m = i(428),\n            C = i(8934),\n            b = i(6465),\n            y = i(5114),\n            w = i(8969),\n            E = i(8055),\n            L = i(4269),\n            k = i(5941),\n            R = i(3107),\n            D = i(5744),\n            A = i(9074),\n            x = i(2585),\n            B = i(3730),\n            T = i(844),\n            M = i(6731),\n            O = \"undefined\" != typeof window ? window.document : null;\n          var I = /*#__PURE__*/function (_w$CoreTerminal) {\n            _inherits(I, _w$CoreTerminal);\n            var _super4 = _createSuper(I);\n            function I() {\n              var _this13;\n              var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n              _classCallCheck(this, I);\n              _this13 = _super4.call(this, e), _this13.browser = c, _this13._keyDownHandled = !1, _this13._keyDownSeen = !1, _this13._keyPressHandled = !1, _this13._unprocessedDeadKey = !1, _this13._onCursorMove = _this13.register(new v.EventEmitter()), _this13.onCursorMove = _this13._onCursorMove.event, _this13._onKey = _this13.register(new v.EventEmitter()), _this13.onKey = _this13._onKey.event, _this13._onRender = _this13.register(new v.EventEmitter()), _this13.onRender = _this13._onRender.event, _this13._onSelectionChange = _this13.register(new v.EventEmitter()), _this13.onSelectionChange = _this13._onSelectionChange.event, _this13._onTitleChange = _this13.register(new v.EventEmitter()), _this13.onTitleChange = _this13._onTitleChange.event, _this13._onBell = _this13.register(new v.EventEmitter()), _this13.onBell = _this13._onBell.event, _this13._onFocus = _this13.register(new v.EventEmitter()), _this13._onBlur = _this13.register(new v.EventEmitter()), _this13._onA11yCharEmitter = _this13.register(new v.EventEmitter()), _this13._onA11yTabEmitter = _this13.register(new v.EventEmitter()), _this13._onWillOpen = _this13.register(new v.EventEmitter()), _this13._setup(), _this13.linkifier2 = _this13.register(_this13._instantiationService.createInstance(b.Linkifier2)), _this13.linkifier2.registerLinkProvider(_this13._instantiationService.createInstance(B.OscLinkProvider)), _this13._decorationService = _this13._instantiationService.createInstance(A.DecorationService), _this13._instantiationService.setService(x.IDecorationService, _this13._decorationService), _this13.register(_this13._inputHandler.onRequestBell(function () {\n                return _this13._onBell.fire();\n              })), _this13.register(_this13._inputHandler.onRequestRefreshRows(function (e, t) {\n                return _this13.refresh(e, t);\n              })), _this13.register(_this13._inputHandler.onRequestSendFocus(function () {\n                return _this13._reportFocus();\n              })), _this13.register(_this13._inputHandler.onRequestReset(function () {\n                return _this13.reset();\n              })), _this13.register(_this13._inputHandler.onRequestWindowsOptionsReport(function (e) {\n                return _this13._reportWindowsOptions(e);\n              })), _this13.register(_this13._inputHandler.onColor(function (e) {\n                return _this13._handleColorEvent(e);\n              })), _this13.register((0, v.forwardEvent)(_this13._inputHandler.onCursorMove, _this13._onCursorMove)), _this13.register((0, v.forwardEvent)(_this13._inputHandler.onTitleChange, _this13._onTitleChange)), _this13.register((0, v.forwardEvent)(_this13._inputHandler.onA11yChar, _this13._onA11yCharEmitter)), _this13.register((0, v.forwardEvent)(_this13._inputHandler.onA11yTab, _this13._onA11yTabEmitter)), _this13.register(_this13._bufferService.onResize(function (e) {\n                return _this13._afterResize(e.cols, e.rows);\n              })), _this13.register((0, T.toDisposable)(function () {\n                var e, t;\n                _this13._customKeyEventHandler = void 0, null === (t = null === (e = _this13.element) || void 0 === e ? void 0 : e.parentNode) || void 0 === t || t.removeChild(_this13.element);\n              }));\n              return _this13;\n            }\n            _createClass(I, [{\n              key: \"onFocus\",\n              get: function get() {\n                return this._onFocus.event;\n              }\n            }, {\n              key: \"onBlur\",\n              get: function get() {\n                return this._onBlur.event;\n              }\n            }, {\n              key: \"onA11yChar\",\n              get: function get() {\n                return this._onA11yCharEmitter.event;\n              }\n            }, {\n              key: \"onA11yTab\",\n              get: function get() {\n                return this._onA11yTabEmitter.event;\n              }\n            }, {\n              key: \"onWillOpen\",\n              get: function get() {\n                return this._onWillOpen.event;\n              }\n            }, {\n              key: \"_handleColorEvent\",\n              value: function _handleColorEvent(e) {\n                var _this14 = this;\n                if (this._themeService) {\n                  var _iterator3 = _createForOfIteratorHelper(e),\n                    _step3;\n                  try {\n                    var _loop2 = function _loop2() {\n                      var t = _step3.value;\n                      var e,\n                        i = \"\";\n                      switch (t.index) {\n                        case 256:\n                          e = \"foreground\", i = \"10\";\n                          break;\n                        case 257:\n                          e = \"background\", i = \"11\";\n                          break;\n                        case 258:\n                          e = \"cursor\", i = \"12\";\n                          break;\n                        default:\n                          e = \"ansi\", i = \"4;\" + t.index;\n                      }\n                      switch (t.type) {\n                        case 0:\n                          var _s5 = E.color.toColorRGB(\"ansi\" === e ? _this14._themeService.colors.ansi[t.index] : _this14._themeService.colors[e]);\n                          _this14.coreService.triggerDataEvent(\"\".concat(o.C0.ESC, \"]\").concat(i, \";\").concat((0, k.toRgbString)(_s5)).concat(o.C1_ESCAPED.ST));\n                          break;\n                        case 1:\n                          if (\"ansi\" === e) _this14._themeService.modifyColors(function (e) {\n                            var _E$rgba;\n                            return e.ansi[t.index] = (_E$rgba = E.rgba).toColor.apply(_E$rgba, _toConsumableArray(t.color));\n                          });else {\n                            var _i4 = e;\n                            _this14._themeService.modifyColors(function (e) {\n                              var _E$rgba2;\n                              return e[_i4] = (_E$rgba2 = E.rgba).toColor.apply(_E$rgba2, _toConsumableArray(t.color));\n                            });\n                          }\n                          break;\n                        case 2:\n                          _this14._themeService.restoreColor(t.index);\n                      }\n                    };\n                    for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n                      _loop2();\n                    }\n                  } catch (err) {\n                    _iterator3.e(err);\n                  } finally {\n                    _iterator3.f();\n                  }\n                }\n              }\n            }, {\n              key: \"_setup\",\n              value: function _setup() {\n                _get(_getPrototypeOf(I.prototype), \"_setup\", this).call(this), this._customKeyEventHandler = void 0;\n              }\n            }, {\n              key: \"buffer\",\n              get: function get() {\n                return this.buffers.active;\n              }\n            }, {\n              key: \"focus\",\n              value: function focus() {\n                this.textarea && this.textarea.focus({\n                  preventScroll: !0\n                });\n              }\n            }, {\n              key: \"_handleScreenReaderModeOptionChange\",\n              value: function _handleScreenReaderModeOptionChange(e) {\n                var t;\n                e ? !this._accessibilityManager && this._renderService && (this._accessibilityManager = new _.AccessibilityManager(this, this._renderService)) : (null === (t = this._accessibilityManager) || void 0 === t || t.dispose(), this._accessibilityManager = void 0);\n              }\n            }, {\n              key: \"_handleTextAreaFocus\",\n              value: function _handleTextAreaFocus(e) {\n                this.coreService.decPrivateModes.sendFocus && this.coreService.triggerDataEvent(o.C0.ESC + \"[I\"), this.updateCursorStyle(e), this.element.classList.add(\"focus\"), this._showCursor(), this._onFocus.fire();\n              }\n            }, {\n              key: \"blur\",\n              value: function blur() {\n                var e;\n                return null === (e = this.textarea) || void 0 === e ? void 0 : e.blur();\n              }\n            }, {\n              key: \"_handleTextAreaBlur\",\n              value: function _handleTextAreaBlur() {\n                this.textarea.value = \"\", this.refresh(this.buffer.y, this.buffer.y), this.coreService.decPrivateModes.sendFocus && this.coreService.triggerDataEvent(o.C0.ESC + \"[O\"), this.element.classList.remove(\"focus\"), this._onBlur.fire();\n              }\n            }, {\n              key: \"_syncTextArea\",\n              value: function _syncTextArea() {\n                if (!this.textarea || !this.buffer.isCursorInViewport || this._compositionHelper.isComposing || !this._renderService) return;\n                var e = this.buffer.ybase + this.buffer.y,\n                  t = this.buffer.lines.get(e);\n                if (!t) return;\n                var i = Math.min(this.buffer.x, this.cols - 1),\n                  s = this._renderService.dimensions.css.cell.height,\n                  r = t.getWidth(i),\n                  n = this._renderService.dimensions.css.cell.width * r,\n                  o = this.buffer.y * this._renderService.dimensions.css.cell.height,\n                  a = i * this._renderService.dimensions.css.cell.width;\n                this.textarea.style.left = a + \"px\", this.textarea.style.top = o + \"px\", this.textarea.style.width = n + \"px\", this.textarea.style.height = s + \"px\", this.textarea.style.lineHeight = s + \"px\", this.textarea.style.zIndex = \"-5\";\n              }\n            }, {\n              key: \"_initGlobal\",\n              value: function _initGlobal() {\n                var _this15 = this;\n                this._bindKeys(), this.register((0, l.addDisposableDomListener)(this.element, \"copy\", function (e) {\n                  _this15.hasSelection() && (0, n.copyHandler)(e, _this15._selectionService);\n                }));\n                var e = function e(_e16) {\n                  return (0, n.handlePasteEvent)(_e16, _this15.textarea, _this15.coreService);\n                };\n                this.register((0, l.addDisposableDomListener)(this.textarea, \"paste\", e)), this.register((0, l.addDisposableDomListener)(this.element, \"paste\", e)), c.isFirefox ? this.register((0, l.addDisposableDomListener)(this.element, \"mousedown\", function (e) {\n                  2 === e.button && (0, n.rightClickHandler)(e, _this15.textarea, _this15.screenElement, _this15._selectionService, _this15.options.rightClickSelectsWord);\n                })) : this.register((0, l.addDisposableDomListener)(this.element, \"contextmenu\", function (e) {\n                  (0, n.rightClickHandler)(e, _this15.textarea, _this15.screenElement, _this15._selectionService, _this15.options.rightClickSelectsWord);\n                })), c.isLinux && this.register((0, l.addDisposableDomListener)(this.element, \"auxclick\", function (e) {\n                  1 === e.button && (0, n.moveTextAreaUnderMouseCursor)(e, _this15.textarea, _this15.screenElement);\n                }));\n              }\n            }, {\n              key: \"_bindKeys\",\n              value: function _bindKeys() {\n                var _this16 = this;\n                this.register((0, l.addDisposableDomListener)(this.textarea, \"keyup\", function (e) {\n                  return _this16._keyUp(e);\n                }, !0)), this.register((0, l.addDisposableDomListener)(this.textarea, \"keydown\", function (e) {\n                  return _this16._keyDown(e);\n                }, !0)), this.register((0, l.addDisposableDomListener)(this.textarea, \"keypress\", function (e) {\n                  return _this16._keyPress(e);\n                }, !0)), this.register((0, l.addDisposableDomListener)(this.textarea, \"compositionstart\", function () {\n                  return _this16._compositionHelper.compositionstart();\n                })), this.register((0, l.addDisposableDomListener)(this.textarea, \"compositionupdate\", function (e) {\n                  return _this16._compositionHelper.compositionupdate(e);\n                })), this.register((0, l.addDisposableDomListener)(this.textarea, \"compositionend\", function () {\n                  return _this16._compositionHelper.compositionend();\n                })), this.register((0, l.addDisposableDomListener)(this.textarea, \"input\", function (e) {\n                  return _this16._inputEvent(e);\n                }, !0)), this.register(this.onRender(function () {\n                  return _this16._compositionHelper.updateCompositionElements();\n                }));\n              }\n            }, {\n              key: \"open\",\n              value: function open(e) {\n                var _this17 = this;\n                var t;\n                if (!e) throw new Error(\"Terminal requires a parent element.\");\n                e.isConnected || this._logService.debug(\"Terminal.open was called on an element that was not attached to the DOM\"), this._document = e.ownerDocument, this.element = this._document.createElement(\"div\"), this.element.dir = \"ltr\", this.element.classList.add(\"terminal\"), this.element.classList.add(\"xterm\"), this.element.setAttribute(\"tabindex\", \"0\"), e.appendChild(this.element);\n                var i = O.createDocumentFragment();\n                this._viewportElement = O.createElement(\"div\"), this._viewportElement.classList.add(\"xterm-viewport\"), i.appendChild(this._viewportElement), this._viewportScrollArea = O.createElement(\"div\"), this._viewportScrollArea.classList.add(\"xterm-scroll-area\"), this._viewportElement.appendChild(this._viewportScrollArea), this.screenElement = O.createElement(\"div\"), this.screenElement.classList.add(\"xterm-screen\"), this._helperContainer = O.createElement(\"div\"), this._helperContainer.classList.add(\"xterm-helpers\"), this.screenElement.appendChild(this._helperContainer), i.appendChild(this.screenElement), this.textarea = O.createElement(\"textarea\"), this.textarea.classList.add(\"xterm-helper-textarea\"), this.textarea.setAttribute(\"aria-label\", d.promptLabel), c.isChromeOS || this.textarea.setAttribute(\"aria-multiline\", \"false\"), this.textarea.setAttribute(\"autocorrect\", \"off\"), this.textarea.setAttribute(\"autocapitalize\", \"off\"), this.textarea.setAttribute(\"spellcheck\", \"false\"), this.textarea.tabIndex = 0, this._coreBrowserService = this._instantiationService.createInstance(y.CoreBrowserService, this.textarea, null !== (t = this._document.defaultView) && void 0 !== t ? t : window), this._instantiationService.setService(S.ICoreBrowserService, this._coreBrowserService), this.register((0, l.addDisposableDomListener)(this.textarea, \"focus\", function (e) {\n                  return _this17._handleTextAreaFocus(e);\n                })), this.register((0, l.addDisposableDomListener)(this.textarea, \"blur\", function () {\n                  return _this17._handleTextAreaBlur();\n                })), this._helperContainer.appendChild(this.textarea), this._charSizeService = this._instantiationService.createInstance(m.CharSizeService, this._document, this._helperContainer), this._instantiationService.setService(S.ICharSizeService, this._charSizeService), this._themeService = this._instantiationService.createInstance(M.ThemeService), this._instantiationService.setService(S.IThemeService, this._themeService), this._characterJoinerService = this._instantiationService.createInstance(L.CharacterJoinerService), this._instantiationService.setService(S.ICharacterJoinerService, this._characterJoinerService), this._renderService = this.register(this._instantiationService.createInstance(p.RenderService, this.rows, this.screenElement)), this._instantiationService.setService(S.IRenderService, this._renderService), this.register(this._renderService.onRenderedViewportChange(function (e) {\n                  return _this17._onRender.fire(e);\n                })), this.onResize(function (e) {\n                  return _this17._renderService.resize(e.cols, e.rows);\n                }), this._compositionView = O.createElement(\"div\"), this._compositionView.classList.add(\"composition-view\"), this._compositionHelper = this._instantiationService.createInstance(s.CompositionHelper, this.textarea, this._compositionView), this._helperContainer.appendChild(this._compositionView), this.element.appendChild(i);\n                try {\n                  this._onWillOpen.fire(this.element);\n                } catch (e) {}\n                this._renderService.hasRenderer() || this._renderService.setRenderer(this._createRenderer()), this._mouseService = this._instantiationService.createInstance(C.MouseService), this._instantiationService.setService(S.IMouseService, this._mouseService), this.viewport = this._instantiationService.createInstance(r.Viewport, function (e) {\n                  return _this17.scrollLines(e, !0, 1);\n                }, this._viewportElement, this._viewportScrollArea), this.register(this._inputHandler.onRequestSyncScrollBar(function () {\n                  return _this17.viewport.syncScrollArea();\n                })), this.register(this.viewport), this.register(this.onCursorMove(function () {\n                  _this17._renderService.handleCursorMove(), _this17._syncTextArea();\n                })), this.register(this.onResize(function () {\n                  return _this17._renderService.handleResize(_this17.cols, _this17.rows);\n                })), this.register(this.onBlur(function () {\n                  return _this17._renderService.handleBlur();\n                })), this.register(this.onFocus(function () {\n                  return _this17._renderService.handleFocus();\n                })), this.register(this._renderService.onDimensionsChange(function () {\n                  return _this17.viewport.syncScrollArea();\n                })), this._selectionService = this.register(this._instantiationService.createInstance(h.SelectionService, this.element, this.screenElement, this.linkifier2)), this._instantiationService.setService(S.ISelectionService, this._selectionService), this.register(this._selectionService.onRequestScrollLines(function (e) {\n                  return _this17.scrollLines(e.amount, e.suppressScrollEvent);\n                })), this.register(this._selectionService.onSelectionChange(function () {\n                  return _this17._onSelectionChange.fire();\n                })), this.register(this._selectionService.onRequestRedraw(function (e) {\n                  return _this17._renderService.handleSelectionChanged(e.start, e.end, e.columnSelectMode);\n                })), this.register(this._selectionService.onLinuxMouseSelection(function (e) {\n                  _this17.textarea.value = e, _this17.textarea.focus(), _this17.textarea.select();\n                })), this.register(this._onScroll.event(function (e) {\n                  _this17.viewport.syncScrollArea(), _this17._selectionService.refresh();\n                })), this.register((0, l.addDisposableDomListener)(this._viewportElement, \"scroll\", function () {\n                  return _this17._selectionService.refresh();\n                })), this.linkifier2.attachToDom(this.screenElement, this._mouseService, this._renderService), this.register(this._instantiationService.createInstance(R.BufferDecorationRenderer, this.screenElement)), this.register((0, l.addDisposableDomListener)(this.element, \"mousedown\", function (e) {\n                  return _this17._selectionService.handleMouseDown(e);\n                })), this.coreMouseService.areMouseEventsActive ? (this._selectionService.disable(), this.element.classList.add(\"enable-mouse-events\")) : this._selectionService.enable(), this.options.screenReaderMode && (this._accessibilityManager = new _.AccessibilityManager(this, this._renderService)), this.register(this.optionsService.onSpecificOptionChange(\"screenReaderMode\", function (e) {\n                  return _this17._handleScreenReaderModeOptionChange(e);\n                })), this.options.overviewRulerWidth && (this._overviewRulerRenderer = this.register(this._instantiationService.createInstance(D.OverviewRulerRenderer, this._viewportElement, this.screenElement))), this.optionsService.onSpecificOptionChange(\"overviewRulerWidth\", function (e) {\n                  !_this17._overviewRulerRenderer && e && _this17._viewportElement && _this17.screenElement && (_this17._overviewRulerRenderer = _this17.register(_this17._instantiationService.createInstance(D.OverviewRulerRenderer, _this17._viewportElement, _this17.screenElement)));\n                }), this._charSizeService.measure(), this.refresh(0, this.rows - 1), this._initGlobal(), this.bindMouse();\n              }\n            }, {\n              key: \"_createRenderer\",\n              value: function _createRenderer() {\n                return this._instantiationService.createInstance(u.DomRenderer, this.element, this.screenElement, this._viewportElement, this.linkifier2);\n              }\n            }, {\n              key: \"bindMouse\",\n              value: function bindMouse() {\n                var _this18 = this;\n                var e = this,\n                  t = this.element;\n                function i(t) {\n                  var i = e._mouseService.getMouseReportCoords(t, e.screenElement);\n                  if (!i) return !1;\n                  var s, r;\n                  switch (t.overrideType || t.type) {\n                    case \"mousemove\":\n                      r = 32, void 0 === t.buttons ? (s = 3, void 0 !== t.button && (s = t.button < 3 ? t.button : 3)) : s = 1 & t.buttons ? 0 : 4 & t.buttons ? 1 : 2 & t.buttons ? 2 : 3;\n                      break;\n                    case \"mouseup\":\n                      r = 0, s = t.button < 3 ? t.button : 3;\n                      break;\n                    case \"mousedown\":\n                      r = 1, s = t.button < 3 ? t.button : 3;\n                      break;\n                    case \"wheel\":\n                      if (0 === e.viewport.getLinesScrolled(t)) return !1;\n                      r = t.deltaY < 0 ? 0 : 1, s = 4;\n                      break;\n                    default:\n                      return !1;\n                  }\n                  return !(void 0 === r || void 0 === s || s > 4) && e.coreMouseService.triggerMouseEvent({\n                    col: i.col,\n                    row: i.row,\n                    x: i.x,\n                    y: i.y,\n                    button: s,\n                    action: r,\n                    ctrl: t.ctrlKey,\n                    alt: t.altKey,\n                    shift: t.shiftKey\n                  });\n                }\n                var s = {\n                    mouseup: null,\n                    wheel: null,\n                    mousedrag: null,\n                    mousemove: null\n                  },\n                  r = {\n                    mouseup: function mouseup(e) {\n                      return i(e), e.buttons || (_this18._document.removeEventListener(\"mouseup\", s.mouseup), s.mousedrag && _this18._document.removeEventListener(\"mousemove\", s.mousedrag)), _this18.cancel(e);\n                    },\n                    wheel: function wheel(e) {\n                      return i(e), _this18.cancel(e, !0);\n                    },\n                    mousedrag: function mousedrag(e) {\n                      e.buttons && i(e);\n                    },\n                    mousemove: function mousemove(e) {\n                      e.buttons || i(e);\n                    }\n                  };\n                this.register(this.coreMouseService.onProtocolChange(function (e) {\n                  e ? (\"debug\" === _this18.optionsService.rawOptions.logLevel && _this18._logService.debug(\"Binding to mouse events:\", _this18.coreMouseService.explainEvents(e)), _this18.element.classList.add(\"enable-mouse-events\"), _this18._selectionService.disable()) : (_this18._logService.debug(\"Unbinding from mouse events.\"), _this18.element.classList.remove(\"enable-mouse-events\"), _this18._selectionService.enable()), 8 & e ? s.mousemove || (t.addEventListener(\"mousemove\", r.mousemove), s.mousemove = r.mousemove) : (t.removeEventListener(\"mousemove\", s.mousemove), s.mousemove = null), 16 & e ? s.wheel || (t.addEventListener(\"wheel\", r.wheel, {\n                    passive: !1\n                  }), s.wheel = r.wheel) : (t.removeEventListener(\"wheel\", s.wheel), s.wheel = null), 2 & e ? s.mouseup || (s.mouseup = r.mouseup) : (_this18._document.removeEventListener(\"mouseup\", s.mouseup), s.mouseup = null), 4 & e ? s.mousedrag || (s.mousedrag = r.mousedrag) : (_this18._document.removeEventListener(\"mousemove\", s.mousedrag), s.mousedrag = null);\n                })), this.coreMouseService.activeProtocol = this.coreMouseService.activeProtocol, this.register((0, l.addDisposableDomListener)(t, \"mousedown\", function (e) {\n                  if (e.preventDefault(), _this18.focus(), _this18.coreMouseService.areMouseEventsActive && !_this18._selectionService.shouldForceSelection(e)) return i(e), s.mouseup && _this18._document.addEventListener(\"mouseup\", s.mouseup), s.mousedrag && _this18._document.addEventListener(\"mousemove\", s.mousedrag), _this18.cancel(e);\n                })), this.register((0, l.addDisposableDomListener)(t, \"wheel\", function (e) {\n                  if (!s.wheel) {\n                    if (!_this18.buffer.hasScrollback) {\n                      var _t7 = _this18.viewport.getLinesScrolled(e);\n                      if (0 === _t7) return;\n                      var _i5 = o.C0.ESC + (_this18.coreService.decPrivateModes.applicationCursorKeys ? \"O\" : \"[\") + (e.deltaY < 0 ? \"A\" : \"B\");\n                      var _s6 = \"\";\n                      for (var _e17 = 0; _e17 < Math.abs(_t7); _e17++) _s6 += _i5;\n                      return _this18.coreService.triggerDataEvent(_s6, !0), _this18.cancel(e, !0);\n                    }\n                    return _this18.viewport.handleWheel(e) ? _this18.cancel(e) : void 0;\n                  }\n                }, {\n                  passive: !1\n                })), this.register((0, l.addDisposableDomListener)(t, \"touchstart\", function (e) {\n                  if (!_this18.coreMouseService.areMouseEventsActive) return _this18.viewport.handleTouchStart(e), _this18.cancel(e);\n                }, {\n                  passive: !0\n                })), this.register((0, l.addDisposableDomListener)(t, \"touchmove\", function (e) {\n                  if (!_this18.coreMouseService.areMouseEventsActive) return _this18.viewport.handleTouchMove(e) ? void 0 : _this18.cancel(e);\n                }, {\n                  passive: !1\n                }));\n              }\n            }, {\n              key: \"refresh\",\n              value: function refresh(e, t) {\n                var i;\n                null === (i = this._renderService) || void 0 === i || i.refreshRows(e, t);\n              }\n            }, {\n              key: \"updateCursorStyle\",\n              value: function updateCursorStyle(e) {\n                var t;\n                (null === (t = this._selectionService) || void 0 === t ? void 0 : t.shouldColumnSelect(e)) ? this.element.classList.add(\"column-select\") : this.element.classList.remove(\"column-select\");\n              }\n            }, {\n              key: \"_showCursor\",\n              value: function _showCursor() {\n                this.coreService.isCursorInitialized || (this.coreService.isCursorInitialized = !0, this.refresh(this.buffer.y, this.buffer.y));\n              }\n            }, {\n              key: \"scrollLines\",\n              value: function scrollLines(e, t) {\n                var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n                _get(_getPrototypeOf(I.prototype), \"scrollLines\", this).call(this, e, t, i), this.refresh(0, this.rows - 1);\n              }\n            }, {\n              key: \"paste\",\n              value: function paste(e) {\n                (0, n.paste)(e, this.textarea, this.coreService);\n              }\n            }, {\n              key: \"attachCustomKeyEventHandler\",\n              value: function attachCustomKeyEventHandler(e) {\n                this._customKeyEventHandler = e;\n              }\n            }, {\n              key: \"registerLinkProvider\",\n              value: function registerLinkProvider(e) {\n                return this.linkifier2.registerLinkProvider(e);\n              }\n            }, {\n              key: \"registerCharacterJoiner\",\n              value: function registerCharacterJoiner(e) {\n                if (!this._characterJoinerService) throw new Error(\"Terminal must be opened first\");\n                var t = this._characterJoinerService.register(e);\n                return this.refresh(0, this.rows - 1), t;\n              }\n            }, {\n              key: \"deregisterCharacterJoiner\",\n              value: function deregisterCharacterJoiner(e) {\n                if (!this._characterJoinerService) throw new Error(\"Terminal must be opened first\");\n                this._characterJoinerService.deregister(e) && this.refresh(0, this.rows - 1);\n              }\n            }, {\n              key: \"markers\",\n              get: function get() {\n                return this.buffer.markers;\n              }\n            }, {\n              key: \"addMarker\",\n              value: function addMarker(e) {\n                return this.buffer.addMarker(this.buffer.ybase + this.buffer.y + e);\n              }\n            }, {\n              key: \"registerDecoration\",\n              value: function registerDecoration(e) {\n                return this._decorationService.registerDecoration(e);\n              }\n            }, {\n              key: \"hasSelection\",\n              value: function hasSelection() {\n                return !!this._selectionService && this._selectionService.hasSelection;\n              }\n            }, {\n              key: \"select\",\n              value: function select(e, t, i) {\n                this._selectionService.setSelection(e, t, i);\n              }\n            }, {\n              key: \"getSelection\",\n              value: function getSelection() {\n                return this._selectionService ? this._selectionService.selectionText : \"\";\n              }\n            }, {\n              key: \"getSelectionPosition\",\n              value: function getSelectionPosition() {\n                if (this._selectionService && this._selectionService.hasSelection) return {\n                  start: {\n                    x: this._selectionService.selectionStart[0],\n                    y: this._selectionService.selectionStart[1]\n                  },\n                  end: {\n                    x: this._selectionService.selectionEnd[0],\n                    y: this._selectionService.selectionEnd[1]\n                  }\n                };\n              }\n            }, {\n              key: \"clearSelection\",\n              value: function clearSelection() {\n                var e;\n                null === (e = this._selectionService) || void 0 === e || e.clearSelection();\n              }\n            }, {\n              key: \"selectAll\",\n              value: function selectAll() {\n                var e;\n                null === (e = this._selectionService) || void 0 === e || e.selectAll();\n              }\n            }, {\n              key: \"selectLines\",\n              value: function selectLines(e, t) {\n                var i;\n                null === (i = this._selectionService) || void 0 === i || i.selectLines(e, t);\n              }\n            }, {\n              key: \"_keyDown\",\n              value: function _keyDown(e) {\n                if (this._keyDownHandled = !1, this._keyDownSeen = !0, this._customKeyEventHandler && !1 === this._customKeyEventHandler(e)) return !1;\n                var t = this.browser.isMac && this.options.macOptionIsMeta && e.altKey;\n                if (!t && !this._compositionHelper.keydown(e)) return this.options.scrollOnUserInput && this.buffer.ybase !== this.buffer.ydisp && this._bufferService.scrollToBottom(), !1;\n                t || \"Dead\" !== e.key && \"AltGraph\" !== e.key || (this._unprocessedDeadKey = !0);\n                var i = (0, f.evaluateKeyboardEvent)(e, this.coreService.decPrivateModes.applicationCursorKeys, this.browser.isMac, this.options.macOptionIsMeta);\n                if (this.updateCursorStyle(e), 3 === i.type || 2 === i.type) {\n                  var _t8 = this.rows - 1;\n                  return this.scrollLines(2 === i.type ? -_t8 : _t8), this.cancel(e, !0);\n                }\n                return 1 === i.type && this.selectAll(), !!this._isThirdLevelShift(this.browser, e) || (i.cancel && this.cancel(e, !0), !i.key || !!(e.key && !e.ctrlKey && !e.altKey && !e.metaKey && 1 === e.key.length && e.key.charCodeAt(0) >= 65 && e.key.charCodeAt(0) <= 90) || (this._unprocessedDeadKey ? (this._unprocessedDeadKey = !1, !0) : (i.key !== o.C0.ETX && i.key !== o.C0.CR || (this.textarea.value = \"\"), this._onKey.fire({\n                  key: i.key,\n                  domEvent: e\n                }), this._showCursor(), this.coreService.triggerDataEvent(i.key, !0), !this.optionsService.rawOptions.screenReaderMode || e.altKey || e.ctrlKey ? this.cancel(e, !0) : void (this._keyDownHandled = !0))));\n              }\n            }, {\n              key: \"_isThirdLevelShift\",\n              value: function _isThirdLevelShift(e, t) {\n                var i = e.isMac && !this.options.macOptionIsMeta && t.altKey && !t.ctrlKey && !t.metaKey || e.isWindows && t.altKey && t.ctrlKey && !t.metaKey || e.isWindows && t.getModifierState(\"AltGraph\");\n                return \"keypress\" === t.type ? i : i && (!t.keyCode || t.keyCode > 47);\n              }\n            }, {\n              key: \"_keyUp\",\n              value: function _keyUp(e) {\n                this._keyDownSeen = !1, this._customKeyEventHandler && !1 === this._customKeyEventHandler(e) || (function (e) {\n                  return 16 === e.keyCode || 17 === e.keyCode || 18 === e.keyCode;\n                }(e) || this.focus(), this.updateCursorStyle(e), this._keyPressHandled = !1);\n              }\n            }, {\n              key: \"_keyPress\",\n              value: function _keyPress(e) {\n                var t;\n                if (this._keyPressHandled = !1, this._keyDownHandled) return !1;\n                if (this._customKeyEventHandler && !1 === this._customKeyEventHandler(e)) return !1;\n                if (this.cancel(e), e.charCode) t = e.charCode;else if (null === e.which || void 0 === e.which) t = e.keyCode;else {\n                  if (0 === e.which || 0 === e.charCode) return !1;\n                  t = e.which;\n                }\n                return !(!t || (e.altKey || e.ctrlKey || e.metaKey) && !this._isThirdLevelShift(this.browser, e) || (t = String.fromCharCode(t), this._onKey.fire({\n                  key: t,\n                  domEvent: e\n                }), this._showCursor(), this.coreService.triggerDataEvent(t, !0), this._keyPressHandled = !0, this._unprocessedDeadKey = !1, 0));\n              }\n            }, {\n              key: \"_inputEvent\",\n              value: function _inputEvent(e) {\n                if (e.data && \"insertText\" === e.inputType && (!e.composed || !this._keyDownSeen) && !this.optionsService.rawOptions.screenReaderMode) {\n                  if (this._keyPressHandled) return !1;\n                  this._unprocessedDeadKey = !1;\n                  var _t9 = e.data;\n                  return this.coreService.triggerDataEvent(_t9, !0), this.cancel(e), !0;\n                }\n                return !1;\n              }\n            }, {\n              key: \"resize\",\n              value: function resize(e, t) {\n                e !== this.cols || t !== this.rows ? _get(_getPrototypeOf(I.prototype), \"resize\", this).call(this, e, t) : this._charSizeService && !this._charSizeService.hasValidSize && this._charSizeService.measure();\n              }\n            }, {\n              key: \"_afterResize\",\n              value: function _afterResize(e, t) {\n                var i, s;\n                null === (i = this._charSizeService) || void 0 === i || i.measure(), null === (s = this.viewport) || void 0 === s || s.syncScrollArea(!0);\n              }\n            }, {\n              key: \"clear\",\n              value: function clear() {\n                if (0 !== this.buffer.ybase || 0 !== this.buffer.y) {\n                  this.buffer.clearAllMarkers(), this.buffer.lines.set(0, this.buffer.lines.get(this.buffer.ybase + this.buffer.y)), this.buffer.lines.length = 1, this.buffer.ydisp = 0, this.buffer.ybase = 0, this.buffer.y = 0;\n                  for (var _e18 = 1; _e18 < this.rows; _e18++) this.buffer.lines.push(this.buffer.getBlankLine(g.DEFAULT_ATTR_DATA));\n                  this.refresh(0, this.rows - 1), this._onScroll.fire({\n                    position: this.buffer.ydisp,\n                    source: 0\n                  });\n                }\n              }\n            }, {\n              key: \"reset\",\n              value: function reset() {\n                var e, t;\n                this.options.rows = this.rows, this.options.cols = this.cols;\n                var i = this._customKeyEventHandler;\n                this._setup(), _get(_getPrototypeOf(I.prototype), \"reset\", this).call(this), null === (e = this._selectionService) || void 0 === e || e.reset(), this._decorationService.reset(), this._customKeyEventHandler = i, this.refresh(0, this.rows - 1), null === (t = this.viewport) || void 0 === t || t.syncScrollArea();\n              }\n            }, {\n              key: \"clearTextureAtlas\",\n              value: function clearTextureAtlas() {\n                var e;\n                null === (e = this._renderService) || void 0 === e || e.clearTextureAtlas();\n              }\n            }, {\n              key: \"_reportFocus\",\n              value: function _reportFocus() {\n                var e;\n                (null === (e = this.element) || void 0 === e ? void 0 : e.classList.contains(\"focus\")) ? this.coreService.triggerDataEvent(o.C0.ESC + \"[I\") : this.coreService.triggerDataEvent(o.C0.ESC + \"[O\");\n              }\n            }, {\n              key: \"_reportWindowsOptions\",\n              value: function _reportWindowsOptions(e) {\n                if (this._renderService) switch (e) {\n                  case a.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:\n                    var _e19 = this._renderService.dimensions.css.canvas.width.toFixed(0),\n                      _t10 = this._renderService.dimensions.css.canvas.height.toFixed(0);\n                    this.coreService.triggerDataEvent(\"\".concat(o.C0.ESC, \"[4;\").concat(_t10, \";\").concat(_e19, \"t\"));\n                    break;\n                  case a.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:\n                    var _i6 = this._renderService.dimensions.css.cell.width.toFixed(0),\n                      _s7 = this._renderService.dimensions.css.cell.height.toFixed(0);\n                    this.coreService.triggerDataEvent(\"\".concat(o.C0.ESC, \"[6;\").concat(_s7, \";\").concat(_i6, \"t\"));\n                }\n              }\n            }, {\n              key: \"cancel\",\n              value: function cancel(e, t) {\n                if (this.options.cancelEvents || t) return e.preventDefault(), e.stopPropagation(), !1;\n              }\n            }]);\n            return I;\n          }(w.CoreTerminal);\n          t.Terminal = I;\n        },\n        9924: function _(e, t) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.TimeBasedDebouncer = void 0, t.TimeBasedDebouncer = /*#__PURE__*/function () {\n            function _class3(e) {\n              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1e3;\n              _classCallCheck(this, _class3);\n              this._renderCallback = e, this._debounceThresholdMS = t, this._lastRefreshMs = 0, this._additionalRefreshRequested = !1;\n            }\n            _createClass(_class3, [{\n              key: \"dispose\",\n              value: function dispose() {\n                this._refreshTimeoutID && clearTimeout(this._refreshTimeoutID);\n              }\n            }, {\n              key: \"refresh\",\n              value: function refresh(e, t, i) {\n                var _this19 = this;\n                this._rowCount = i, e = void 0 !== e ? e : 0, t = void 0 !== t ? t : this._rowCount - 1, this._rowStart = void 0 !== this._rowStart ? Math.min(this._rowStart, e) : e, this._rowEnd = void 0 !== this._rowEnd ? Math.max(this._rowEnd, t) : t;\n                var s = Date.now();\n                if (s - this._lastRefreshMs >= this._debounceThresholdMS) this._lastRefreshMs = s, this._innerRefresh();else if (!this._additionalRefreshRequested) {\n                  var _e20 = s - this._lastRefreshMs,\n                    _t11 = this._debounceThresholdMS - _e20;\n                  this._additionalRefreshRequested = !0, this._refreshTimeoutID = window.setTimeout(function () {\n                    _this19._lastRefreshMs = Date.now(), _this19._innerRefresh(), _this19._additionalRefreshRequested = !1, _this19._refreshTimeoutID = void 0;\n                  }, _t11);\n                }\n              }\n            }, {\n              key: \"_innerRefresh\",\n              value: function _innerRefresh() {\n                if (void 0 === this._rowStart || void 0 === this._rowEnd || void 0 === this._rowCount) return;\n                var e = Math.max(this._rowStart, 0),\n                  t = Math.min(this._rowEnd, this._rowCount - 1);\n                this._rowStart = void 0, this._rowEnd = void 0, this._renderCallback(e, t);\n              }\n            }]);\n            return _class3;\n          }();\n        },\n        1680: function _(e, t, i) {\n          var s = this && this.__decorate || function (e, t, i, s) {\n              var r,\n                n = arguments.length,\n                o = n < 3 ? t : null === s ? s = Object.getOwnPropertyDescriptor(t, i) : s;\n              if (\"object\" == (typeof Reflect === \"undefined\" ? \"undefined\" : _typeof(Reflect)) && \"function\" == typeof Reflect.decorate) o = Reflect.decorate(e, t, i, s);else for (var a = e.length - 1; a >= 0; a--) (r = e[a]) && (o = (n < 3 ? r(o) : n > 3 ? r(t, i, o) : r(t, i)) || o);\n              return n > 3 && o && Object.defineProperty(t, i, o), o;\n            },\n            r = this && this.__param || function (e, t) {\n              return function (i, s) {\n                t(i, s, e);\n              };\n            };\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.Viewport = void 0;\n          var n = i(844),\n            o = i(3656),\n            a = i(4725),\n            h = i(2585);\n          var c = /*#__PURE__*/function (_n$Disposable) {\n            _inherits(c, _n$Disposable);\n            var _super5 = _createSuper(c);\n            function c(e, t, i, s, r, n, a, h, _c) {\n              var _this20;\n              _classCallCheck(this, c);\n              _this20 = _super5.call(this), _this20._scrollLines = e, _this20._viewportElement = t, _this20._scrollArea = i, _this20._bufferService = s, _this20._optionsService = r, _this20._charSizeService = n, _this20._renderService = a, _this20._coreBrowserService = h, _this20.scrollBarWidth = 0, _this20._currentRowHeight = 0, _this20._currentDeviceCellHeight = 0, _this20._lastRecordedBufferLength = 0, _this20._lastRecordedViewportHeight = 0, _this20._lastRecordedBufferHeight = 0, _this20._lastTouchY = 0, _this20._lastScrollTop = 0, _this20._wheelPartialScroll = 0, _this20._refreshAnimationFrame = null, _this20._ignoreNextScrollEvent = !1, _this20._smoothScrollState = {\n                startTime: 0,\n                origin: -1,\n                target: -1\n              }, _this20.scrollBarWidth = _this20._viewportElement.offsetWidth - _this20._scrollArea.offsetWidth || 15, _this20.register((0, o.addDisposableDomListener)(_this20._viewportElement, \"scroll\", _this20._handleScroll.bind(_assertThisInitialized(_this20)))), _this20._activeBuffer = _this20._bufferService.buffer, _this20.register(_this20._bufferService.buffers.onBufferActivate(function (e) {\n                return _this20._activeBuffer = e.activeBuffer;\n              })), _this20._renderDimensions = _this20._renderService.dimensions, _this20.register(_this20._renderService.onDimensionsChange(function (e) {\n                return _this20._renderDimensions = e;\n              })), _this20._handleThemeChange(_c.colors), _this20.register(_c.onChangeColors(function (e) {\n                return _this20._handleThemeChange(e);\n              })), _this20.register(_this20._optionsService.onSpecificOptionChange(\"scrollback\", function () {\n                return _this20.syncScrollArea();\n              })), setTimeout(function () {\n                return _this20.syncScrollArea();\n              }, 0);\n              return _this20;\n            }\n            _createClass(c, [{\n              key: \"_handleThemeChange\",\n              value: function _handleThemeChange(e) {\n                this._viewportElement.style.backgroundColor = e.background.css;\n              }\n            }, {\n              key: \"_refresh\",\n              value: function _refresh(e) {\n                var _this21 = this;\n                if (e) return this._innerRefresh(), void (null !== this._refreshAnimationFrame && this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));\n                null === this._refreshAnimationFrame && (this._refreshAnimationFrame = this._coreBrowserService.window.requestAnimationFrame(function () {\n                  return _this21._innerRefresh();\n                }));\n              }\n            }, {\n              key: \"_innerRefresh\",\n              value: function _innerRefresh() {\n                if (this._charSizeService.height > 0) {\n                  this._currentRowHeight = this._renderService.dimensions.device.cell.height / this._coreBrowserService.dpr, this._currentDeviceCellHeight = this._renderService.dimensions.device.cell.height, this._lastRecordedViewportHeight = this._viewportElement.offsetHeight;\n                  var _e21 = Math.round(this._currentRowHeight * this._lastRecordedBufferLength) + (this._lastRecordedViewportHeight - this._renderService.dimensions.css.canvas.height);\n                  this._lastRecordedBufferHeight !== _e21 && (this._lastRecordedBufferHeight = _e21, this._scrollArea.style.height = this._lastRecordedBufferHeight + \"px\");\n                }\n                var e = this._bufferService.buffer.ydisp * this._currentRowHeight;\n                this._viewportElement.scrollTop !== e && (this._ignoreNextScrollEvent = !0, this._viewportElement.scrollTop = e), this._refreshAnimationFrame = null;\n              }\n            }, {\n              key: \"syncScrollArea\",\n              value: function syncScrollArea() {\n                var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : !1;\n                if (this._lastRecordedBufferLength !== this._bufferService.buffer.lines.length) return this._lastRecordedBufferLength = this._bufferService.buffer.lines.length, void this._refresh(e);\n                this._lastRecordedViewportHeight === this._renderService.dimensions.css.canvas.height && this._lastScrollTop === this._activeBuffer.ydisp * this._currentRowHeight && this._renderDimensions.device.cell.height === this._currentDeviceCellHeight || this._refresh(e);\n              }\n            }, {\n              key: \"_handleScroll\",\n              value: function _handleScroll(e) {\n                if (this._lastScrollTop = this._viewportElement.scrollTop, !this._viewportElement.offsetParent) return;\n                if (this._ignoreNextScrollEvent) return this._ignoreNextScrollEvent = !1, void this._scrollLines(0);\n                var t = Math.round(this._lastScrollTop / this._currentRowHeight) - this._bufferService.buffer.ydisp;\n                this._scrollLines(t);\n              }\n            }, {\n              key: \"_smoothScroll\",\n              value: function _smoothScroll() {\n                var _this22 = this;\n                if (this._isDisposed || -1 === this._smoothScrollState.origin || -1 === this._smoothScrollState.target) return;\n                var e = this._smoothScrollPercent();\n                this._viewportElement.scrollTop = this._smoothScrollState.origin + Math.round(e * (this._smoothScrollState.target - this._smoothScrollState.origin)), e < 1 ? this._coreBrowserService.window.requestAnimationFrame(function () {\n                  return _this22._smoothScroll();\n                }) : this._clearSmoothScrollState();\n              }\n            }, {\n              key: \"_smoothScrollPercent\",\n              value: function _smoothScrollPercent() {\n                return this._optionsService.rawOptions.smoothScrollDuration && this._smoothScrollState.startTime ? Math.max(Math.min((Date.now() - this._smoothScrollState.startTime) / this._optionsService.rawOptions.smoothScrollDuration, 1), 0) : 1;\n              }\n            }, {\n              key: \"_clearSmoothScrollState\",\n              value: function _clearSmoothScrollState() {\n                this._smoothScrollState.startTime = 0, this._smoothScrollState.origin = -1, this._smoothScrollState.target = -1;\n              }\n            }, {\n              key: \"_bubbleScroll\",\n              value: function _bubbleScroll(e, t) {\n                var i = this._viewportElement.scrollTop + this._lastRecordedViewportHeight;\n                return !(t < 0 && 0 !== this._viewportElement.scrollTop || t > 0 && i < this._lastRecordedBufferHeight) || (e.cancelable && e.preventDefault(), !1);\n              }\n            }, {\n              key: \"handleWheel\",\n              value: function handleWheel(e) {\n                var t = this._getPixelsScrolled(e);\n                return 0 !== t && (this._optionsService.rawOptions.smoothScrollDuration ? (this._smoothScrollState.startTime = Date.now(), this._smoothScrollPercent() < 1 ? (this._smoothScrollState.origin = this._viewportElement.scrollTop, -1 === this._smoothScrollState.target ? this._smoothScrollState.target = this._viewportElement.scrollTop + t : this._smoothScrollState.target += t, this._smoothScrollState.target = Math.max(Math.min(this._smoothScrollState.target, this._viewportElement.scrollHeight), 0), this._smoothScroll()) : this._clearSmoothScrollState()) : this._viewportElement.scrollTop += t, this._bubbleScroll(e, t));\n              }\n            }, {\n              key: \"_getPixelsScrolled\",\n              value: function _getPixelsScrolled(e) {\n                if (0 === e.deltaY || e.shiftKey) return 0;\n                var t = this._applyScrollModifier(e.deltaY, e);\n                return e.deltaMode === WheelEvent.DOM_DELTA_LINE ? t *= this._currentRowHeight : e.deltaMode === WheelEvent.DOM_DELTA_PAGE && (t *= this._currentRowHeight * this._bufferService.rows), t;\n              }\n            }, {\n              key: \"getLinesScrolled\",\n              value: function getLinesScrolled(e) {\n                if (0 === e.deltaY || e.shiftKey) return 0;\n                var t = this._applyScrollModifier(e.deltaY, e);\n                return e.deltaMode === WheelEvent.DOM_DELTA_PIXEL ? (t /= this._currentRowHeight + 0, this._wheelPartialScroll += t, t = Math.floor(Math.abs(this._wheelPartialScroll)) * (this._wheelPartialScroll > 0 ? 1 : -1), this._wheelPartialScroll %= 1) : e.deltaMode === WheelEvent.DOM_DELTA_PAGE && (t *= this._bufferService.rows), t;\n              }\n            }, {\n              key: \"_applyScrollModifier\",\n              value: function _applyScrollModifier(e, t) {\n                var i = this._optionsService.rawOptions.fastScrollModifier;\n                return \"alt\" === i && t.altKey || \"ctrl\" === i && t.ctrlKey || \"shift\" === i && t.shiftKey ? e * this._optionsService.rawOptions.fastScrollSensitivity * this._optionsService.rawOptions.scrollSensitivity : e * this._optionsService.rawOptions.scrollSensitivity;\n              }\n            }, {\n              key: \"handleTouchStart\",\n              value: function handleTouchStart(e) {\n                this._lastTouchY = e.touches[0].pageY;\n              }\n            }, {\n              key: \"handleTouchMove\",\n              value: function handleTouchMove(e) {\n                var t = this._lastTouchY - e.touches[0].pageY;\n                return this._lastTouchY = e.touches[0].pageY, 0 !== t && (this._viewportElement.scrollTop += t, this._bubbleScroll(e, t));\n              }\n            }]);\n            return c;\n          }(n.Disposable);\n          c = s([r(3, h.IBufferService), r(4, h.IOptionsService), r(5, a.ICharSizeService), r(6, a.IRenderService), r(7, a.ICoreBrowserService), r(8, a.IThemeService)], c), t.Viewport = c;\n        },\n        3107: function _(e, t, i) {\n          var s = this && this.__decorate || function (e, t, i, s) {\n              var r,\n                n = arguments.length,\n                o = n < 3 ? t : null === s ? s = Object.getOwnPropertyDescriptor(t, i) : s;\n              if (\"object\" == (typeof Reflect === \"undefined\" ? \"undefined\" : _typeof(Reflect)) && \"function\" == typeof Reflect.decorate) o = Reflect.decorate(e, t, i, s);else for (var a = e.length - 1; a >= 0; a--) (r = e[a]) && (o = (n < 3 ? r(o) : n > 3 ? r(t, i, o) : r(t, i)) || o);\n              return n > 3 && o && Object.defineProperty(t, i, o), o;\n            },\n            r = this && this.__param || function (e, t) {\n              return function (i, s) {\n                t(i, s, e);\n              };\n            };\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.BufferDecorationRenderer = void 0;\n          var n = i(3656),\n            o = i(4725),\n            a = i(844),\n            h = i(2585);\n          var c = /*#__PURE__*/function (_a$Disposable3) {\n            _inherits(c, _a$Disposable3);\n            var _super6 = _createSuper(c);\n            function c(e, t, i, s) {\n              var _this23;\n              _classCallCheck(this, c);\n              _this23 = _super6.call(this), _this23._screenElement = e, _this23._bufferService = t, _this23._decorationService = i, _this23._renderService = s, _this23._decorationElements = new Map(), _this23._altBufferIsActive = !1, _this23._dimensionsChanged = !1, _this23._container = document.createElement(\"div\"), _this23._container.classList.add(\"xterm-decoration-container\"), _this23._screenElement.appendChild(_this23._container), _this23.register(_this23._renderService.onRenderedViewportChange(function () {\n                return _this23._doRefreshDecorations();\n              })), _this23.register(_this23._renderService.onDimensionsChange(function () {\n                _this23._dimensionsChanged = !0, _this23._queueRefresh();\n              })), _this23.register((0, n.addDisposableDomListener)(window, \"resize\", function () {\n                return _this23._queueRefresh();\n              })), _this23.register(_this23._bufferService.buffers.onBufferActivate(function () {\n                _this23._altBufferIsActive = _this23._bufferService.buffer === _this23._bufferService.buffers.alt;\n              })), _this23.register(_this23._decorationService.onDecorationRegistered(function () {\n                return _this23._queueRefresh();\n              })), _this23.register(_this23._decorationService.onDecorationRemoved(function (e) {\n                return _this23._removeDecoration(e);\n              })), _this23.register((0, a.toDisposable)(function () {\n                _this23._container.remove(), _this23._decorationElements.clear();\n              }));\n              return _this23;\n            }\n            _createClass(c, [{\n              key: \"_queueRefresh\",\n              value: function _queueRefresh() {\n                var _this24 = this;\n                void 0 === this._animationFrame && (this._animationFrame = this._renderService.addRefreshCallback(function () {\n                  _this24._doRefreshDecorations(), _this24._animationFrame = void 0;\n                }));\n              }\n            }, {\n              key: \"_doRefreshDecorations\",\n              value: function _doRefreshDecorations() {\n                var _iterator4 = _createForOfIteratorHelper(this._decorationService.decorations),\n                  _step4;\n                try {\n                  for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n                    var _e22 = _step4.value;\n                    this._renderDecoration(_e22);\n                  }\n                } catch (err) {\n                  _iterator4.e(err);\n                } finally {\n                  _iterator4.f();\n                }\n                this._dimensionsChanged = !1;\n              }\n            }, {\n              key: \"_renderDecoration\",\n              value: function _renderDecoration(e) {\n                this._refreshStyle(e), this._dimensionsChanged && this._refreshXPosition(e);\n              }\n            }, {\n              key: \"_createElement\",\n              value: function _createElement(e) {\n                var t;\n                var i = document.createElement(\"div\");\n                i.classList.add(\"xterm-decoration\"), i.style.width = \"\".concat(Math.round((e.options.width || 1) * this._renderService.dimensions.css.cell.width), \"px\"), i.style.height = (e.options.height || 1) * this._renderService.dimensions.css.cell.height + \"px\", i.style.top = (e.marker.line - this._bufferService.buffers.active.ydisp) * this._renderService.dimensions.css.cell.height + \"px\", i.style.lineHeight = \"\".concat(this._renderService.dimensions.css.cell.height, \"px\");\n                var s = null !== (t = e.options.x) && void 0 !== t ? t : 0;\n                return s && s > this._bufferService.cols && (i.style.display = \"none\"), this._refreshXPosition(e, i), i;\n              }\n            }, {\n              key: \"_refreshStyle\",\n              value: function _refreshStyle(e) {\n                var t = e.marker.line - this._bufferService.buffers.active.ydisp;\n                if (t < 0 || t >= this._bufferService.rows) e.element && (e.element.style.display = \"none\", e.onRenderEmitter.fire(e.element));else {\n                  var _i7 = this._decorationElements.get(e);\n                  _i7 || (_i7 = this._createElement(e), e.element = _i7, this._decorationElements.set(e, _i7), this._container.appendChild(_i7)), _i7.style.top = t * this._renderService.dimensions.css.cell.height + \"px\", _i7.style.display = this._altBufferIsActive ? \"none\" : \"block\", e.onRenderEmitter.fire(_i7);\n                }\n              }\n            }, {\n              key: \"_refreshXPosition\",\n              value: function _refreshXPosition(e) {\n                var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : e.element;\n                var i;\n                if (!t) return;\n                var s = null !== (i = e.options.x) && void 0 !== i ? i : 0;\n                \"right\" === (e.options.anchor || \"left\") ? t.style.right = s ? s * this._renderService.dimensions.css.cell.width + \"px\" : \"\" : t.style.left = s ? s * this._renderService.dimensions.css.cell.width + \"px\" : \"\";\n              }\n            }, {\n              key: \"_removeDecoration\",\n              value: function _removeDecoration(e) {\n                var t;\n                null === (t = this._decorationElements.get(e)) || void 0 === t || t.remove(), this._decorationElements.delete(e), e.dispose();\n              }\n            }]);\n            return c;\n          }(a.Disposable);\n          c = s([r(1, h.IBufferService), r(2, h.IDecorationService), r(3, o.IRenderService)], c), t.BufferDecorationRenderer = c;\n        },\n        5871: function _(e, t) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.ColorZoneStore = void 0, t.ColorZoneStore = /*#__PURE__*/function () {\n            function _class4() {\n              _classCallCheck(this, _class4);\n              this._zones = [], this._zonePool = [], this._zonePoolIndex = 0, this._linePadding = {\n                full: 0,\n                left: 0,\n                center: 0,\n                right: 0\n              };\n            }\n            _createClass(_class4, [{\n              key: \"zones\",\n              get: function get() {\n                return this._zonePool.length = Math.min(this._zonePool.length, this._zones.length), this._zones;\n              }\n            }, {\n              key: \"clear\",\n              value: function clear() {\n                this._zones.length = 0, this._zonePoolIndex = 0;\n              }\n            }, {\n              key: \"addDecoration\",\n              value: function addDecoration(e) {\n                if (e.options.overviewRulerOptions) {\n                  var _iterator5 = _createForOfIteratorHelper(this._zones),\n                    _step5;\n                  try {\n                    for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n                      var _t12 = _step5.value;\n                      if (_t12.color === e.options.overviewRulerOptions.color && _t12.position === e.options.overviewRulerOptions.position) {\n                        if (this._lineIntersectsZone(_t12, e.marker.line)) return;\n                        if (this._lineAdjacentToZone(_t12, e.marker.line, e.options.overviewRulerOptions.position)) return void this._addLineToZone(_t12, e.marker.line);\n                      }\n                    }\n                  } catch (err) {\n                    _iterator5.e(err);\n                  } finally {\n                    _iterator5.f();\n                  }\n                  if (this._zonePoolIndex < this._zonePool.length) return this._zonePool[this._zonePoolIndex].color = e.options.overviewRulerOptions.color, this._zonePool[this._zonePoolIndex].position = e.options.overviewRulerOptions.position, this._zonePool[this._zonePoolIndex].startBufferLine = e.marker.line, this._zonePool[this._zonePoolIndex].endBufferLine = e.marker.line, void this._zones.push(this._zonePool[this._zonePoolIndex++]);\n                  this._zones.push({\n                    color: e.options.overviewRulerOptions.color,\n                    position: e.options.overviewRulerOptions.position,\n                    startBufferLine: e.marker.line,\n                    endBufferLine: e.marker.line\n                  }), this._zonePool.push(this._zones[this._zones.length - 1]), this._zonePoolIndex++;\n                }\n              }\n            }, {\n              key: \"setPadding\",\n              value: function setPadding(e) {\n                this._linePadding = e;\n              }\n            }, {\n              key: \"_lineIntersectsZone\",\n              value: function _lineIntersectsZone(e, t) {\n                return t >= e.startBufferLine && t <= e.endBufferLine;\n              }\n            }, {\n              key: \"_lineAdjacentToZone\",\n              value: function _lineAdjacentToZone(e, t, i) {\n                return t >= e.startBufferLine - this._linePadding[i || \"full\"] && t <= e.endBufferLine + this._linePadding[i || \"full\"];\n              }\n            }, {\n              key: \"_addLineToZone\",\n              value: function _addLineToZone(e, t) {\n                e.startBufferLine = Math.min(e.startBufferLine, t), e.endBufferLine = Math.max(e.endBufferLine, t);\n              }\n            }]);\n            return _class4;\n          }();\n        },\n        5744: function _(e, t, i) {\n          var s = this && this.__decorate || function (e, t, i, s) {\n              var r,\n                n = arguments.length,\n                o = n < 3 ? t : null === s ? s = Object.getOwnPropertyDescriptor(t, i) : s;\n              if (\"object\" == (typeof Reflect === \"undefined\" ? \"undefined\" : _typeof(Reflect)) && \"function\" == typeof Reflect.decorate) o = Reflect.decorate(e, t, i, s);else for (var a = e.length - 1; a >= 0; a--) (r = e[a]) && (o = (n < 3 ? r(o) : n > 3 ? r(t, i, o) : r(t, i)) || o);\n              return n > 3 && o && Object.defineProperty(t, i, o), o;\n            },\n            r = this && this.__param || function (e, t) {\n              return function (i, s) {\n                t(i, s, e);\n              };\n            };\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.OverviewRulerRenderer = void 0;\n          var n = i(5871),\n            o = i(3656),\n            a = i(4725),\n            h = i(844),\n            c = i(2585),\n            l = {\n              full: 0,\n              left: 0,\n              center: 0,\n              right: 0\n            },\n            d = {\n              full: 0,\n              left: 0,\n              center: 0,\n              right: 0\n            },\n            _ = {\n              full: 0,\n              left: 0,\n              center: 0,\n              right: 0\n            };\n          var u = /*#__PURE__*/function (_h$Disposable) {\n            _inherits(u, _h$Disposable);\n            var _super7 = _createSuper(u);\n            function u(e, t, i, s, r, o, a) {\n              var _this25;\n              _classCallCheck(this, u);\n              var c;\n              _this25 = _super7.call(this), _this25._viewportElement = e, _this25._screenElement = t, _this25._bufferService = i, _this25._decorationService = s, _this25._renderService = r, _this25._optionsService = o, _this25._coreBrowseService = a, _this25._colorZoneStore = new n.ColorZoneStore(), _this25._shouldUpdateDimensions = !0, _this25._shouldUpdateAnchor = !0, _this25._lastKnownBufferLength = 0, _this25._canvas = document.createElement(\"canvas\"), _this25._canvas.classList.add(\"xterm-decoration-overview-ruler\"), _this25._refreshCanvasDimensions(), null === (c = _this25._viewportElement.parentElement) || void 0 === c || c.insertBefore(_this25._canvas, _this25._viewportElement);\n              var l = _this25._canvas.getContext(\"2d\");\n              if (!l) throw new Error(\"Ctx cannot be null\");\n              _this25._ctx = l, _this25._registerDecorationListeners(), _this25._registerBufferChangeListeners(), _this25._registerDimensionChangeListeners(), _this25.register((0, h.toDisposable)(function () {\n                var e;\n                null === (e = _this25._canvas) || void 0 === e || e.remove();\n              }));\n              return _this25;\n            }\n            _createClass(u, [{\n              key: \"_width\",\n              get: function get() {\n                return this._optionsService.options.overviewRulerWidth || 0;\n              }\n            }, {\n              key: \"_registerDecorationListeners\",\n              value: function _registerDecorationListeners() {\n                var _this26 = this;\n                this.register(this._decorationService.onDecorationRegistered(function () {\n                  return _this26._queueRefresh(void 0, !0);\n                })), this.register(this._decorationService.onDecorationRemoved(function () {\n                  return _this26._queueRefresh(void 0, !0);\n                }));\n              }\n            }, {\n              key: \"_registerBufferChangeListeners\",\n              value: function _registerBufferChangeListeners() {\n                var _this27 = this;\n                this.register(this._renderService.onRenderedViewportChange(function () {\n                  return _this27._queueRefresh();\n                })), this.register(this._bufferService.buffers.onBufferActivate(function () {\n                  _this27._canvas.style.display = _this27._bufferService.buffer === _this27._bufferService.buffers.alt ? \"none\" : \"block\";\n                })), this.register(this._bufferService.onScroll(function () {\n                  _this27._lastKnownBufferLength !== _this27._bufferService.buffers.normal.lines.length && (_this27._refreshDrawHeightConstants(), _this27._refreshColorZonePadding());\n                }));\n              }\n            }, {\n              key: \"_registerDimensionChangeListeners\",\n              value: function _registerDimensionChangeListeners() {\n                var _this28 = this;\n                this.register(this._renderService.onRender(function () {\n                  _this28._containerHeight && _this28._containerHeight === _this28._screenElement.clientHeight || (_this28._queueRefresh(!0), _this28._containerHeight = _this28._screenElement.clientHeight);\n                })), this.register(this._optionsService.onSpecificOptionChange(\"overviewRulerWidth\", function () {\n                  return _this28._queueRefresh(!0);\n                })), this.register((0, o.addDisposableDomListener)(this._coreBrowseService.window, \"resize\", function () {\n                  return _this28._queueRefresh(!0);\n                })), this._queueRefresh(!0);\n              }\n            }, {\n              key: \"_refreshDrawConstants\",\n              value: function _refreshDrawConstants() {\n                var e = Math.floor(this._canvas.width / 3),\n                  t = Math.ceil(this._canvas.width / 3);\n                d.full = this._canvas.width, d.left = e, d.center = t, d.right = e, this._refreshDrawHeightConstants(), _.full = 0, _.left = 0, _.center = d.left, _.right = d.left + d.center;\n              }\n            }, {\n              key: \"_refreshDrawHeightConstants\",\n              value: function _refreshDrawHeightConstants() {\n                l.full = Math.round(2 * this._coreBrowseService.dpr);\n                var e = this._canvas.height / this._bufferService.buffer.lines.length,\n                  t = Math.round(Math.max(Math.min(e, 12), 6) * this._coreBrowseService.dpr);\n                l.left = t, l.center = t, l.right = t;\n              }\n            }, {\n              key: \"_refreshColorZonePadding\",\n              value: function _refreshColorZonePadding() {\n                this._colorZoneStore.setPadding({\n                  full: Math.floor(this._bufferService.buffers.active.lines.length / (this._canvas.height - 1) * l.full),\n                  left: Math.floor(this._bufferService.buffers.active.lines.length / (this._canvas.height - 1) * l.left),\n                  center: Math.floor(this._bufferService.buffers.active.lines.length / (this._canvas.height - 1) * l.center),\n                  right: Math.floor(this._bufferService.buffers.active.lines.length / (this._canvas.height - 1) * l.right)\n                }), this._lastKnownBufferLength = this._bufferService.buffers.normal.lines.length;\n              }\n            }, {\n              key: \"_refreshCanvasDimensions\",\n              value: function _refreshCanvasDimensions() {\n                this._canvas.style.width = \"\".concat(this._width, \"px\"), this._canvas.width = Math.round(this._width * this._coreBrowseService.dpr), this._canvas.style.height = \"\".concat(this._screenElement.clientHeight, \"px\"), this._canvas.height = Math.round(this._screenElement.clientHeight * this._coreBrowseService.dpr), this._refreshDrawConstants(), this._refreshColorZonePadding();\n              }\n            }, {\n              key: \"_refreshDecorations\",\n              value: function _refreshDecorations() {\n                this._shouldUpdateDimensions && this._refreshCanvasDimensions(), this._ctx.clearRect(0, 0, this._canvas.width, this._canvas.height), this._colorZoneStore.clear();\n                var _iterator6 = _createForOfIteratorHelper(this._decorationService.decorations),\n                  _step6;\n                try {\n                  for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n                    var _e23 = _step6.value;\n                    this._colorZoneStore.addDecoration(_e23);\n                  }\n                } catch (err) {\n                  _iterator6.e(err);\n                } finally {\n                  _iterator6.f();\n                }\n                this._ctx.lineWidth = 1;\n                var e = this._colorZoneStore.zones;\n                var _iterator7 = _createForOfIteratorHelper(e),\n                  _step7;\n                try {\n                  for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {\n                    var _t13 = _step7.value;\n                    \"full\" !== _t13.position && this._renderColorZone(_t13);\n                  }\n                } catch (err) {\n                  _iterator7.e(err);\n                } finally {\n                  _iterator7.f();\n                }\n                var _iterator8 = _createForOfIteratorHelper(e),\n                  _step8;\n                try {\n                  for (_iterator8.s(); !(_step8 = _iterator8.n()).done;) {\n                    var _t14 = _step8.value;\n                    \"full\" === _t14.position && this._renderColorZone(_t14);\n                  }\n                } catch (err) {\n                  _iterator8.e(err);\n                } finally {\n                  _iterator8.f();\n                }\n                this._shouldUpdateDimensions = !1, this._shouldUpdateAnchor = !1;\n              }\n            }, {\n              key: \"_renderColorZone\",\n              value: function _renderColorZone(e) {\n                this._ctx.fillStyle = e.color, this._ctx.fillRect(_[e.position || \"full\"], Math.round((this._canvas.height - 1) * (e.startBufferLine / this._bufferService.buffers.active.lines.length) - l[e.position || \"full\"] / 2), d[e.position || \"full\"], Math.round((this._canvas.height - 1) * ((e.endBufferLine - e.startBufferLine) / this._bufferService.buffers.active.lines.length) + l[e.position || \"full\"]));\n              }\n            }, {\n              key: \"_queueRefresh\",\n              value: function _queueRefresh(e, t) {\n                var _this29 = this;\n                this._shouldUpdateDimensions = e || this._shouldUpdateDimensions, this._shouldUpdateAnchor = t || this._shouldUpdateAnchor, void 0 === this._animationFrame && (this._animationFrame = this._coreBrowseService.window.requestAnimationFrame(function () {\n                  _this29._refreshDecorations(), _this29._animationFrame = void 0;\n                }));\n              }\n            }]);\n            return u;\n          }(h.Disposable);\n          u = s([r(2, c.IBufferService), r(3, c.IDecorationService), r(4, a.IRenderService), r(5, c.IOptionsService), r(6, a.ICoreBrowserService)], u), t.OverviewRulerRenderer = u;\n        },\n        2950: function _(e, t, i) {\n          var s = this && this.__decorate || function (e, t, i, s) {\n              var r,\n                n = arguments.length,\n                o = n < 3 ? t : null === s ? s = Object.getOwnPropertyDescriptor(t, i) : s;\n              if (\"object\" == (typeof Reflect === \"undefined\" ? \"undefined\" : _typeof(Reflect)) && \"function\" == typeof Reflect.decorate) o = Reflect.decorate(e, t, i, s);else for (var a = e.length - 1; a >= 0; a--) (r = e[a]) && (o = (n < 3 ? r(o) : n > 3 ? r(t, i, o) : r(t, i)) || o);\n              return n > 3 && o && Object.defineProperty(t, i, o), o;\n            },\n            r = this && this.__param || function (e, t) {\n              return function (i, s) {\n                t(i, s, e);\n              };\n            };\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.CompositionHelper = void 0;\n          var n = i(4725),\n            o = i(2585),\n            a = i(2584);\n          var h = /*#__PURE__*/function () {\n            function h(e, t, i, s, r, n) {\n              _classCallCheck(this, h);\n              this._textarea = e, this._compositionView = t, this._bufferService = i, this._optionsService = s, this._coreService = r, this._renderService = n, this._isComposing = !1, this._isSendingComposition = !1, this._compositionPosition = {\n                start: 0,\n                end: 0\n              }, this._dataAlreadySent = \"\";\n            }\n            _createClass(h, [{\n              key: \"isComposing\",\n              get: function get() {\n                return this._isComposing;\n              }\n            }, {\n              key: \"compositionstart\",\n              value: function compositionstart() {\n                this._isComposing = !0, this._compositionPosition.start = this._textarea.value.length, this._compositionView.textContent = \"\", this._dataAlreadySent = \"\", this._compositionView.classList.add(\"active\");\n              }\n            }, {\n              key: \"compositionupdate\",\n              value: function compositionupdate(e) {\n                var _this30 = this;\n                this._compositionView.textContent = e.data, this.updateCompositionElements(), setTimeout(function () {\n                  _this30._compositionPosition.end = _this30._textarea.value.length;\n                }, 0);\n              }\n            }, {\n              key: \"compositionend\",\n              value: function compositionend() {\n                this._finalizeComposition(!0);\n              }\n            }, {\n              key: \"keydown\",\n              value: function keydown(e) {\n                if (this._isComposing || this._isSendingComposition) {\n                  if (229 === e.keyCode) return !1;\n                  if (16 === e.keyCode || 17 === e.keyCode || 18 === e.keyCode) return !1;\n                  this._finalizeComposition(!1);\n                }\n                return 229 !== e.keyCode || (this._handleAnyTextareaChanges(), !1);\n              }\n            }, {\n              key: \"_finalizeComposition\",\n              value: function _finalizeComposition(e) {\n                var _this31 = this;\n                if (this._compositionView.classList.remove(\"active\"), this._isComposing = !1, e) {\n                  var _e24 = {\n                    start: this._compositionPosition.start,\n                    end: this._compositionPosition.end\n                  };\n                  this._isSendingComposition = !0, setTimeout(function () {\n                    if (_this31._isSendingComposition) {\n                      var _t15;\n                      _this31._isSendingComposition = !1, _e24.start += _this31._dataAlreadySent.length, _t15 = _this31._isComposing ? _this31._textarea.value.substring(_e24.start, _e24.end) : _this31._textarea.value.substring(_e24.start), _t15.length > 0 && _this31._coreService.triggerDataEvent(_t15, !0);\n                    }\n                  }, 0);\n                } else {\n                  this._isSendingComposition = !1;\n                  var _e25 = this._textarea.value.substring(this._compositionPosition.start, this._compositionPosition.end);\n                  this._coreService.triggerDataEvent(_e25, !0);\n                }\n              }\n            }, {\n              key: \"_handleAnyTextareaChanges\",\n              value: function _handleAnyTextareaChanges() {\n                var _this32 = this;\n                var e = this._textarea.value;\n                setTimeout(function () {\n                  if (!_this32._isComposing) {\n                    var _t16 = _this32._textarea.value,\n                      _i8 = _t16.replace(e, \"\");\n                    _this32._dataAlreadySent = _i8, _t16.length > e.length ? _this32._coreService.triggerDataEvent(_i8, !0) : _t16.length < e.length ? _this32._coreService.triggerDataEvent(\"\".concat(a.C0.DEL), !0) : _t16.length === e.length && _t16 !== e && _this32._coreService.triggerDataEvent(_t16, !0);\n                  }\n                }, 0);\n              }\n            }, {\n              key: \"updateCompositionElements\",\n              value: function updateCompositionElements(e) {\n                var _this33 = this;\n                if (this._isComposing) {\n                  if (this._bufferService.buffer.isCursorInViewport) {\n                    var _e26 = Math.min(this._bufferService.buffer.x, this._bufferService.cols - 1),\n                      _t17 = this._renderService.dimensions.css.cell.height,\n                      _i9 = this._bufferService.buffer.y * this._renderService.dimensions.css.cell.height,\n                      _s8 = _e26 * this._renderService.dimensions.css.cell.width;\n                    this._compositionView.style.left = _s8 + \"px\", this._compositionView.style.top = _i9 + \"px\", this._compositionView.style.height = _t17 + \"px\", this._compositionView.style.lineHeight = _t17 + \"px\", this._compositionView.style.fontFamily = this._optionsService.rawOptions.fontFamily, this._compositionView.style.fontSize = this._optionsService.rawOptions.fontSize + \"px\";\n                    var _r4 = this._compositionView.getBoundingClientRect();\n                    this._textarea.style.left = _s8 + \"px\", this._textarea.style.top = _i9 + \"px\", this._textarea.style.width = Math.max(_r4.width, 1) + \"px\", this._textarea.style.height = Math.max(_r4.height, 1) + \"px\", this._textarea.style.lineHeight = _r4.height + \"px\";\n                  }\n                  e || setTimeout(function () {\n                    return _this33.updateCompositionElements(!0);\n                  }, 0);\n                }\n              }\n            }]);\n            return h;\n          }();\n          h = s([r(2, o.IBufferService), r(3, o.IOptionsService), r(4, o.ICoreService), r(5, n.IRenderService)], h), t.CompositionHelper = h;\n        },\n        9806: function _(e, t) {\n          function i(e, t, i) {\n            var s = i.getBoundingClientRect(),\n              r = e.getComputedStyle(i),\n              n = parseInt(r.getPropertyValue(\"padding-left\")),\n              o = parseInt(r.getPropertyValue(\"padding-top\"));\n            return [t.clientX - s.left - n, t.clientY - s.top - o];\n          }\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.getCoords = t.getCoordsRelativeToElement = void 0, t.getCoordsRelativeToElement = i, t.getCoords = function (e, t, s, r, n, o, a, h, c) {\n            if (!o) return;\n            var l = i(e, t, s);\n            return l ? (l[0] = Math.ceil((l[0] + (c ? a / 2 : 0)) / a), l[1] = Math.ceil(l[1] / h), l[0] = Math.min(Math.max(l[0], 1), r + (c ? 1 : 0)), l[1] = Math.min(Math.max(l[1], 1), n), l) : void 0;\n          };\n        },\n        9504: function _(e, t, i) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.moveToCellSequence = void 0;\n          var s = i(2584);\n          function r(e, t, i, s) {\n            var r = e - n(e, i),\n              a = t - n(t, i),\n              l = Math.abs(r - a) - function (e, t, i) {\n                var s = 0;\n                var r = e - n(e, i),\n                  a = t - n(t, i);\n                for (var _n4 = 0; _n4 < Math.abs(r - a); _n4++) {\n                  var _a2 = \"A\" === o(e, t) ? -1 : 1,\n                    _h = i.buffer.lines.get(r + _a2 * _n4);\n                  (null == _h ? void 0 : _h.isWrapped) && s++;\n                }\n                return s;\n              }(e, t, i);\n            return c(l, h(o(e, t), s));\n          }\n          function n(e, t) {\n            var i = 0,\n              s = t.buffer.lines.get(e),\n              r = null == s ? void 0 : s.isWrapped;\n            for (; r && e >= 0 && e < t.rows;) i++, s = t.buffer.lines.get(--e), r = null == s ? void 0 : s.isWrapped;\n            return i;\n          }\n          function o(e, t) {\n            return e > t ? \"A\" : \"B\";\n          }\n          function a(e, t, i, s, r, n) {\n            var o = e,\n              a = t,\n              h = \"\";\n            for (; o !== i || a !== s;) o += r ? 1 : -1, r && o > n.cols - 1 ? (h += n.buffer.translateBufferLineToString(a, !1, e, o), o = 0, e = 0, a++) : !r && o < 0 && (h += n.buffer.translateBufferLineToString(a, !1, 0, e + 1), o = n.cols - 1, e = o, a--);\n            return h + n.buffer.translateBufferLineToString(a, !1, e, o);\n          }\n          function h(e, t) {\n            var i = t ? \"O\" : \"[\";\n            return s.C0.ESC + i + e;\n          }\n          function c(e, t) {\n            e = Math.floor(e);\n            var i = \"\";\n            for (var _s9 = 0; _s9 < e; _s9++) i += t;\n            return i;\n          }\n          t.moveToCellSequence = function (e, t, i, s) {\n            var o = i.buffer.x,\n              l = i.buffer.y;\n            if (!i.buffer.hasScrollback) return function (e, t, i, s, o, l) {\n              return 0 === r(t, s, o, l).length ? \"\" : c(a(e, t, e, t - n(t, o), !1, o).length, h(\"D\", l));\n            }(o, l, 0, t, i, s) + r(l, t, i, s) + function (e, t, i, s, o, l) {\n              var d;\n              d = r(t, s, o, l).length > 0 ? s - n(s, o) : t;\n              var _ = s,\n                u = function (e, t, i, s, o, a) {\n                  var h;\n                  return h = r(i, s, o, a).length > 0 ? s - n(s, o) : t, e < i && h <= s || e >= i && h < s ? \"C\" : \"D\";\n                }(e, t, i, s, o, l);\n              return c(a(e, d, i, _, \"C\" === u, o).length, h(u, l));\n            }(o, l, e, t, i, s);\n            var d;\n            if (l === t) return d = o > e ? \"D\" : \"C\", c(Math.abs(o - e), h(d, s));\n            d = l > t ? \"D\" : \"C\";\n            var _ = Math.abs(l - t);\n            return c(function (e, t) {\n              return t.cols - e;\n            }(l > t ? e : o, i) + (_ - 1) * i.cols + 1 + ((l > t ? o : e) - 1), h(d, s));\n          };\n        },\n        1296: function _(e, t, i) {\n          var s = this && this.__decorate || function (e, t, i, s) {\n              var r,\n                n = arguments.length,\n                o = n < 3 ? t : null === s ? s = Object.getOwnPropertyDescriptor(t, i) : s;\n              if (\"object\" == (typeof Reflect === \"undefined\" ? \"undefined\" : _typeof(Reflect)) && \"function\" == typeof Reflect.decorate) o = Reflect.decorate(e, t, i, s);else for (var a = e.length - 1; a >= 0; a--) (r = e[a]) && (o = (n < 3 ? r(o) : n > 3 ? r(t, i, o) : r(t, i)) || o);\n              return n > 3 && o && Object.defineProperty(t, i, o), o;\n            },\n            r = this && this.__param || function (e, t) {\n              return function (i, s) {\n                t(i, s, e);\n              };\n            };\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.DomRenderer = void 0;\n          var n = i(9631),\n            o = i(3787),\n            a = i(2223),\n            h = i(6171),\n            c = i(4725),\n            l = i(8055),\n            d = i(8460),\n            _ = i(844),\n            u = i(2585),\n            f = \"xterm-dom-renderer-owner-\",\n            v = \"xterm-focus\";\n          var g = 1,\n            p = /*#__PURE__*/function (_$Disposable) {\n              _inherits(p, _$Disposable);\n              var _super8 = _createSuper(p);\n              function p(e, t, i, s, r, a, c, l, u, v) {\n                var _this34;\n                _classCallCheck(this, p);\n                _this34 = _super8.call(this), _this34._element = e, _this34._screenElement = t, _this34._viewportElement = i, _this34._linkifier2 = s, _this34._charSizeService = a, _this34._optionsService = c, _this34._bufferService = l, _this34._coreBrowserService = u, _this34._terminalClass = g++, _this34._rowElements = [], _this34._cellToRowElements = [], _this34.onRequestRedraw = _this34.register(new d.EventEmitter()).event, _this34._rowContainer = document.createElement(\"div\"), _this34._rowContainer.classList.add(\"xterm-rows\"), _this34._rowContainer.style.lineHeight = \"normal\", _this34._rowContainer.setAttribute(\"aria-hidden\", \"true\"), _this34._refreshRowElements(_this34._bufferService.cols, _this34._bufferService.rows), _this34._selectionContainer = document.createElement(\"div\"), _this34._selectionContainer.classList.add(\"xterm-selection\"), _this34._selectionContainer.setAttribute(\"aria-hidden\", \"true\"), _this34.dimensions = (0, h.createRenderDimensions)(), _this34._updateDimensions(), _this34.register(_this34._optionsService.onOptionChange(function () {\n                  return _this34._handleOptionsChanged();\n                })), _this34.register(v.onChangeColors(function (e) {\n                  return _this34._injectCss(e);\n                })), _this34._injectCss(v.colors), _this34._rowFactory = r.createInstance(o.DomRendererRowFactory, document), _this34._element.classList.add(f + _this34._terminalClass), _this34._screenElement.appendChild(_this34._rowContainer), _this34._screenElement.appendChild(_this34._selectionContainer), _this34.register(_this34._linkifier2.onShowLinkUnderline(function (e) {\n                  return _this34._handleLinkHover(e);\n                })), _this34.register(_this34._linkifier2.onHideLinkUnderline(function (e) {\n                  return _this34._handleLinkLeave(e);\n                })), _this34.register((0, _.toDisposable)(function () {\n                  _this34._element.classList.remove(f + _this34._terminalClass), (0, n.removeElementFromParent)(_this34._rowContainer, _this34._selectionContainer, _this34._themeStyleElement, _this34._dimensionsStyleElement);\n                }));\n                return _this34;\n              }\n              _createClass(p, [{\n                key: \"_updateDimensions\",\n                value: function _updateDimensions() {\n                  var e = this._coreBrowserService.dpr;\n                  this.dimensions.device.char.width = this._charSizeService.width * e, this.dimensions.device.char.height = Math.ceil(this._charSizeService.height * e), this.dimensions.device.cell.width = this.dimensions.device.char.width + Math.round(this._optionsService.rawOptions.letterSpacing), this.dimensions.device.cell.height = Math.floor(this.dimensions.device.char.height * this._optionsService.rawOptions.lineHeight), this.dimensions.device.char.left = 0, this.dimensions.device.char.top = 0, this.dimensions.device.canvas.width = this.dimensions.device.cell.width * this._bufferService.cols, this.dimensions.device.canvas.height = this.dimensions.device.cell.height * this._bufferService.rows, this.dimensions.css.canvas.width = Math.round(this.dimensions.device.canvas.width / e), this.dimensions.css.canvas.height = Math.round(this.dimensions.device.canvas.height / e), this.dimensions.css.cell.width = this.dimensions.css.canvas.width / this._bufferService.cols, this.dimensions.css.cell.height = this.dimensions.css.canvas.height / this._bufferService.rows;\n                  var _iterator9 = _createForOfIteratorHelper(this._rowElements),\n                    _step9;\n                  try {\n                    for (_iterator9.s(); !(_step9 = _iterator9.n()).done;) {\n                      var _e27 = _step9.value;\n                      _e27.style.width = \"\".concat(this.dimensions.css.canvas.width, \"px\"), _e27.style.height = \"\".concat(this.dimensions.css.cell.height, \"px\"), _e27.style.lineHeight = \"\".concat(this.dimensions.css.cell.height, \"px\"), _e27.style.overflow = \"hidden\";\n                    }\n                  } catch (err) {\n                    _iterator9.e(err);\n                  } finally {\n                    _iterator9.f();\n                  }\n                  this._dimensionsStyleElement || (this._dimensionsStyleElement = document.createElement(\"style\"), this._screenElement.appendChild(this._dimensionsStyleElement));\n                  var t = \"\".concat(this._terminalSelector, \" .xterm-rows span { display: inline-block; height: 100%; vertical-align: top; width: \").concat(this.dimensions.css.cell.width, \"px}\");\n                  this._dimensionsStyleElement.textContent = t, this._selectionContainer.style.height = this._viewportElement.style.height, this._screenElement.style.width = \"\".concat(this.dimensions.css.canvas.width, \"px\"), this._screenElement.style.height = \"\".concat(this.dimensions.css.canvas.height, \"px\");\n                }\n              }, {\n                key: \"_injectCss\",\n                value: function _injectCss(e) {\n                  this._themeStyleElement || (this._themeStyleElement = document.createElement(\"style\"), this._screenElement.appendChild(this._themeStyleElement));\n                  var t = \"\".concat(this._terminalSelector, \" .xterm-rows { color: \").concat(e.foreground.css, \"; font-family: \").concat(this._optionsService.rawOptions.fontFamily, \"; font-size: \").concat(this._optionsService.rawOptions.fontSize, \"px;}\");\n                  t += \"\".concat(this._terminalSelector, \" span:not(.\").concat(o.BOLD_CLASS, \") { font-weight: \").concat(this._optionsService.rawOptions.fontWeight, \";}\").concat(this._terminalSelector, \" span.\").concat(o.BOLD_CLASS, \" { font-weight: \").concat(this._optionsService.rawOptions.fontWeightBold, \";}\").concat(this._terminalSelector, \" span.\").concat(o.ITALIC_CLASS, \" { font-style: italic;}\"), t += \"@keyframes blink_box_shadow_\" + this._terminalClass + \" { 50% {  box-shadow: none; }}\", t += \"@keyframes blink_block_\" + this._terminalClass + \" { 0% {\" + \"  background-color: \".concat(e.cursor.css, \";\") + \"  color: \".concat(e.cursorAccent.css, \"; } 50% {\") + \"  background-color: \".concat(e.cursorAccent.css, \";\") + \"  color: \".concat(e.cursor.css, \"; }}\"), t += \"\".concat(this._terminalSelector, \" .xterm-rows:not(.xterm-focus) .\").concat(o.CURSOR_CLASS, \".\").concat(o.CURSOR_STYLE_BLOCK_CLASS, \" { outline: 1px solid \").concat(e.cursor.css, \"; outline-offset: -1px;}\").concat(this._terminalSelector, \" .xterm-rows.xterm-focus .\").concat(o.CURSOR_CLASS, \".\").concat(o.CURSOR_BLINK_CLASS, \":not(.\").concat(o.CURSOR_STYLE_BLOCK_CLASS, \") { animation: blink_box_shadow_\") + this._terminalClass + \" 1s step-end infinite;}\" + \"\".concat(this._terminalSelector, \" .xterm-rows.xterm-focus .\").concat(o.CURSOR_CLASS, \".\").concat(o.CURSOR_BLINK_CLASS, \".\").concat(o.CURSOR_STYLE_BLOCK_CLASS, \" { animation: blink_block_\") + this._terminalClass + \" 1s step-end infinite;}\" + \"\".concat(this._terminalSelector, \" .xterm-rows.xterm-focus .\").concat(o.CURSOR_CLASS, \".\").concat(o.CURSOR_STYLE_BLOCK_CLASS, \" {\") + \" background-color: \".concat(e.cursor.css, \";\") + \" color: \".concat(e.cursorAccent.css, \";}\") + \"\".concat(this._terminalSelector, \" .xterm-rows .\").concat(o.CURSOR_CLASS, \".\").concat(o.CURSOR_STYLE_BAR_CLASS, \" {\") + \" box-shadow: \".concat(this._optionsService.rawOptions.cursorWidth, \"px 0 0 \").concat(e.cursor.css, \" inset;}\") + \"\".concat(this._terminalSelector, \" .xterm-rows .\").concat(o.CURSOR_CLASS, \".\").concat(o.CURSOR_STYLE_UNDERLINE_CLASS, \" {\") + \" box-shadow: 0 -1px 0 \".concat(e.cursor.css, \" inset;}\"), t += \"\".concat(this._terminalSelector, \" .xterm-selection { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}\").concat(this._terminalSelector, \".focus .xterm-selection div { position: absolute; background-color: \").concat(e.selectionBackgroundOpaque.css, \";}\").concat(this._terminalSelector, \" .xterm-selection div { position: absolute; background-color: \").concat(e.selectionInactiveBackgroundOpaque.css, \";}\");\n                  var _iterator10 = _createForOfIteratorHelper(e.ansi.entries()),\n                    _step10;\n                  try {\n                    for (_iterator10.s(); !(_step10 = _iterator10.n()).done;) {\n                      var _step10$value = _slicedToArray(_step10.value, 2),\n                        _i10 = _step10$value[0],\n                        _s10 = _step10$value[1];\n                      t += \"\".concat(this._terminalSelector, \" .xterm-fg-\").concat(_i10, \" { color: \").concat(_s10.css, \"; }\").concat(this._terminalSelector, \" .xterm-bg-\").concat(_i10, \" { background-color: \").concat(_s10.css, \"; }\");\n                    }\n                  } catch (err) {\n                    _iterator10.e(err);\n                  } finally {\n                    _iterator10.f();\n                  }\n                  t += \"\".concat(this._terminalSelector, \" .xterm-fg-\").concat(a.INVERTED_DEFAULT_COLOR, \" { color: \").concat(l.color.opaque(e.background).css, \"; }\").concat(this._terminalSelector, \" .xterm-bg-\").concat(a.INVERTED_DEFAULT_COLOR, \" { background-color: \").concat(e.foreground.css, \"; }\"), this._themeStyleElement.textContent = t;\n                }\n              }, {\n                key: \"handleDevicePixelRatioChange\",\n                value: function handleDevicePixelRatioChange() {\n                  this._updateDimensions();\n                }\n              }, {\n                key: \"_refreshRowElements\",\n                value: function _refreshRowElements(e, t) {\n                  for (var _e28 = this._rowElements.length; _e28 <= t; _e28++) {\n                    var _e29 = document.createElement(\"div\");\n                    this._rowContainer.appendChild(_e29), this._rowElements.push(_e29);\n                  }\n                  for (; this._rowElements.length > t;) this._rowContainer.removeChild(this._rowElements.pop());\n                }\n              }, {\n                key: \"handleResize\",\n                value: function handleResize(e, t) {\n                  this._refreshRowElements(e, t), this._updateDimensions();\n                }\n              }, {\n                key: \"handleCharSizeChanged\",\n                value: function handleCharSizeChanged() {\n                  this._updateDimensions();\n                }\n              }, {\n                key: \"handleBlur\",\n                value: function handleBlur() {\n                  this._rowContainer.classList.remove(v);\n                }\n              }, {\n                key: \"handleFocus\",\n                value: function handleFocus() {\n                  this._rowContainer.classList.add(v);\n                }\n              }, {\n                key: \"handleSelectionChanged\",\n                value: function handleSelectionChanged(e, t, i) {\n                  for (; this._selectionContainer.children.length;) this._selectionContainer.removeChild(this._selectionContainer.children[0]);\n                  if (this._rowFactory.handleSelectionChanged(e, t, i), this.renderRows(0, this._bufferService.rows - 1), !e || !t) return;\n                  var s = e[1] - this._bufferService.buffer.ydisp,\n                    r = t[1] - this._bufferService.buffer.ydisp,\n                    n = Math.max(s, 0),\n                    o = Math.min(r, this._bufferService.rows - 1);\n                  if (n >= this._bufferService.rows || o < 0) return;\n                  var a = document.createDocumentFragment();\n                  if (i) {\n                    var _i11 = e[0] > t[0];\n                    a.appendChild(this._createSelectionElement(n, _i11 ? t[0] : e[0], _i11 ? e[0] : t[0], o - n + 1));\n                  } else {\n                    var _i12 = s === n ? e[0] : 0,\n                      _h2 = n === r ? t[0] : this._bufferService.cols;\n                    a.appendChild(this._createSelectionElement(n, _i12, _h2));\n                    var _c2 = o - n - 1;\n                    if (a.appendChild(this._createSelectionElement(n + 1, 0, this._bufferService.cols, _c2)), n !== o) {\n                      var _e30 = r === o ? t[0] : this._bufferService.cols;\n                      a.appendChild(this._createSelectionElement(o, 0, _e30));\n                    }\n                  }\n                  this._selectionContainer.appendChild(a);\n                }\n              }, {\n                key: \"_createSelectionElement\",\n                value: function _createSelectionElement(e, t, i) {\n                  var s = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;\n                  var r = document.createElement(\"div\");\n                  return r.style.height = s * this.dimensions.css.cell.height + \"px\", r.style.top = e * this.dimensions.css.cell.height + \"px\", r.style.left = t * this.dimensions.css.cell.width + \"px\", r.style.width = this.dimensions.css.cell.width * (i - t) + \"px\", r;\n                }\n              }, {\n                key: \"handleCursorMove\",\n                value: function handleCursorMove() {}\n              }, {\n                key: \"_handleOptionsChanged\",\n                value: function _handleOptionsChanged() {\n                  this._updateDimensions();\n                }\n              }, {\n                key: \"clear\",\n                value: function clear() {\n                  var _iterator11 = _createForOfIteratorHelper(this._rowElements),\n                    _step11;\n                  try {\n                    for (_iterator11.s(); !(_step11 = _iterator11.n()).done;) {\n                      var _e31 = _step11.value;\n                      _e31.replaceChildren();\n                    }\n                  } catch (err) {\n                    _iterator11.e(err);\n                  } finally {\n                    _iterator11.f();\n                  }\n                }\n              }, {\n                key: \"renderRows\",\n                value: function renderRows(e, t) {\n                  var i = this._bufferService.buffer.ybase + this._bufferService.buffer.y,\n                    s = Math.min(this._bufferService.buffer.x, this._bufferService.cols - 1),\n                    r = this._optionsService.rawOptions.cursorBlink;\n                  for (var _n5 = e; _n5 <= t; _n5++) {\n                    var _e32 = this._rowElements[_n5],\n                      _t18 = _n5 + this._bufferService.buffer.ydisp,\n                      _o2 = this._bufferService.buffer.lines.get(_t18),\n                      _a3 = this._optionsService.rawOptions.cursorStyle;\n                    this._cellToRowElements[_n5] && this._cellToRowElements[_n5].length === this._bufferService.cols || (this._cellToRowElements[_n5] = new Int16Array(this._bufferService.cols)), _e32.replaceChildren(this._rowFactory.createRow(_o2, _t18, _t18 === i, _a3, s, r, this.dimensions.css.cell.width, this._bufferService.cols, this._cellToRowElements[_n5]));\n                  }\n                }\n              }, {\n                key: \"_terminalSelector\",\n                get: function get() {\n                  return \".\".concat(f).concat(this._terminalClass);\n                }\n              }, {\n                key: \"_handleLinkHover\",\n                value: function _handleLinkHover(e) {\n                  this._setCellUnderline(e.x1, e.x2, e.y1, e.y2, e.cols, !0);\n                }\n              }, {\n                key: \"_handleLinkLeave\",\n                value: function _handleLinkLeave(e) {\n                  this._setCellUnderline(e.x1, e.x2, e.y1, e.y2, e.cols, !1);\n                }\n              }, {\n                key: \"_setCellUnderline\",\n                value: function _setCellUnderline(e, t, i, s, r, n) {\n                  if (e = this._cellToRowElements[i][e], t = this._cellToRowElements[s][t], -1 !== e && -1 !== t) for (; e !== t || i !== s;) {\n                    var _t19 = this._rowElements[i];\n                    if (!_t19) return;\n                    var _s11 = _t19.children[e];\n                    _s11 && (_s11.style.textDecoration = n ? \"underline\" : \"none\"), ++e >= r && (e = 0, i++);\n                  }\n                }\n              }]);\n              return p;\n            }(_.Disposable);\n          p = s([r(4, u.IInstantiationService), r(5, c.ICharSizeService), r(6, u.IOptionsService), r(7, u.IBufferService), r(8, c.ICoreBrowserService), r(9, c.IThemeService)], p), t.DomRenderer = p;\n        },\n        3787: function _(e, t, i) {\n          var s = this && this.__decorate || function (e, t, i, s) {\n              var r,\n                n = arguments.length,\n                o = n < 3 ? t : null === s ? s = Object.getOwnPropertyDescriptor(t, i) : s;\n              if (\"object\" == (typeof Reflect === \"undefined\" ? \"undefined\" : _typeof(Reflect)) && \"function\" == typeof Reflect.decorate) o = Reflect.decorate(e, t, i, s);else for (var a = e.length - 1; a >= 0; a--) (r = e[a]) && (o = (n < 3 ? r(o) : n > 3 ? r(t, i, o) : r(t, i)) || o);\n              return n > 3 && o && Object.defineProperty(t, i, o), o;\n            },\n            r = this && this.__param || function (e, t) {\n              return function (i, s) {\n                t(i, s, e);\n              };\n            };\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.DomRendererRowFactory = t.CURSOR_STYLE_UNDERLINE_CLASS = t.CURSOR_STYLE_BAR_CLASS = t.CURSOR_STYLE_BLOCK_CLASS = t.CURSOR_BLINK_CLASS = t.CURSOR_CLASS = t.STRIKETHROUGH_CLASS = t.UNDERLINE_CLASS = t.ITALIC_CLASS = t.DIM_CLASS = t.BOLD_CLASS = void 0;\n          var n = i(2223),\n            o = i(643),\n            a = i(511),\n            h = i(2585),\n            c = i(8055),\n            l = i(4725),\n            d = i(4269),\n            _ = i(6171),\n            u = i(3734);\n          t.BOLD_CLASS = \"xterm-bold\", t.DIM_CLASS = \"xterm-dim\", t.ITALIC_CLASS = \"xterm-italic\", t.UNDERLINE_CLASS = \"xterm-underline\", t.STRIKETHROUGH_CLASS = \"xterm-strikethrough\", t.CURSOR_CLASS = \"xterm-cursor\", t.CURSOR_BLINK_CLASS = \"xterm-cursor-blink\", t.CURSOR_STYLE_BLOCK_CLASS = \"xterm-cursor-block\", t.CURSOR_STYLE_BAR_CLASS = \"xterm-cursor-bar\", t.CURSOR_STYLE_UNDERLINE_CLASS = \"xterm-cursor-underline\";\n          var f = /*#__PURE__*/function () {\n            function f(e, t, i, s, r, n, o) {\n              _classCallCheck(this, f);\n              this._document = e, this._characterJoinerService = t, this._optionsService = i, this._coreBrowserService = s, this._coreService = r, this._decorationService = n, this._themeService = o, this._workCell = new a.CellData(), this._columnSelectMode = !1;\n            }\n            _createClass(f, [{\n              key: \"handleSelectionChanged\",\n              value: function handleSelectionChanged(e, t, i) {\n                this._selectionStart = e, this._selectionEnd = t, this._columnSelectMode = i;\n              }\n            }, {\n              key: \"createRow\",\n              value: function createRow(e, i, s, r, a, h, l, _, _f) {\n                var _this35 = this;\n                var g = this._document.createDocumentFragment(),\n                  p = this._characterJoinerService.getJoinedCharacters(i);\n                var S = 0;\n                for (var _t20 = Math.min(e.length, _) - 1; _t20 >= 0; _t20--) if (e.loadCell(_t20, this._workCell).getCode() !== o.NULL_CELL_CODE || s && _t20 === a) {\n                  S = _t20 + 1;\n                  break;\n                }\n                var m = this._themeService.colors;\n                var C = -1,\n                  b = 0;\n                var _loop3 = function _loop3() {\n                  e.loadCell(b, _this35._workCell);\n                  var _ = _this35._workCell.getWidth();\n                  if (0 === _) {\n                    _f[b] = C;\n                    return \"continue\";\n                  }\n                  var S = !1,\n                    y = b,\n                    w = _this35._workCell;\n                  if (p.length > 0 && b === p[0][0]) {\n                    S = !0;\n                    var _t21 = p.shift();\n                    w = new d.JoinedCellData(_this35._workCell, e.translateToString(!0, _t21[0], _t21[1]), _t21[1] - _t21[0]), y = _t21[1] - 1, _ = w.getWidth();\n                  }\n                  var E = _this35._document.createElement(\"span\");\n                  if (_ > 1 && (E.style.width = l * _ + \"px\"), S && (E.style.display = \"inline\", a >= b && a <= y && (a = b)), !_this35._coreService.isCursorHidden && s && b === a) switch (E.classList.add(t.CURSOR_CLASS), h && E.classList.add(t.CURSOR_BLINK_CLASS), r) {\n                    case \"bar\":\n                      E.classList.add(t.CURSOR_STYLE_BAR_CLASS);\n                      break;\n                    case \"underline\":\n                      E.classList.add(t.CURSOR_STYLE_UNDERLINE_CLASS);\n                      break;\n                    default:\n                      E.classList.add(t.CURSOR_STYLE_BLOCK_CLASS);\n                  }\n                  if (w.isBold() && E.classList.add(t.BOLD_CLASS), w.isItalic() && E.classList.add(t.ITALIC_CLASS), w.isDim() && E.classList.add(t.DIM_CLASS), w.isInvisible() ? E.textContent = o.WHITESPACE_CELL_CHAR : E.textContent = w.getChars() || o.WHITESPACE_CELL_CHAR, w.isUnderline() && (E.classList.add(\"\".concat(t.UNDERLINE_CLASS, \"-\").concat(w.extended.underlineStyle)), \" \" === E.textContent && (E.textContent = \"\"), !w.isUnderlineColorDefault())) if (w.isUnderlineColorRGB()) E.style.textDecorationColor = \"rgb(\".concat(u.AttributeData.toColorRGB(w.getUnderlineColor()).join(\",\"), \")\");else {\n                    var _e33 = w.getUnderlineColor();\n                    _this35._optionsService.rawOptions.drawBoldTextInBrightColors && w.isBold() && _e33 < 8 && (_e33 += 8), E.style.textDecorationColor = m.ansi[_e33].css;\n                  }\n                  w.isStrikethrough() && E.classList.add(t.STRIKETHROUGH_CLASS);\n                  var L = w.getFgColor(),\n                    k = w.getFgColorMode(),\n                    R = w.getBgColor(),\n                    D = w.getBgColorMode();\n                  var A = !!w.isInverse();\n                  if (A) {\n                    var _e34 = L;\n                    L = R, R = _e34;\n                    var _t22 = k;\n                    k = D, D = _t22;\n                  }\n                  var x,\n                    B,\n                    T = !1;\n                  _this35._decorationService.forEachDecorationAtCell(b, i, void 0, function (e) {\n                    \"top\" !== e.options.layer && T || (e.backgroundColorRGB && (D = 50331648, R = e.backgroundColorRGB.rgba >> 8 & 16777215, x = e.backgroundColorRGB), e.foregroundColorRGB && (k = 50331648, L = e.foregroundColorRGB.rgba >> 8 & 16777215, B = e.foregroundColorRGB), T = \"top\" === e.options.layer);\n                  });\n                  var M = _this35._isCellInSelection(b, i);\n                  var O;\n                  switch (T || m.selectionForeground && M && (k = 50331648, L = m.selectionForeground.rgba >> 8 & 16777215, B = m.selectionForeground), M && (x = _this35._coreBrowserService.isFocused ? m.selectionBackgroundOpaque : m.selectionInactiveBackgroundOpaque, T = !0), T && E.classList.add(\"xterm-decoration-top\"), D) {\n                    case 16777216:\n                    case 33554432:\n                      O = m.ansi[R], E.classList.add(\"xterm-bg-\".concat(R));\n                      break;\n                    case 50331648:\n                      O = c.rgba.toColor(R >> 16, R >> 8 & 255, 255 & R), _this35._addStyle(E, \"background-color:#\".concat(v((R >>> 0).toString(16), \"0\", 6)));\n                      break;\n                    default:\n                      A ? (O = m.foreground, E.classList.add(\"xterm-bg-\".concat(n.INVERTED_DEFAULT_COLOR))) : O = m.background;\n                  }\n                  switch (x || w.isDim() && (x = c.color.multiplyOpacity(O, .5)), k) {\n                    case 16777216:\n                    case 33554432:\n                      w.isBold() && L < 8 && _this35._optionsService.rawOptions.drawBoldTextInBrightColors && (L += 8), _this35._applyMinimumContrast(E, O, m.ansi[L], w, x, void 0) || E.classList.add(\"xterm-fg-\".concat(L));\n                      break;\n                    case 50331648:\n                      var _e35 = c.rgba.toColor(L >> 16 & 255, L >> 8 & 255, 255 & L);\n                      _this35._applyMinimumContrast(E, O, _e35, w, x, B) || _this35._addStyle(E, \"color:#\".concat(v(L.toString(16), \"0\", 6)));\n                      break;\n                    default:\n                      _this35._applyMinimumContrast(E, O, m.foreground, w, x, void 0) || A && E.classList.add(\"xterm-fg-\".concat(n.INVERTED_DEFAULT_COLOR));\n                  }\n                  g.appendChild(E), _f[b] = ++C, b = y;\n                };\n                for (; b < S; b++) {\n                  var _ret = _loop3();\n                  if (_ret === \"continue\") continue;\n                }\n                return b < _ - 1 && _f.subarray(b).fill(++C), g;\n              }\n            }, {\n              key: \"_applyMinimumContrast\",\n              value: function _applyMinimumContrast(e, t, i, s, r, n) {\n                if (1 === this._optionsService.rawOptions.minimumContrastRatio || (0, _.excludeFromContrastRatioDemands)(s.getCode())) return !1;\n                var o;\n                return r || n || (o = this._themeService.colors.contrastCache.getColor(t.rgba, i.rgba)), void 0 === o && (o = c.color.ensureContrastRatio(r || t, n || i, this._optionsService.rawOptions.minimumContrastRatio), this._themeService.colors.contrastCache.setColor((r || t).rgba, (n || i).rgba, null != o ? o : null)), !!o && (this._addStyle(e, \"color:\".concat(o.css)), !0);\n              }\n            }, {\n              key: \"_addStyle\",\n              value: function _addStyle(e, t) {\n                e.setAttribute(\"style\", \"\".concat(e.getAttribute(\"style\") || \"\").concat(t, \";\"));\n              }\n            }, {\n              key: \"_isCellInSelection\",\n              value: function _isCellInSelection(e, t) {\n                var i = this._selectionStart,\n                  s = this._selectionEnd;\n                return !(!i || !s) && (this._columnSelectMode ? i[0] <= s[0] ? e >= i[0] && t >= i[1] && e < s[0] && t <= s[1] : e < i[0] && t >= i[1] && e >= s[0] && t <= s[1] : t > i[1] && t < s[1] || i[1] === s[1] && t === i[1] && e >= i[0] && e < s[0] || i[1] < s[1] && t === s[1] && e < s[0] || i[1] < s[1] && t === i[1] && e >= i[0]);\n              }\n            }]);\n            return f;\n          }();\n          function v(e, t, i) {\n            for (; e.length < i;) e = t + e;\n            return e;\n          }\n          f = s([r(1, l.ICharacterJoinerService), r(2, h.IOptionsService), r(3, l.ICoreBrowserService), r(4, h.ICoreService), r(5, h.IDecorationService), r(6, l.IThemeService)], f), t.DomRendererRowFactory = f;\n        },\n        2223: function _(e, t, i) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.TEXT_BASELINE = t.DIM_OPACITY = t.INVERTED_DEFAULT_COLOR = void 0;\n          var s = i(6114);\n          t.INVERTED_DEFAULT_COLOR = 257, t.DIM_OPACITY = .5, t.TEXT_BASELINE = s.isFirefox || s.isLegacyEdge ? \"bottom\" : \"ideographic\";\n        },\n        6171: function _(e, t) {\n          function i(e) {\n            return 57508 <= e && e <= 57558;\n          }\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.createRenderDimensions = t.excludeFromContrastRatioDemands = t.isRestrictedPowerlineGlyph = t.isPowerlineGlyph = t.throwIfFalsy = void 0, t.throwIfFalsy = function (e) {\n            if (!e) throw new Error(\"value must not be falsy\");\n            return e;\n          }, t.isPowerlineGlyph = i, t.isRestrictedPowerlineGlyph = function (e) {\n            return 57520 <= e && e <= 57527;\n          }, t.excludeFromContrastRatioDemands = function (e) {\n            return i(e) || function (e) {\n              return 9472 <= e && e <= 9631;\n            }(e);\n          }, t.createRenderDimensions = function () {\n            return {\n              css: {\n                canvas: {\n                  width: 0,\n                  height: 0\n                },\n                cell: {\n                  width: 0,\n                  height: 0\n                }\n              },\n              device: {\n                canvas: {\n                  width: 0,\n                  height: 0\n                },\n                cell: {\n                  width: 0,\n                  height: 0\n                },\n                char: {\n                  width: 0,\n                  height: 0,\n                  left: 0,\n                  top: 0\n                }\n              }\n            };\n          };\n        },\n        456: function _(e, t) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.SelectionModel = void 0, t.SelectionModel = /*#__PURE__*/function () {\n            function _class5(e) {\n              _classCallCheck(this, _class5);\n              this._bufferService = e, this.isSelectAllActive = !1, this.selectionStartLength = 0;\n            }\n            _createClass(_class5, [{\n              key: \"clearSelection\",\n              value: function clearSelection() {\n                this.selectionStart = void 0, this.selectionEnd = void 0, this.isSelectAllActive = !1, this.selectionStartLength = 0;\n              }\n            }, {\n              key: \"finalSelectionStart\",\n              get: function get() {\n                return this.isSelectAllActive ? [0, 0] : this.selectionEnd && this.selectionStart && this.areSelectionValuesReversed() ? this.selectionEnd : this.selectionStart;\n              }\n            }, {\n              key: \"finalSelectionEnd\",\n              get: function get() {\n                if (this.isSelectAllActive) return [this._bufferService.cols, this._bufferService.buffer.ybase + this._bufferService.rows - 1];\n                if (this.selectionStart) {\n                  if (!this.selectionEnd || this.areSelectionValuesReversed()) {\n                    var _e36 = this.selectionStart[0] + this.selectionStartLength;\n                    return _e36 > this._bufferService.cols ? _e36 % this._bufferService.cols == 0 ? [this._bufferService.cols, this.selectionStart[1] + Math.floor(_e36 / this._bufferService.cols) - 1] : [_e36 % this._bufferService.cols, this.selectionStart[1] + Math.floor(_e36 / this._bufferService.cols)] : [_e36, this.selectionStart[1]];\n                  }\n                  if (this.selectionStartLength && this.selectionEnd[1] === this.selectionStart[1]) {\n                    var _e37 = this.selectionStart[0] + this.selectionStartLength;\n                    return _e37 > this._bufferService.cols ? [_e37 % this._bufferService.cols, this.selectionStart[1] + Math.floor(_e37 / this._bufferService.cols)] : [Math.max(_e37, this.selectionEnd[0]), this.selectionEnd[1]];\n                  }\n                  return this.selectionEnd;\n                }\n              }\n            }, {\n              key: \"areSelectionValuesReversed\",\n              value: function areSelectionValuesReversed() {\n                var e = this.selectionStart,\n                  t = this.selectionEnd;\n                return !(!e || !t) && (e[1] > t[1] || e[1] === t[1] && e[0] > t[0]);\n              }\n            }, {\n              key: \"handleTrim\",\n              value: function handleTrim(e) {\n                return this.selectionStart && (this.selectionStart[1] -= e), this.selectionEnd && (this.selectionEnd[1] -= e), this.selectionEnd && this.selectionEnd[1] < 0 ? (this.clearSelection(), !0) : (this.selectionStart && this.selectionStart[1] < 0 && (this.selectionStart[1] = 0), !1);\n              }\n            }]);\n            return _class5;\n          }();\n        },\n        428: function _(e, t, i) {\n          var s = this && this.__decorate || function (e, t, i, s) {\n              var r,\n                n = arguments.length,\n                o = n < 3 ? t : null === s ? s = Object.getOwnPropertyDescriptor(t, i) : s;\n              if (\"object\" == (typeof Reflect === \"undefined\" ? \"undefined\" : _typeof(Reflect)) && \"function\" == typeof Reflect.decorate) o = Reflect.decorate(e, t, i, s);else for (var a = e.length - 1; a >= 0; a--) (r = e[a]) && (o = (n < 3 ? r(o) : n > 3 ? r(t, i, o) : r(t, i)) || o);\n              return n > 3 && o && Object.defineProperty(t, i, o), o;\n            },\n            r = this && this.__param || function (e, t) {\n              return function (i, s) {\n                t(i, s, e);\n              };\n            };\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.CharSizeService = void 0;\n          var n = i(2585),\n            o = i(8460),\n            a = i(844);\n          var h = /*#__PURE__*/function (_a$Disposable4) {\n            _inherits(h, _a$Disposable4);\n            var _super9 = _createSuper(h);\n            function h(e, t, i) {\n              var _this36;\n              _classCallCheck(this, h);\n              _this36 = _super9.call(this), _this36._optionsService = i, _this36.width = 0, _this36.height = 0, _this36._onCharSizeChange = _this36.register(new o.EventEmitter()), _this36.onCharSizeChange = _this36._onCharSizeChange.event, _this36._measureStrategy = new c(e, t, _this36._optionsService), _this36.register(_this36._optionsService.onMultipleOptionChange([\"fontFamily\", \"fontSize\"], function () {\n                return _this36.measure();\n              }));\n              return _this36;\n            }\n            _createClass(h, [{\n              key: \"hasValidSize\",\n              get: function get() {\n                return this.width > 0 && this.height > 0;\n              }\n            }, {\n              key: \"measure\",\n              value: function measure() {\n                var e = this._measureStrategy.measure();\n                e.width === this.width && e.height === this.height || (this.width = e.width, this.height = e.height, this._onCharSizeChange.fire());\n              }\n            }]);\n            return h;\n          }(a.Disposable);\n          h = s([r(2, n.IOptionsService)], h), t.CharSizeService = h;\n          var c = /*#__PURE__*/function () {\n            function c(e, t, i) {\n              _classCallCheck(this, c);\n              this._document = e, this._parentElement = t, this._optionsService = i, this._result = {\n                width: 0,\n                height: 0\n              }, this._measureElement = this._document.createElement(\"span\"), this._measureElement.classList.add(\"xterm-char-measure-element\"), this._measureElement.textContent = \"W\", this._measureElement.setAttribute(\"aria-hidden\", \"true\"), this._parentElement.appendChild(this._measureElement);\n            }\n            _createClass(c, [{\n              key: \"measure\",\n              value: function measure() {\n                this._measureElement.style.fontFamily = this._optionsService.rawOptions.fontFamily, this._measureElement.style.fontSize = \"\".concat(this._optionsService.rawOptions.fontSize, \"px\");\n                var e = this._measureElement.getBoundingClientRect();\n                return 0 !== e.width && 0 !== e.height && (this._result.width = e.width, this._result.height = Math.ceil(e.height)), this._result;\n              }\n            }]);\n            return c;\n          }();\n        },\n        4269: function _(e, t, i) {\n          var s = this && this.__decorate || function (e, t, i, s) {\n              var r,\n                n = arguments.length,\n                o = n < 3 ? t : null === s ? s = Object.getOwnPropertyDescriptor(t, i) : s;\n              if (\"object\" == (typeof Reflect === \"undefined\" ? \"undefined\" : _typeof(Reflect)) && \"function\" == typeof Reflect.decorate) o = Reflect.decorate(e, t, i, s);else for (var a = e.length - 1; a >= 0; a--) (r = e[a]) && (o = (n < 3 ? r(o) : n > 3 ? r(t, i, o) : r(t, i)) || o);\n              return n > 3 && o && Object.defineProperty(t, i, o), o;\n            },\n            r = this && this.__param || function (e, t) {\n              return function (i, s) {\n                t(i, s, e);\n              };\n            };\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.CharacterJoinerService = t.JoinedCellData = void 0;\n          var n = i(3734),\n            o = i(643),\n            a = i(511),\n            h = i(2585);\n          var c = /*#__PURE__*/function (_n$AttributeData) {\n            _inherits(c, _n$AttributeData);\n            var _super10 = _createSuper(c);\n            function c(e, t, i) {\n              var _this37;\n              _classCallCheck(this, c);\n              _this37 = _super10.call(this), _this37.content = 0, _this37.combinedData = \"\", _this37.fg = e.fg, _this37.bg = e.bg, _this37.combinedData = t, _this37._width = i;\n              return _this37;\n            }\n            _createClass(c, [{\n              key: \"isCombined\",\n              value: function isCombined() {\n                return 2097152;\n              }\n            }, {\n              key: \"getWidth\",\n              value: function getWidth() {\n                return this._width;\n              }\n            }, {\n              key: \"getChars\",\n              value: function getChars() {\n                return this.combinedData;\n              }\n            }, {\n              key: \"getCode\",\n              value: function getCode() {\n                return 2097151;\n              }\n            }, {\n              key: \"setFromCharData\",\n              value: function setFromCharData(e) {\n                throw new Error(\"not implemented\");\n              }\n            }, {\n              key: \"getAsCharData\",\n              value: function getAsCharData() {\n                return [this.fg, this.getChars(), this.getWidth(), this.getCode()];\n              }\n            }]);\n            return c;\n          }(n.AttributeData);\n          t.JoinedCellData = c;\n          var l = /*#__PURE__*/function () {\n            function e(_e38) {\n              _classCallCheck(this, e);\n              this._bufferService = _e38, this._characterJoiners = [], this._nextCharacterJoinerId = 0, this._workCell = new a.CellData();\n            }\n            _createClass(e, [{\n              key: \"register\",\n              value: function register(_e39) {\n                var t = {\n                  id: this._nextCharacterJoinerId++,\n                  handler: _e39\n                };\n                return this._characterJoiners.push(t), t.id;\n              }\n            }, {\n              key: \"deregister\",\n              value: function deregister(_e40) {\n                for (var _t23 = 0; _t23 < this._characterJoiners.length; _t23++) if (this._characterJoiners[_t23].id === _e40) return this._characterJoiners.splice(_t23, 1), !0;\n                return !1;\n              }\n            }, {\n              key: \"getJoinedCharacters\",\n              value: function getJoinedCharacters(_e41) {\n                if (0 === this._characterJoiners.length) return [];\n                var t = this._bufferService.buffer.lines.get(_e41);\n                if (!t || 0 === t.length) return [];\n                var i = [],\n                  s = t.translateToString(!0);\n                var r = 0,\n                  n = 0,\n                  a = 0,\n                  h = t.getFg(0),\n                  c = t.getBg(0);\n                for (var _e49 = 0; _e49 < t.getTrimmedLength(); _e49++) if (t.loadCell(_e49, this._workCell), 0 !== this._workCell.getWidth()) {\n                  if (this._workCell.fg !== h || this._workCell.bg !== c) {\n                    if (_e49 - r > 1) {\n                      var _e43 = this._getJoinedRanges(s, a, n, t, r);\n                      for (var _t24 = 0; _t24 < _e43.length; _t24++) i.push(_e43[_t24]);\n                    }\n                    r = _e49, a = n, h = this._workCell.fg, c = this._workCell.bg;\n                  }\n                  n += this._workCell.getChars().length || o.WHITESPACE_CELL_CHAR.length;\n                }\n                if (this._bufferService.cols - r > 1) {\n                  var _e44 = this._getJoinedRanges(s, a, n, t, r);\n                  for (var _t25 = 0; _t25 < _e44.length; _t25++) i.push(_e44[_t25]);\n                }\n                return i;\n              }\n            }, {\n              key: \"_getJoinedRanges\",\n              value: function _getJoinedRanges(t, i, s, r, n) {\n                var o = t.substring(i, s);\n                var a = [];\n                try {\n                  a = this._characterJoiners[0].handler(o);\n                } catch (_e45) {\n                  console.error(_e45);\n                }\n                for (var _t26 = 1; _t26 < this._characterJoiners.length; _t26++) try {\n                  var _i13 = this._characterJoiners[_t26].handler(o);\n                  for (var _t27 = 0; _t27 < _i13.length; _t27++) e._mergeRanges(a, _i13[_t27]);\n                } catch (_e46) {\n                  console.error(_e46);\n                }\n                return this._stringRangesToCellRanges(a, r, n), a;\n              }\n            }, {\n              key: \"_stringRangesToCellRanges\",\n              value: function _stringRangesToCellRanges(_e47, t, i) {\n                var s = 0,\n                  r = !1,\n                  n = 0,\n                  a = _e47[s];\n                if (a) {\n                  for (var _h3 = i; _h3 < this._bufferService.cols; _h3++) {\n                    var _i14 = t.getWidth(_h3),\n                      _c3 = t.getString(_h3).length || o.WHITESPACE_CELL_CHAR.length;\n                    if (0 !== _i14) {\n                      if (!r && a[0] <= n && (a[0] = _h3, r = !0), a[1] <= n) {\n                        if (a[1] = _h3, a = _e47[++s], !a) break;\n                        a[0] <= n ? (a[0] = _h3, r = !0) : r = !1;\n                      }\n                      n += _c3;\n                    }\n                  }\n                  a && (a[1] = this._bufferService.cols);\n                }\n              }\n            }], [{\n              key: \"_mergeRanges\",\n              value: function _mergeRanges(_e48, t) {\n                var i = !1;\n                for (var _s12 = 0; _s12 < _e48.length; _s12++) {\n                  var _r5 = _e48[_s12];\n                  if (i) {\n                    if (t[1] <= _r5[0]) return _e48[_s12 - 1][1] = t[1], _e48;\n                    if (t[1] <= _r5[1]) return _e48[_s12 - 1][1] = Math.max(t[1], _r5[1]), _e48.splice(_s12, 1), _e48;\n                    _e48.splice(_s12, 1), _s12--;\n                  } else {\n                    if (t[1] <= _r5[0]) return _e48.splice(_s12, 0, t), _e48;\n                    if (t[1] <= _r5[1]) return _r5[0] = Math.min(t[0], _r5[0]), _e48;\n                    t[0] < _r5[1] && (_r5[0] = Math.min(t[0], _r5[0]), i = !0);\n                  }\n                }\n                return i ? _e48[_e48.length - 1][1] = t[1] : _e48.push(t), _e48;\n              }\n            }]);\n            return e;\n          }();\n          l = s([r(0, h.IBufferService)], l), t.CharacterJoinerService = l;\n        },\n        5114: function _(e, t) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.CoreBrowserService = void 0, t.CoreBrowserService = /*#__PURE__*/function () {\n            function _class6(e, t) {\n              var _this38 = this;\n              _classCallCheck(this, _class6);\n              this._textarea = e, this.window = t, this._isFocused = !1, this._cachedIsFocused = void 0, this._textarea.addEventListener(\"focus\", function () {\n                return _this38._isFocused = !0;\n              }), this._textarea.addEventListener(\"blur\", function () {\n                return _this38._isFocused = !1;\n              });\n            }\n            _createClass(_class6, [{\n              key: \"dpr\",\n              get: function get() {\n                return this.window.devicePixelRatio;\n              }\n            }, {\n              key: \"isFocused\",\n              get: function get() {\n                var _this39 = this;\n                return void 0 === this._cachedIsFocused && (this._cachedIsFocused = this._isFocused && this._textarea.ownerDocument.hasFocus(), queueMicrotask(function () {\n                  return _this39._cachedIsFocused = void 0;\n                })), this._cachedIsFocused;\n              }\n            }]);\n            return _class6;\n          }();\n        },\n        8934: function _(e, t, i) {\n          var s = this && this.__decorate || function (e, t, i, s) {\n              var r,\n                n = arguments.length,\n                o = n < 3 ? t : null === s ? s = Object.getOwnPropertyDescriptor(t, i) : s;\n              if (\"object\" == (typeof Reflect === \"undefined\" ? \"undefined\" : _typeof(Reflect)) && \"function\" == typeof Reflect.decorate) o = Reflect.decorate(e, t, i, s);else for (var a = e.length - 1; a >= 0; a--) (r = e[a]) && (o = (n < 3 ? r(o) : n > 3 ? r(t, i, o) : r(t, i)) || o);\n              return n > 3 && o && Object.defineProperty(t, i, o), o;\n            },\n            r = this && this.__param || function (e, t) {\n              return function (i, s) {\n                t(i, s, e);\n              };\n            };\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.MouseService = void 0;\n          var n = i(4725),\n            o = i(9806);\n          var a = /*#__PURE__*/function () {\n            function a(e, t) {\n              _classCallCheck(this, a);\n              this._renderService = e, this._charSizeService = t;\n            }\n            _createClass(a, [{\n              key: \"getCoords\",\n              value: function getCoords(e, t, i, s, r) {\n                return (0, o.getCoords)(window, e, t, i, s, this._charSizeService.hasValidSize, this._renderService.dimensions.css.cell.width, this._renderService.dimensions.css.cell.height, r);\n              }\n            }, {\n              key: \"getMouseReportCoords\",\n              value: function getMouseReportCoords(e, t) {\n                var i = (0, o.getCoordsRelativeToElement)(window, e, t);\n                if (!(!this._charSizeService.hasValidSize || i[0] < 0 || i[1] < 0 || i[0] >= this._renderService.dimensions.css.canvas.width || i[1] >= this._renderService.dimensions.css.canvas.height)) return {\n                  col: Math.floor(i[0] / this._renderService.dimensions.css.cell.width),\n                  row: Math.floor(i[1] / this._renderService.dimensions.css.cell.height),\n                  x: Math.floor(i[0]),\n                  y: Math.floor(i[1])\n                };\n              }\n            }]);\n            return a;\n          }();\n          a = s([r(0, n.IRenderService), r(1, n.ICharSizeService)], a), t.MouseService = a;\n        },\n        3230: function _(e, t, i) {\n          var s = this && this.__decorate || function (e, t, i, s) {\n              var r,\n                n = arguments.length,\n                o = n < 3 ? t : null === s ? s = Object.getOwnPropertyDescriptor(t, i) : s;\n              if (\"object\" == (typeof Reflect === \"undefined\" ? \"undefined\" : _typeof(Reflect)) && \"function\" == typeof Reflect.decorate) o = Reflect.decorate(e, t, i, s);else for (var a = e.length - 1; a >= 0; a--) (r = e[a]) && (o = (n < 3 ? r(o) : n > 3 ? r(t, i, o) : r(t, i)) || o);\n              return n > 3 && o && Object.defineProperty(t, i, o), o;\n            },\n            r = this && this.__param || function (e, t) {\n              return function (i, s) {\n                t(i, s, e);\n              };\n            };\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.RenderService = void 0;\n          var n = i(6193),\n            o = i(8460),\n            a = i(844),\n            h = i(5596),\n            c = i(3656),\n            l = i(2585),\n            d = i(4725),\n            _ = i(7226);\n          var u = /*#__PURE__*/function (_a$Disposable5) {\n            _inherits(u, _a$Disposable5);\n            var _super11 = _createSuper(u);\n            function u(e, t, i, s, r, a, l, d) {\n              var _this40;\n              _classCallCheck(this, u);\n              if (_this40 = _super11.call(this), _this40._rowCount = e, _this40._charSizeService = s, _this40._pausedResizeTask = new _.DebouncedIdleTask(), _this40._isPaused = !1, _this40._needsFullRefresh = !1, _this40._isNextRenderRedrawOnly = !0, _this40._needsSelectionRefresh = !1, _this40._canvasWidth = 0, _this40._canvasHeight = 0, _this40._selectionState = {\n                start: void 0,\n                end: void 0,\n                columnSelectMode: !1\n              }, _this40._onDimensionsChange = _this40.register(new o.EventEmitter()), _this40.onDimensionsChange = _this40._onDimensionsChange.event, _this40._onRenderedViewportChange = _this40.register(new o.EventEmitter()), _this40.onRenderedViewportChange = _this40._onRenderedViewportChange.event, _this40._onRender = _this40.register(new o.EventEmitter()), _this40.onRender = _this40._onRender.event, _this40._onRefreshRequest = _this40.register(new o.EventEmitter()), _this40.onRefreshRequest = _this40._onRefreshRequest.event, _this40.register({\n                dispose: function dispose() {\n                  var e;\n                  return null === (e = _this40._renderer) || void 0 === e ? void 0 : e.dispose();\n                }\n              }), _this40._renderDebouncer = new n.RenderDebouncer(l.window, function (e, t) {\n                return _this40._renderRows(e, t);\n              }), _this40.register(_this40._renderDebouncer), _this40._screenDprMonitor = new h.ScreenDprMonitor(l.window), _this40._screenDprMonitor.setListener(function () {\n                return _this40.handleDevicePixelRatioChange();\n              }), _this40.register(_this40._screenDprMonitor), _this40.register(a.onResize(function () {\n                return _this40._fullRefresh();\n              })), _this40.register(a.buffers.onBufferActivate(function () {\n                var e;\n                return null === (e = _this40._renderer) || void 0 === e ? void 0 : e.clear();\n              })), _this40.register(i.onOptionChange(function () {\n                return _this40._handleOptionsChanged();\n              })), _this40.register(_this40._charSizeService.onCharSizeChange(function () {\n                return _this40.handleCharSizeChanged();\n              })), _this40.register(r.onDecorationRegistered(function () {\n                return _this40._fullRefresh();\n              })), _this40.register(r.onDecorationRemoved(function () {\n                return _this40._fullRefresh();\n              })), _this40.register(i.onMultipleOptionChange([\"customGlyphs\", \"drawBoldTextInBrightColors\", \"letterSpacing\", \"lineHeight\", \"fontFamily\", \"fontSize\", \"fontWeight\", \"fontWeightBold\", \"minimumContrastRatio\"], function () {\n                _this40.clear(), _this40.handleResize(a.cols, a.rows), _this40._fullRefresh();\n              })), _this40.register(i.onMultipleOptionChange([\"cursorBlink\", \"cursorStyle\"], function () {\n                return _this40.refreshRows(a.buffer.y, a.buffer.y, !0);\n              })), _this40.register((0, c.addDisposableDomListener)(l.window, \"resize\", function () {\n                return _this40.handleDevicePixelRatioChange();\n              })), _this40.register(d.onChangeColors(function () {\n                return _this40._fullRefresh();\n              })), \"IntersectionObserver\" in l.window) {\n                var _e50 = new l.window.IntersectionObserver(function (e) {\n                  return _this40._handleIntersectionChange(e[e.length - 1]);\n                }, {\n                  threshold: 0\n                });\n                _e50.observe(t), _this40.register({\n                  dispose: function dispose() {\n                    return _e50.disconnect();\n                  }\n                });\n              }\n              return _possibleConstructorReturn(_this40);\n            }\n            _createClass(u, [{\n              key: \"dimensions\",\n              get: function get() {\n                return this._renderer.dimensions;\n              }\n            }, {\n              key: \"_handleIntersectionChange\",\n              value: function _handleIntersectionChange(e) {\n                this._isPaused = void 0 === e.isIntersecting ? 0 === e.intersectionRatio : !e.isIntersecting, this._isPaused || this._charSizeService.hasValidSize || this._charSizeService.measure(), !this._isPaused && this._needsFullRefresh && (this._pausedResizeTask.flush(), this.refreshRows(0, this._rowCount - 1), this._needsFullRefresh = !1);\n              }\n            }, {\n              key: \"refreshRows\",\n              value: function refreshRows(e, t) {\n                var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !1;\n                this._isPaused ? this._needsFullRefresh = !0 : (i || (this._isNextRenderRedrawOnly = !1), this._renderDebouncer.refresh(e, t, this._rowCount));\n              }\n            }, {\n              key: \"_renderRows\",\n              value: function _renderRows(e, t) {\n                this._renderer && (this._renderer.renderRows(e, t), this._needsSelectionRefresh && (this._renderer.handleSelectionChanged(this._selectionState.start, this._selectionState.end, this._selectionState.columnSelectMode), this._needsSelectionRefresh = !1), this._isNextRenderRedrawOnly || this._onRenderedViewportChange.fire({\n                  start: e,\n                  end: t\n                }), this._onRender.fire({\n                  start: e,\n                  end: t\n                }), this._isNextRenderRedrawOnly = !0);\n              }\n            }, {\n              key: \"resize\",\n              value: function resize(e, t) {\n                this._rowCount = t, this._fireOnCanvasResize();\n              }\n            }, {\n              key: \"_handleOptionsChanged\",\n              value: function _handleOptionsChanged() {\n                this._renderer && (this.refreshRows(0, this._rowCount - 1), this._fireOnCanvasResize());\n              }\n            }, {\n              key: \"_fireOnCanvasResize\",\n              value: function _fireOnCanvasResize() {\n                this._renderer && (this._renderer.dimensions.css.canvas.width === this._canvasWidth && this._renderer.dimensions.css.canvas.height === this._canvasHeight || this._onDimensionsChange.fire(this._renderer.dimensions));\n              }\n            }, {\n              key: \"hasRenderer\",\n              value: function hasRenderer() {\n                return !!this._renderer;\n              }\n            }, {\n              key: \"setRenderer\",\n              value: function setRenderer(e) {\n                var _this41 = this;\n                var t;\n                null === (t = this._renderer) || void 0 === t || t.dispose(), this._renderer = e, this._renderer.onRequestRedraw(function (e) {\n                  return _this41.refreshRows(e.start, e.end, !0);\n                }), this._needsSelectionRefresh = !0, this._fullRefresh();\n              }\n            }, {\n              key: \"addRefreshCallback\",\n              value: function addRefreshCallback(e) {\n                return this._renderDebouncer.addRefreshCallback(e);\n              }\n            }, {\n              key: \"_fullRefresh\",\n              value: function _fullRefresh() {\n                this._isPaused ? this._needsFullRefresh = !0 : this.refreshRows(0, this._rowCount - 1);\n              }\n            }, {\n              key: \"clearTextureAtlas\",\n              value: function clearTextureAtlas() {\n                var e, t;\n                this._renderer && (null === (t = (e = this._renderer).clearTextureAtlas) || void 0 === t || t.call(e), this._fullRefresh());\n              }\n            }, {\n              key: \"handleDevicePixelRatioChange\",\n              value: function handleDevicePixelRatioChange() {\n                this._charSizeService.measure(), this._renderer && (this._renderer.handleDevicePixelRatioChange(), this.refreshRows(0, this._rowCount - 1));\n              }\n            }, {\n              key: \"handleResize\",\n              value: function handleResize(e, t) {\n                var _this42 = this;\n                this._renderer && (this._isPaused ? this._pausedResizeTask.set(function () {\n                  return _this42._renderer.handleResize(e, t);\n                }) : this._renderer.handleResize(e, t), this._fullRefresh());\n              }\n            }, {\n              key: \"handleCharSizeChanged\",\n              value: function handleCharSizeChanged() {\n                var e;\n                null === (e = this._renderer) || void 0 === e || e.handleCharSizeChanged();\n              }\n            }, {\n              key: \"handleBlur\",\n              value: function handleBlur() {\n                var e;\n                null === (e = this._renderer) || void 0 === e || e.handleBlur();\n              }\n            }, {\n              key: \"handleFocus\",\n              value: function handleFocus() {\n                var e;\n                null === (e = this._renderer) || void 0 === e || e.handleFocus();\n              }\n            }, {\n              key: \"handleSelectionChanged\",\n              value: function handleSelectionChanged(e, t, i) {\n                var s;\n                this._selectionState.start = e, this._selectionState.end = t, this._selectionState.columnSelectMode = i, null === (s = this._renderer) || void 0 === s || s.handleSelectionChanged(e, t, i);\n              }\n            }, {\n              key: \"handleCursorMove\",\n              value: function handleCursorMove() {\n                var e;\n                null === (e = this._renderer) || void 0 === e || e.handleCursorMove();\n              }\n            }, {\n              key: \"clear\",\n              value: function clear() {\n                var e;\n                null === (e = this._renderer) || void 0 === e || e.clear();\n              }\n            }]);\n            return u;\n          }(a.Disposable);\n          u = s([r(2, l.IOptionsService), r(3, d.ICharSizeService), r(4, l.IDecorationService), r(5, l.IBufferService), r(6, d.ICoreBrowserService), r(7, d.IThemeService)], u), t.RenderService = u;\n        },\n        9312: function _(e, t, i) {\n          var s = this && this.__decorate || function (e, t, i, s) {\n              var r,\n                n = arguments.length,\n                o = n < 3 ? t : null === s ? s = Object.getOwnPropertyDescriptor(t, i) : s;\n              if (\"object\" == (typeof Reflect === \"undefined\" ? \"undefined\" : _typeof(Reflect)) && \"function\" == typeof Reflect.decorate) o = Reflect.decorate(e, t, i, s);else for (var a = e.length - 1; a >= 0; a--) (r = e[a]) && (o = (n < 3 ? r(o) : n > 3 ? r(t, i, o) : r(t, i)) || o);\n              return n > 3 && o && Object.defineProperty(t, i, o), o;\n            },\n            r = this && this.__param || function (e, t) {\n              return function (i, s) {\n                t(i, s, e);\n              };\n            };\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.SelectionService = void 0;\n          var n = i(6114),\n            o = i(456),\n            a = i(511),\n            h = i(8460),\n            c = i(4725),\n            l = i(2585),\n            d = i(9806),\n            _ = i(9504),\n            u = i(844),\n            f = i(4841),\n            v = String.fromCharCode(160),\n            g = new RegExp(v, \"g\");\n          var p = /*#__PURE__*/function (_u$Disposable) {\n            _inherits(p, _u$Disposable);\n            var _super12 = _createSuper(p);\n            function p(e, t, i, s, r, n, c, l, d) {\n              var _this43;\n              _classCallCheck(this, p);\n              _this43 = _super12.call(this), _this43._element = e, _this43._screenElement = t, _this43._linkifier = i, _this43._bufferService = s, _this43._coreService = r, _this43._mouseService = n, _this43._optionsService = c, _this43._renderService = l, _this43._coreBrowserService = d, _this43._dragScrollAmount = 0, _this43._enabled = !0, _this43._workCell = new a.CellData(), _this43._mouseDownTimeStamp = 0, _this43._oldHasSelection = !1, _this43._oldSelectionStart = void 0, _this43._oldSelectionEnd = void 0, _this43._onLinuxMouseSelection = _this43.register(new h.EventEmitter()), _this43.onLinuxMouseSelection = _this43._onLinuxMouseSelection.event, _this43._onRedrawRequest = _this43.register(new h.EventEmitter()), _this43.onRequestRedraw = _this43._onRedrawRequest.event, _this43._onSelectionChange = _this43.register(new h.EventEmitter()), _this43.onSelectionChange = _this43._onSelectionChange.event, _this43._onRequestScrollLines = _this43.register(new h.EventEmitter()), _this43.onRequestScrollLines = _this43._onRequestScrollLines.event, _this43._mouseMoveListener = function (e) {\n                return _this43._handleMouseMove(e);\n              }, _this43._mouseUpListener = function (e) {\n                return _this43._handleMouseUp(e);\n              }, _this43._coreService.onUserInput(function () {\n                _this43.hasSelection && _this43.clearSelection();\n              }), _this43._trimListener = _this43._bufferService.buffer.lines.onTrim(function (e) {\n                return _this43._handleTrim(e);\n              }), _this43.register(_this43._bufferService.buffers.onBufferActivate(function (e) {\n                return _this43._handleBufferActivate(e);\n              })), _this43.enable(), _this43._model = new o.SelectionModel(_this43._bufferService), _this43._activeSelectionMode = 0, _this43.register((0, u.toDisposable)(function () {\n                _this43._removeMouseDownListeners();\n              }));\n              return _this43;\n            }\n            _createClass(p, [{\n              key: \"reset\",\n              value: function reset() {\n                this.clearSelection();\n              }\n            }, {\n              key: \"disable\",\n              value: function disable() {\n                this.clearSelection(), this._enabled = !1;\n              }\n            }, {\n              key: \"enable\",\n              value: function enable() {\n                this._enabled = !0;\n              }\n            }, {\n              key: \"selectionStart\",\n              get: function get() {\n                return this._model.finalSelectionStart;\n              }\n            }, {\n              key: \"selectionEnd\",\n              get: function get() {\n                return this._model.finalSelectionEnd;\n              }\n            }, {\n              key: \"hasSelection\",\n              get: function get() {\n                var e = this._model.finalSelectionStart,\n                  t = this._model.finalSelectionEnd;\n                return !(!e || !t || e[0] === t[0] && e[1] === t[1]);\n              }\n            }, {\n              key: \"selectionText\",\n              get: function get() {\n                var e = this._model.finalSelectionStart,\n                  t = this._model.finalSelectionEnd;\n                if (!e || !t) return \"\";\n                var i = this._bufferService.buffer,\n                  s = [];\n                if (3 === this._activeSelectionMode) {\n                  if (e[0] === t[0]) return \"\";\n                  var _r6 = e[0] < t[0] ? e[0] : t[0],\n                    _n6 = e[0] < t[0] ? t[0] : e[0];\n                  for (var _o3 = e[1]; _o3 <= t[1]; _o3++) {\n                    var _e51 = i.translateBufferLineToString(_o3, !0, _r6, _n6);\n                    s.push(_e51);\n                  }\n                } else {\n                  var _r7 = e[1] === t[1] ? t[0] : void 0;\n                  s.push(i.translateBufferLineToString(e[1], !0, e[0], _r7));\n                  for (var _r8 = e[1] + 1; _r8 <= t[1] - 1; _r8++) {\n                    var _e52 = i.lines.get(_r8),\n                      _t28 = i.translateBufferLineToString(_r8, !0);\n                    (null == _e52 ? void 0 : _e52.isWrapped) ? s[s.length - 1] += _t28 : s.push(_t28);\n                  }\n                  if (e[1] !== t[1]) {\n                    var _e53 = i.lines.get(t[1]),\n                      _r9 = i.translateBufferLineToString(t[1], !0, 0, t[0]);\n                    _e53 && _e53.isWrapped ? s[s.length - 1] += _r9 : s.push(_r9);\n                  }\n                }\n                return s.map(function (e) {\n                  return e.replace(g, \" \");\n                }).join(n.isWindows ? \"\\r\\n\" : \"\\n\");\n              }\n            }, {\n              key: \"clearSelection\",\n              value: function clearSelection() {\n                this._model.clearSelection(), this._removeMouseDownListeners(), this.refresh(), this._onSelectionChange.fire();\n              }\n            }, {\n              key: \"refresh\",\n              value: function refresh(e) {\n                var _this44 = this;\n                this._refreshAnimationFrame || (this._refreshAnimationFrame = this._coreBrowserService.window.requestAnimationFrame(function () {\n                  return _this44._refresh();\n                })), n.isLinux && e && this.selectionText.length && this._onLinuxMouseSelection.fire(this.selectionText);\n              }\n            }, {\n              key: \"_refresh\",\n              value: function _refresh() {\n                this._refreshAnimationFrame = void 0, this._onRedrawRequest.fire({\n                  start: this._model.finalSelectionStart,\n                  end: this._model.finalSelectionEnd,\n                  columnSelectMode: 3 === this._activeSelectionMode\n                });\n              }\n            }, {\n              key: \"_isClickInSelection\",\n              value: function _isClickInSelection(e) {\n                var t = this._getMouseBufferCoords(e),\n                  i = this._model.finalSelectionStart,\n                  s = this._model.finalSelectionEnd;\n                return !!(i && s && t) && this._areCoordsInSelection(t, i, s);\n              }\n            }, {\n              key: \"isCellInSelection\",\n              value: function isCellInSelection(e, t) {\n                var i = this._model.finalSelectionStart,\n                  s = this._model.finalSelectionEnd;\n                return !(!i || !s) && this._areCoordsInSelection([e, t], i, s);\n              }\n            }, {\n              key: \"_areCoordsInSelection\",\n              value: function _areCoordsInSelection(e, t, i) {\n                return e[1] > t[1] && e[1] < i[1] || t[1] === i[1] && e[1] === t[1] && e[0] >= t[0] && e[0] < i[0] || t[1] < i[1] && e[1] === i[1] && e[0] < i[0] || t[1] < i[1] && e[1] === t[1] && e[0] >= t[0];\n              }\n            }, {\n              key: \"_selectWordAtCursor\",\n              value: function _selectWordAtCursor(e, t) {\n                var i, s;\n                var r = null === (s = null === (i = this._linkifier.currentLink) || void 0 === i ? void 0 : i.link) || void 0 === s ? void 0 : s.range;\n                if (r) return this._model.selectionStart = [r.start.x - 1, r.start.y - 1], this._model.selectionStartLength = (0, f.getRangeLength)(r, this._bufferService.cols), this._model.selectionEnd = void 0, !0;\n                var n = this._getMouseBufferCoords(e);\n                return !!n && (this._selectWordAt(n, t), this._model.selectionEnd = void 0, !0);\n              }\n            }, {\n              key: \"selectAll\",\n              value: function selectAll() {\n                this._model.isSelectAllActive = !0, this.refresh(), this._onSelectionChange.fire();\n              }\n            }, {\n              key: \"selectLines\",\n              value: function selectLines(e, t) {\n                this._model.clearSelection(), e = Math.max(e, 0), t = Math.min(t, this._bufferService.buffer.lines.length - 1), this._model.selectionStart = [0, e], this._model.selectionEnd = [this._bufferService.cols, t], this.refresh(), this._onSelectionChange.fire();\n              }\n            }, {\n              key: \"_handleTrim\",\n              value: function _handleTrim(e) {\n                this._model.handleTrim(e) && this.refresh();\n              }\n            }, {\n              key: \"_getMouseBufferCoords\",\n              value: function _getMouseBufferCoords(e) {\n                var t = this._mouseService.getCoords(e, this._screenElement, this._bufferService.cols, this._bufferService.rows, !0);\n                if (t) return t[0]--, t[1]--, t[1] += this._bufferService.buffer.ydisp, t;\n              }\n            }, {\n              key: \"_getMouseEventScrollAmount\",\n              value: function _getMouseEventScrollAmount(e) {\n                var t = (0, d.getCoordsRelativeToElement)(this._coreBrowserService.window, e, this._screenElement)[1];\n                var i = this._renderService.dimensions.css.canvas.height;\n                return t >= 0 && t <= i ? 0 : (t > i && (t -= i), t = Math.min(Math.max(t, -50), 50), t /= 50, t / Math.abs(t) + Math.round(14 * t));\n              }\n            }, {\n              key: \"shouldForceSelection\",\n              value: function shouldForceSelection(e) {\n                return n.isMac ? e.altKey && this._optionsService.rawOptions.macOptionClickForcesSelection : e.shiftKey;\n              }\n            }, {\n              key: \"handleMouseDown\",\n              value: function handleMouseDown(e) {\n                if (this._mouseDownTimeStamp = e.timeStamp, (2 !== e.button || !this.hasSelection) && 0 === e.button) {\n                  if (!this._enabled) {\n                    if (!this.shouldForceSelection(e)) return;\n                    e.stopPropagation();\n                  }\n                  e.preventDefault(), this._dragScrollAmount = 0, this._enabled && e.shiftKey ? this._handleIncrementalClick(e) : 1 === e.detail ? this._handleSingleClick(e) : 2 === e.detail ? this._handleDoubleClick(e) : 3 === e.detail && this._handleTripleClick(e), this._addMouseDownListeners(), this.refresh(!0);\n                }\n              }\n            }, {\n              key: \"_addMouseDownListeners\",\n              value: function _addMouseDownListeners() {\n                var _this45 = this;\n                this._screenElement.ownerDocument && (this._screenElement.ownerDocument.addEventListener(\"mousemove\", this._mouseMoveListener), this._screenElement.ownerDocument.addEventListener(\"mouseup\", this._mouseUpListener)), this._dragScrollIntervalTimer = this._coreBrowserService.window.setInterval(function () {\n                  return _this45._dragScroll();\n                }, 50);\n              }\n            }, {\n              key: \"_removeMouseDownListeners\",\n              value: function _removeMouseDownListeners() {\n                this._screenElement.ownerDocument && (this._screenElement.ownerDocument.removeEventListener(\"mousemove\", this._mouseMoveListener), this._screenElement.ownerDocument.removeEventListener(\"mouseup\", this._mouseUpListener)), this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer), this._dragScrollIntervalTimer = void 0;\n              }\n            }, {\n              key: \"_handleIncrementalClick\",\n              value: function _handleIncrementalClick(e) {\n                this._model.selectionStart && (this._model.selectionEnd = this._getMouseBufferCoords(e));\n              }\n            }, {\n              key: \"_handleSingleClick\",\n              value: function _handleSingleClick(e) {\n                if (this._model.selectionStartLength = 0, this._model.isSelectAllActive = !1, this._activeSelectionMode = this.shouldColumnSelect(e) ? 3 : 0, this._model.selectionStart = this._getMouseBufferCoords(e), !this._model.selectionStart) return;\n                this._model.selectionEnd = void 0;\n                var t = this._bufferService.buffer.lines.get(this._model.selectionStart[1]);\n                t && t.length !== this._model.selectionStart[0] && 0 === t.hasWidth(this._model.selectionStart[0]) && this._model.selectionStart[0]++;\n              }\n            }, {\n              key: \"_handleDoubleClick\",\n              value: function _handleDoubleClick(e) {\n                this._selectWordAtCursor(e, !0) && (this._activeSelectionMode = 1);\n              }\n            }, {\n              key: \"_handleTripleClick\",\n              value: function _handleTripleClick(e) {\n                var t = this._getMouseBufferCoords(e);\n                t && (this._activeSelectionMode = 2, this._selectLineAt(t[1]));\n              }\n            }, {\n              key: \"shouldColumnSelect\",\n              value: function shouldColumnSelect(e) {\n                return e.altKey && !(n.isMac && this._optionsService.rawOptions.macOptionClickForcesSelection);\n              }\n            }, {\n              key: \"_handleMouseMove\",\n              value: function _handleMouseMove(e) {\n                if (e.stopImmediatePropagation(), !this._model.selectionStart) return;\n                var t = this._model.selectionEnd ? [this._model.selectionEnd[0], this._model.selectionEnd[1]] : null;\n                if (this._model.selectionEnd = this._getMouseBufferCoords(e), !this._model.selectionEnd) return void this.refresh(!0);\n                2 === this._activeSelectionMode ? this._model.selectionEnd[1] < this._model.selectionStart[1] ? this._model.selectionEnd[0] = 0 : this._model.selectionEnd[0] = this._bufferService.cols : 1 === this._activeSelectionMode && this._selectToWordAt(this._model.selectionEnd), this._dragScrollAmount = this._getMouseEventScrollAmount(e), 3 !== this._activeSelectionMode && (this._dragScrollAmount > 0 ? this._model.selectionEnd[0] = this._bufferService.cols : this._dragScrollAmount < 0 && (this._model.selectionEnd[0] = 0));\n                var i = this._bufferService.buffer;\n                if (this._model.selectionEnd[1] < i.lines.length) {\n                  var _e54 = i.lines.get(this._model.selectionEnd[1]);\n                  _e54 && 0 === _e54.hasWidth(this._model.selectionEnd[0]) && this._model.selectionEnd[0]++;\n                }\n                t && t[0] === this._model.selectionEnd[0] && t[1] === this._model.selectionEnd[1] || this.refresh(!0);\n              }\n            }, {\n              key: \"_dragScroll\",\n              value: function _dragScroll() {\n                if (this._model.selectionEnd && this._model.selectionStart && this._dragScrollAmount) {\n                  this._onRequestScrollLines.fire({\n                    amount: this._dragScrollAmount,\n                    suppressScrollEvent: !1\n                  });\n                  var _e55 = this._bufferService.buffer;\n                  this._dragScrollAmount > 0 ? (3 !== this._activeSelectionMode && (this._model.selectionEnd[0] = this._bufferService.cols), this._model.selectionEnd[1] = Math.min(_e55.ydisp + this._bufferService.rows, _e55.lines.length - 1)) : (3 !== this._activeSelectionMode && (this._model.selectionEnd[0] = 0), this._model.selectionEnd[1] = _e55.ydisp), this.refresh();\n                }\n              }\n            }, {\n              key: \"_handleMouseUp\",\n              value: function _handleMouseUp(e) {\n                var t = e.timeStamp - this._mouseDownTimeStamp;\n                if (this._removeMouseDownListeners(), this.selectionText.length <= 1 && t < 500 && e.altKey && this._optionsService.rawOptions.altClickMovesCursor) {\n                  if (this._bufferService.buffer.ybase === this._bufferService.buffer.ydisp) {\n                    var _t29 = this._mouseService.getCoords(e, this._element, this._bufferService.cols, this._bufferService.rows, !1);\n                    if (_t29 && void 0 !== _t29[0] && void 0 !== _t29[1]) {\n                      var _e56 = (0, _.moveToCellSequence)(_t29[0] - 1, _t29[1] - 1, this._bufferService, this._coreService.decPrivateModes.applicationCursorKeys);\n                      this._coreService.triggerDataEvent(_e56, !0);\n                    }\n                  }\n                } else this._fireEventIfSelectionChanged();\n              }\n            }, {\n              key: \"_fireEventIfSelectionChanged\",\n              value: function _fireEventIfSelectionChanged() {\n                var e = this._model.finalSelectionStart,\n                  t = this._model.finalSelectionEnd,\n                  i = !(!e || !t || e[0] === t[0] && e[1] === t[1]);\n                i ? e && t && (this._oldSelectionStart && this._oldSelectionEnd && e[0] === this._oldSelectionStart[0] && e[1] === this._oldSelectionStart[1] && t[0] === this._oldSelectionEnd[0] && t[1] === this._oldSelectionEnd[1] || this._fireOnSelectionChange(e, t, i)) : this._oldHasSelection && this._fireOnSelectionChange(e, t, i);\n              }\n            }, {\n              key: \"_fireOnSelectionChange\",\n              value: function _fireOnSelectionChange(e, t, i) {\n                this._oldSelectionStart = e, this._oldSelectionEnd = t, this._oldHasSelection = i, this._onSelectionChange.fire();\n              }\n            }, {\n              key: \"_handleBufferActivate\",\n              value: function _handleBufferActivate(e) {\n                var _this46 = this;\n                this.clearSelection(), this._trimListener.dispose(), this._trimListener = e.activeBuffer.lines.onTrim(function (e) {\n                  return _this46._handleTrim(e);\n                });\n              }\n            }, {\n              key: \"_convertViewportColToCharacterIndex\",\n              value: function _convertViewportColToCharacterIndex(e, t) {\n                var i = t;\n                for (var _s13 = 0; t >= _s13; _s13++) {\n                  var _r10 = e.loadCell(_s13, this._workCell).getChars().length;\n                  0 === this._workCell.getWidth() ? i-- : _r10 > 1 && t !== _s13 && (i += _r10 - 1);\n                }\n                return i;\n              }\n            }, {\n              key: \"setSelection\",\n              value: function setSelection(e, t, i) {\n                this._model.clearSelection(), this._removeMouseDownListeners(), this._model.selectionStart = [e, t], this._model.selectionStartLength = i, this.refresh(), this._fireEventIfSelectionChanged();\n              }\n            }, {\n              key: \"rightClickSelect\",\n              value: function rightClickSelect(e) {\n                this._isClickInSelection(e) || (this._selectWordAtCursor(e, !1) && this.refresh(!0), this._fireEventIfSelectionChanged());\n              }\n            }, {\n              key: \"_getWordAt\",\n              value: function _getWordAt(e, t) {\n                var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !0;\n                var s = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : !0;\n                if (e[0] >= this._bufferService.cols) return;\n                var r = this._bufferService.buffer,\n                  n = r.lines.get(e[1]);\n                if (!n) return;\n                var o = r.translateBufferLineToString(e[1], !1);\n                var a = this._convertViewportColToCharacterIndex(n, e[0]),\n                  h = a;\n                var c = e[0] - a;\n                var l = 0,\n                  d = 0,\n                  _ = 0,\n                  u = 0;\n                if (\" \" === o.charAt(a)) {\n                  for (; a > 0 && \" \" === o.charAt(a - 1);) a--;\n                  for (; h < o.length && \" \" === o.charAt(h + 1);) h++;\n                } else {\n                  var _t30 = e[0],\n                    _i15 = e[0];\n                  0 === n.getWidth(_t30) && (l++, _t30--), 2 === n.getWidth(_i15) && (d++, _i15++);\n                  var _s14 = n.getString(_i15).length;\n                  for (_s14 > 1 && (u += _s14 - 1, h += _s14 - 1); _t30 > 0 && a > 0 && !this._isCharWordSeparator(n.loadCell(_t30 - 1, this._workCell));) {\n                    n.loadCell(_t30 - 1, this._workCell);\n                    var _e57 = this._workCell.getChars().length;\n                    0 === this._workCell.getWidth() ? (l++, _t30--) : _e57 > 1 && (_ += _e57 - 1, a -= _e57 - 1), a--, _t30--;\n                  }\n                  for (; _i15 < n.length && h + 1 < o.length && !this._isCharWordSeparator(n.loadCell(_i15 + 1, this._workCell));) {\n                    n.loadCell(_i15 + 1, this._workCell);\n                    var _e58 = this._workCell.getChars().length;\n                    2 === this._workCell.getWidth() ? (d++, _i15++) : _e58 > 1 && (u += _e58 - 1, h += _e58 - 1), h++, _i15++;\n                  }\n                }\n                h++;\n                var f = a + c - l + _,\n                  v = Math.min(this._bufferService.cols, h - a + l + d - _ - u);\n                if (t || \"\" !== o.slice(a, h).trim()) {\n                  if (i && 0 === f && 32 !== n.getCodePoint(0)) {\n                    var _t31 = r.lines.get(e[1] - 1);\n                    if (_t31 && n.isWrapped && 32 !== _t31.getCodePoint(this._bufferService.cols - 1)) {\n                      var _t32 = this._getWordAt([this._bufferService.cols - 1, e[1] - 1], !1, !0, !1);\n                      if (_t32) {\n                        var _e59 = this._bufferService.cols - _t32.start;\n                        f -= _e59, v += _e59;\n                      }\n                    }\n                  }\n                  if (s && f + v === this._bufferService.cols && 32 !== n.getCodePoint(this._bufferService.cols - 1)) {\n                    var _t33 = r.lines.get(e[1] + 1);\n                    if ((null == _t33 ? void 0 : _t33.isWrapped) && 32 !== _t33.getCodePoint(0)) {\n                      var _t34 = this._getWordAt([0, e[1] + 1], !1, !1, !0);\n                      _t34 && (v += _t34.length);\n                    }\n                  }\n                  return {\n                    start: f,\n                    length: v\n                  };\n                }\n              }\n            }, {\n              key: \"_selectWordAt\",\n              value: function _selectWordAt(e, t) {\n                var i = this._getWordAt(e, t);\n                if (i) {\n                  for (; i.start < 0;) i.start += this._bufferService.cols, e[1]--;\n                  this._model.selectionStart = [i.start, e[1]], this._model.selectionStartLength = i.length;\n                }\n              }\n            }, {\n              key: \"_selectToWordAt\",\n              value: function _selectToWordAt(e) {\n                var t = this._getWordAt(e, !0);\n                if (t) {\n                  var _i16 = e[1];\n                  for (; t.start < 0;) t.start += this._bufferService.cols, _i16--;\n                  if (!this._model.areSelectionValuesReversed()) for (; t.start + t.length > this._bufferService.cols;) t.length -= this._bufferService.cols, _i16++;\n                  this._model.selectionEnd = [this._model.areSelectionValuesReversed() ? t.start : t.start + t.length, _i16];\n                }\n              }\n            }, {\n              key: \"_isCharWordSeparator\",\n              value: function _isCharWordSeparator(e) {\n                return 0 !== e.getWidth() && this._optionsService.rawOptions.wordSeparator.indexOf(e.getChars()) >= 0;\n              }\n            }, {\n              key: \"_selectLineAt\",\n              value: function _selectLineAt(e) {\n                var t = this._bufferService.buffer.getWrappedRangeForLine(e),\n                  i = {\n                    start: {\n                      x: 0,\n                      y: t.first\n                    },\n                    end: {\n                      x: this._bufferService.cols - 1,\n                      y: t.last\n                    }\n                  };\n                this._model.selectionStart = [0, t.first], this._model.selectionEnd = void 0, this._model.selectionStartLength = (0, f.getRangeLength)(i, this._bufferService.cols);\n              }\n            }]);\n            return p;\n          }(u.Disposable);\n          p = s([r(3, l.IBufferService), r(4, l.ICoreService), r(5, c.IMouseService), r(6, l.IOptionsService), r(7, c.IRenderService), r(8, c.ICoreBrowserService)], p), t.SelectionService = p;\n        },\n        4725: function _(e, t, i) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.IThemeService = t.ICharacterJoinerService = t.ISelectionService = t.IRenderService = t.IMouseService = t.ICoreBrowserService = t.ICharSizeService = void 0;\n          var s = i(8343);\n          t.ICharSizeService = (0, s.createDecorator)(\"CharSizeService\"), t.ICoreBrowserService = (0, s.createDecorator)(\"CoreBrowserService\"), t.IMouseService = (0, s.createDecorator)(\"MouseService\"), t.IRenderService = (0, s.createDecorator)(\"RenderService\"), t.ISelectionService = (0, s.createDecorator)(\"SelectionService\"), t.ICharacterJoinerService = (0, s.createDecorator)(\"CharacterJoinerService\"), t.IThemeService = (0, s.createDecorator)(\"ThemeService\");\n        },\n        6731: function _(e, t, i) {\n          var s = this && this.__decorate || function (e, t, i, s) {\n              var r,\n                n = arguments.length,\n                o = n < 3 ? t : null === s ? s = Object.getOwnPropertyDescriptor(t, i) : s;\n              if (\"object\" == (typeof Reflect === \"undefined\" ? \"undefined\" : _typeof(Reflect)) && \"function\" == typeof Reflect.decorate) o = Reflect.decorate(e, t, i, s);else for (var a = e.length - 1; a >= 0; a--) (r = e[a]) && (o = (n < 3 ? r(o) : n > 3 ? r(t, i, o) : r(t, i)) || o);\n              return n > 3 && o && Object.defineProperty(t, i, o), o;\n            },\n            r = this && this.__param || function (e, t) {\n              return function (i, s) {\n                t(i, s, e);\n              };\n            };\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.ThemeService = t.DEFAULT_ANSI_COLORS = void 0;\n          var n = i(7239),\n            o = i(8055),\n            a = i(8460),\n            h = i(844),\n            c = i(2585),\n            l = o.css.toColor(\"#ffffff\"),\n            d = o.css.toColor(\"#000000\"),\n            _ = o.css.toColor(\"#ffffff\"),\n            u = o.css.toColor(\"#000000\"),\n            f = {\n              css: \"rgba(255, 255, 255, 0.3)\",\n              rgba: 4294967117\n            };\n          t.DEFAULT_ANSI_COLORS = Object.freeze(function () {\n            var e = [o.css.toColor(\"#2e3436\"), o.css.toColor(\"#cc0000\"), o.css.toColor(\"#4e9a06\"), o.css.toColor(\"#c4a000\"), o.css.toColor(\"#3465a4\"), o.css.toColor(\"#75507b\"), o.css.toColor(\"#06989a\"), o.css.toColor(\"#d3d7cf\"), o.css.toColor(\"#555753\"), o.css.toColor(\"#ef2929\"), o.css.toColor(\"#8ae234\"), o.css.toColor(\"#fce94f\"), o.css.toColor(\"#729fcf\"), o.css.toColor(\"#ad7fa8\"), o.css.toColor(\"#34e2e2\"), o.css.toColor(\"#eeeeec\")],\n              t = [0, 95, 135, 175, 215, 255];\n            for (var _i17 = 0; _i17 < 216; _i17++) {\n              var _s15 = t[_i17 / 36 % 6 | 0],\n                _r11 = t[_i17 / 6 % 6 | 0],\n                _n7 = t[_i17 % 6];\n              e.push({\n                css: o.channels.toCss(_s15, _r11, _n7),\n                rgba: o.channels.toRgba(_s15, _r11, _n7)\n              });\n            }\n            for (var _t35 = 0; _t35 < 24; _t35++) {\n              var _i18 = 8 + 10 * _t35;\n              e.push({\n                css: o.channels.toCss(_i18, _i18, _i18),\n                rgba: o.channels.toRgba(_i18, _i18, _i18)\n              });\n            }\n            return e;\n          }());\n          var v = /*#__PURE__*/function (_h$Disposable2) {\n            _inherits(v, _h$Disposable2);\n            var _super13 = _createSuper(v);\n            function v(e) {\n              var _this47;\n              _classCallCheck(this, v);\n              _this47 = _super13.call(this), _this47._optionsService = e, _this47._onChangeColors = _this47.register(new a.EventEmitter()), _this47.onChangeColors = _this47._onChangeColors.event, _this47._contrastCache = new n.ColorContrastCache(), _this47._colors = {\n                foreground: l,\n                background: d,\n                cursor: _,\n                cursorAccent: u,\n                selectionForeground: void 0,\n                selectionBackgroundTransparent: f,\n                selectionBackgroundOpaque: o.color.blend(d, f),\n                selectionInactiveBackgroundTransparent: f,\n                selectionInactiveBackgroundOpaque: o.color.blend(d, f),\n                ansi: t.DEFAULT_ANSI_COLORS.slice(),\n                contrastCache: _this47._contrastCache\n              }, _this47._updateRestoreColors(), _this47._setTheme(_this47._optionsService.rawOptions.theme), _this47.register(_this47._optionsService.onSpecificOptionChange(\"minimumContrastRatio\", function () {\n                return _this47._contrastCache.clear();\n              })), _this47.register(_this47._optionsService.onSpecificOptionChange(\"theme\", function () {\n                return _this47._setTheme(_this47._optionsService.rawOptions.theme);\n              }));\n              return _this47;\n            }\n            _createClass(v, [{\n              key: \"colors\",\n              get: function get() {\n                return this._colors;\n              }\n            }, {\n              key: \"_setTheme\",\n              value: function _setTheme() {\n                var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n                var i = this._colors;\n                if (i.foreground = g(e.foreground, l), i.background = g(e.background, d), i.cursor = g(e.cursor, _), i.cursorAccent = g(e.cursorAccent, u), i.selectionBackgroundTransparent = g(e.selectionBackground, f), i.selectionBackgroundOpaque = o.color.blend(i.background, i.selectionBackgroundTransparent), i.selectionInactiveBackgroundTransparent = g(e.selectionInactiveBackground, i.selectionBackgroundTransparent), i.selectionInactiveBackgroundOpaque = o.color.blend(i.background, i.selectionInactiveBackgroundTransparent), i.selectionForeground = e.selectionForeground ? g(e.selectionForeground, o.NULL_COLOR) : void 0, i.selectionForeground === o.NULL_COLOR && (i.selectionForeground = void 0), o.color.isOpaque(i.selectionBackgroundTransparent)) {\n                  var _e60 = .3;\n                  i.selectionBackgroundTransparent = o.color.opacity(i.selectionBackgroundTransparent, _e60);\n                }\n                if (o.color.isOpaque(i.selectionInactiveBackgroundTransparent)) {\n                  var _e61 = .3;\n                  i.selectionInactiveBackgroundTransparent = o.color.opacity(i.selectionInactiveBackgroundTransparent, _e61);\n                }\n                if (i.ansi = t.DEFAULT_ANSI_COLORS.slice(), i.ansi[0] = g(e.black, t.DEFAULT_ANSI_COLORS[0]), i.ansi[1] = g(e.red, t.DEFAULT_ANSI_COLORS[1]), i.ansi[2] = g(e.green, t.DEFAULT_ANSI_COLORS[2]), i.ansi[3] = g(e.yellow, t.DEFAULT_ANSI_COLORS[3]), i.ansi[4] = g(e.blue, t.DEFAULT_ANSI_COLORS[4]), i.ansi[5] = g(e.magenta, t.DEFAULT_ANSI_COLORS[5]), i.ansi[6] = g(e.cyan, t.DEFAULT_ANSI_COLORS[6]), i.ansi[7] = g(e.white, t.DEFAULT_ANSI_COLORS[7]), i.ansi[8] = g(e.brightBlack, t.DEFAULT_ANSI_COLORS[8]), i.ansi[9] = g(e.brightRed, t.DEFAULT_ANSI_COLORS[9]), i.ansi[10] = g(e.brightGreen, t.DEFAULT_ANSI_COLORS[10]), i.ansi[11] = g(e.brightYellow, t.DEFAULT_ANSI_COLORS[11]), i.ansi[12] = g(e.brightBlue, t.DEFAULT_ANSI_COLORS[12]), i.ansi[13] = g(e.brightMagenta, t.DEFAULT_ANSI_COLORS[13]), i.ansi[14] = g(e.brightCyan, t.DEFAULT_ANSI_COLORS[14]), i.ansi[15] = g(e.brightWhite, t.DEFAULT_ANSI_COLORS[15]), e.extendedAnsi) {\n                  var _s16 = Math.min(i.ansi.length - 16, e.extendedAnsi.length);\n                  for (var _r12 = 0; _r12 < _s16; _r12++) i.ansi[_r12 + 16] = g(e.extendedAnsi[_r12], t.DEFAULT_ANSI_COLORS[_r12 + 16]);\n                }\n                this._contrastCache.clear(), this._updateRestoreColors(), this._onChangeColors.fire(this.colors);\n              }\n            }, {\n              key: \"restoreColor\",\n              value: function restoreColor(e) {\n                this._restoreColor(e), this._onChangeColors.fire(this.colors);\n              }\n            }, {\n              key: \"_restoreColor\",\n              value: function _restoreColor(e) {\n                if (void 0 !== e) switch (e) {\n                  case 256:\n                    this._colors.foreground = this._restoreColors.foreground;\n                    break;\n                  case 257:\n                    this._colors.background = this._restoreColors.background;\n                    break;\n                  case 258:\n                    this._colors.cursor = this._restoreColors.cursor;\n                    break;\n                  default:\n                    this._colors.ansi[e] = this._restoreColors.ansi[e];\n                } else for (var _e62 = 0; _e62 < this._restoreColors.ansi.length; ++_e62) this._colors.ansi[_e62] = this._restoreColors.ansi[_e62];\n              }\n            }, {\n              key: \"modifyColors\",\n              value: function modifyColors(e) {\n                e(this._colors), this._onChangeColors.fire(this.colors);\n              }\n            }, {\n              key: \"_updateRestoreColors\",\n              value: function _updateRestoreColors() {\n                this._restoreColors = {\n                  foreground: this._colors.foreground,\n                  background: this._colors.background,\n                  cursor: this._colors.cursor,\n                  ansi: this._colors.ansi.slice()\n                };\n              }\n            }]);\n            return v;\n          }(h.Disposable);\n          function g(e, t) {\n            if (void 0 !== e) try {\n              return o.css.toColor(e);\n            } catch (e) {}\n            return t;\n          }\n          v = s([r(0, c.IOptionsService)], v), t.ThemeService = v;\n        },\n        6349: function _(e, t, i) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.CircularList = void 0;\n          var s = i(8460),\n            r = i(844);\n          var n = /*#__PURE__*/function (_r$Disposable) {\n            _inherits(n, _r$Disposable);\n            var _super14 = _createSuper(n);\n            function n(e) {\n              var _this48;\n              _classCallCheck(this, n);\n              _this48 = _super14.call(this), _this48._maxLength = e, _this48.onDeleteEmitter = _this48.register(new s.EventEmitter()), _this48.onDelete = _this48.onDeleteEmitter.event, _this48.onInsertEmitter = _this48.register(new s.EventEmitter()), _this48.onInsert = _this48.onInsertEmitter.event, _this48.onTrimEmitter = _this48.register(new s.EventEmitter()), _this48.onTrim = _this48.onTrimEmitter.event, _this48._array = new Array(_this48._maxLength), _this48._startIndex = 0, _this48._length = 0;\n              return _this48;\n            }\n            _createClass(n, [{\n              key: \"maxLength\",\n              get: function get() {\n                return this._maxLength;\n              },\n              set: function set(e) {\n                if (this._maxLength === e) return;\n                var t = new Array(e);\n                for (var _i19 = 0; _i19 < Math.min(e, this.length); _i19++) t[_i19] = this._array[this._getCyclicIndex(_i19)];\n                this._array = t, this._maxLength = e, this._startIndex = 0;\n              }\n            }, {\n              key: \"length\",\n              get: function get() {\n                return this._length;\n              },\n              set: function set(e) {\n                if (e > this._length) for (var _t36 = this._length; _t36 < e; _t36++) this._array[_t36] = void 0;\n                this._length = e;\n              }\n            }, {\n              key: \"get\",\n              value: function get(e) {\n                return this._array[this._getCyclicIndex(e)];\n              }\n            }, {\n              key: \"set\",\n              value: function set(e, t) {\n                this._array[this._getCyclicIndex(e)] = t;\n              }\n            }, {\n              key: \"push\",\n              value: function push(e) {\n                this._array[this._getCyclicIndex(this._length)] = e, this._length === this._maxLength ? (this._startIndex = ++this._startIndex % this._maxLength, this.onTrimEmitter.fire(1)) : this._length++;\n              }\n            }, {\n              key: \"recycle\",\n              value: function recycle() {\n                if (this._length !== this._maxLength) throw new Error(\"Can only recycle when the buffer is full\");\n                return this._startIndex = ++this._startIndex % this._maxLength, this.onTrimEmitter.fire(1), this._array[this._getCyclicIndex(this._length - 1)];\n              }\n            }, {\n              key: \"isFull\",\n              get: function get() {\n                return this._length === this._maxLength;\n              }\n            }, {\n              key: \"pop\",\n              value: function pop() {\n                return this._array[this._getCyclicIndex(this._length-- - 1)];\n              }\n            }, {\n              key: \"splice\",\n              value: function splice(e, t) {\n                if (t) {\n                  for (var _i20 = e; _i20 < this._length - t; _i20++) this._array[this._getCyclicIndex(_i20)] = this._array[this._getCyclicIndex(_i20 + t)];\n                  this._length -= t, this.onDeleteEmitter.fire({\n                    index: e,\n                    amount: t\n                  });\n                }\n                for (var _t37 = this._length - 1; _t37 >= e; _t37--) this._array[this._getCyclicIndex(_t37 + (arguments.length <= 2 ? 0 : arguments.length - 2))] = this._array[this._getCyclicIndex(_t37)];\n                for (var _t38 = 0; _t38 < (arguments.length <= 2 ? 0 : arguments.length - 2); _t38++) this._array[this._getCyclicIndex(e + _t38)] = _t38 + 2 < 2 || arguments.length <= _t38 + 2 ? undefined : arguments[_t38 + 2];\n                if ((arguments.length <= 2 ? 0 : arguments.length - 2) && this.onInsertEmitter.fire({\n                  index: e,\n                  amount: arguments.length <= 2 ? 0 : arguments.length - 2\n                }), this._length + (arguments.length <= 2 ? 0 : arguments.length - 2) > this._maxLength) {\n                  var _e63 = this._length + (arguments.length <= 2 ? 0 : arguments.length - 2) - this._maxLength;\n                  this._startIndex += _e63, this._length = this._maxLength, this.onTrimEmitter.fire(_e63);\n                } else this._length += arguments.length <= 2 ? 0 : arguments.length - 2;\n              }\n            }, {\n              key: \"trimStart\",\n              value: function trimStart(e) {\n                e > this._length && (e = this._length), this._startIndex += e, this._length -= e, this.onTrimEmitter.fire(e);\n              }\n            }, {\n              key: \"shiftElements\",\n              value: function shiftElements(e, t, i) {\n                if (!(t <= 0)) {\n                  if (e < 0 || e >= this._length) throw new Error(\"start argument out of range\");\n                  if (e + i < 0) throw new Error(\"Cannot shift elements in list beyond index 0\");\n                  if (i > 0) {\n                    for (var _s17 = t - 1; _s17 >= 0; _s17--) this.set(e + _s17 + i, this.get(e + _s17));\n                    var _s18 = e + t + i - this._length;\n                    if (_s18 > 0) for (this._length += _s18; this._length > this._maxLength;) this._length--, this._startIndex++, this.onTrimEmitter.fire(1);\n                  } else for (var _s19 = 0; _s19 < t; _s19++) this.set(e + _s19 + i, this.get(e + _s19));\n                }\n              }\n            }, {\n              key: \"_getCyclicIndex\",\n              value: function _getCyclicIndex(e) {\n                return (this._startIndex + e) % this._maxLength;\n              }\n            }]);\n            return n;\n          }(r.Disposable);\n          t.CircularList = n;\n        },\n        1439: function _(e, t) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.clone = void 0, t.clone = function e(t) {\n            var i = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 5;\n            if (\"object\" != _typeof(t)) return t;\n            var s = Array.isArray(t) ? [] : {};\n            for (var r in t) s[r] = i <= 1 ? t[r] : t[r] && e(t[r], i - 1);\n            return s;\n          };\n        },\n        8055: function _(e, t, i) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.contrastRatio = t.toPaddedHex = t.rgba = t.rgb = t.css = t.color = t.channels = t.NULL_COLOR = void 0;\n          var s = i(6114);\n          var r = 0,\n            n = 0,\n            o = 0,\n            a = 0;\n          var h, c, l;\n          function d(e) {\n            var t = e.toString(16);\n            return t.length < 2 ? \"0\" + t : t;\n          }\n          function _(e, t) {\n            return e < t ? (t + .05) / (e + .05) : (e + .05) / (t + .05);\n          }\n          t.NULL_COLOR = {\n            css: \"#00000000\",\n            rgba: 0\n          }, function (e) {\n            e.toCss = function (e, t, i, s) {\n              return void 0 !== s ? \"#\".concat(d(e)).concat(d(t)).concat(d(i)).concat(d(s)) : \"#\".concat(d(e)).concat(d(t)).concat(d(i));\n            }, e.toRgba = function (e, t, i) {\n              var s = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 255;\n              return (e << 24 | t << 16 | i << 8 | s) >>> 0;\n            };\n          }(h = t.channels || (t.channels = {})), function (e) {\n            function t(e, t) {\n              var _l$toChannels, _l$toChannels2;\n              return a = Math.round(255 * t), (_l$toChannels = l.toChannels(e.rgba), _l$toChannels2 = _slicedToArray(_l$toChannels, 3), r = _l$toChannels2[0], n = _l$toChannels2[1], o = _l$toChannels2[2]), {\n                css: h.toCss(r, n, o, a),\n                rgba: h.toRgba(r, n, o, a)\n              };\n            }\n            e.blend = function (e, t) {\n              if (a = (255 & t.rgba) / 255, 1 === a) return {\n                css: t.css,\n                rgba: t.rgba\n              };\n              var i = t.rgba >> 24 & 255,\n                s = t.rgba >> 16 & 255,\n                c = t.rgba >> 8 & 255,\n                l = e.rgba >> 24 & 255,\n                d = e.rgba >> 16 & 255,\n                _ = e.rgba >> 8 & 255;\n              return r = l + Math.round((i - l) * a), n = d + Math.round((s - d) * a), o = _ + Math.round((c - _) * a), {\n                css: h.toCss(r, n, o),\n                rgba: h.toRgba(r, n, o)\n              };\n            }, e.isOpaque = function (e) {\n              return 255 == (255 & e.rgba);\n            }, e.ensureContrastRatio = function (e, t, i) {\n              var s = l.ensureContrastRatio(e.rgba, t.rgba, i);\n              if (s) return l.toColor(s >> 24 & 255, s >> 16 & 255, s >> 8 & 255);\n            }, e.opaque = function (e) {\n              var _l$toChannels3, _l$toChannels4;\n              var t = (255 | e.rgba) >>> 0;\n              return (_l$toChannels3 = l.toChannels(t), _l$toChannels4 = _slicedToArray(_l$toChannels3, 3), r = _l$toChannels4[0], n = _l$toChannels4[1], o = _l$toChannels4[2]), {\n                css: h.toCss(r, n, o),\n                rgba: t\n              };\n            }, e.opacity = t, e.multiplyOpacity = function (e, i) {\n              return a = 255 & e.rgba, t(e, a * i / 255);\n            }, e.toColorRGB = function (e) {\n              return [e.rgba >> 24 & 255, e.rgba >> 16 & 255, e.rgba >> 8 & 255];\n            };\n          }(t.color || (t.color = {})), function (e) {\n            var t, i;\n            if (!s.isNode) {\n              var _e64 = document.createElement(\"canvas\");\n              _e64.width = 1, _e64.height = 1;\n              var _s20 = _e64.getContext(\"2d\", {\n                willReadFrequently: !0\n              });\n              _s20 && (t = _s20, t.globalCompositeOperation = \"copy\", i = t.createLinearGradient(0, 0, 1, 1));\n            }\n            e.toColor = function (e) {\n              var _t$getImageData$data;\n              if (e.match(/#[\\da-f]{3,8}/i)) switch (e.length) {\n                case 4:\n                  return r = parseInt(e.slice(1, 2).repeat(2), 16), n = parseInt(e.slice(2, 3).repeat(2), 16), o = parseInt(e.slice(3, 4).repeat(2), 16), l.toColor(r, n, o);\n                case 5:\n                  return r = parseInt(e.slice(1, 2).repeat(2), 16), n = parseInt(e.slice(2, 3).repeat(2), 16), o = parseInt(e.slice(3, 4).repeat(2), 16), a = parseInt(e.slice(4, 5).repeat(2), 16), l.toColor(r, n, o, a);\n                case 7:\n                  return {\n                    css: e,\n                    rgba: (parseInt(e.slice(1), 16) << 8 | 255) >>> 0\n                  };\n                case 9:\n                  return {\n                    css: e,\n                    rgba: parseInt(e.slice(1), 16) >>> 0\n                  };\n              }\n              var s = e.match(/rgba?\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*(,\\s*(0|1|\\d?\\.(\\d+))\\s*)?\\)/);\n              if (s) return r = parseInt(s[1]), n = parseInt(s[2]), o = parseInt(s[3]), a = Math.round(255 * (void 0 === s[5] ? 1 : parseFloat(s[5]))), l.toColor(r, n, o, a);\n              if (!t || !i) throw new Error(\"css.toColor: Unsupported css format\");\n              if (t.fillStyle = i, t.fillStyle = e, \"string\" != typeof t.fillStyle) throw new Error(\"css.toColor: Unsupported css format\");\n              if (t.fillRect(0, 0, 1, 1), (_t$getImageData$data = _slicedToArray(t.getImageData(0, 0, 1, 1).data, 4), r = _t$getImageData$data[0], n = _t$getImageData$data[1], o = _t$getImageData$data[2], a = _t$getImageData$data[3]), 255 !== a) throw new Error(\"css.toColor: Unsupported css format\");\n              return {\n                rgba: h.toRgba(r, n, o, a),\n                css: e\n              };\n            };\n          }(t.css || (t.css = {})), function (e) {\n            function t(e, t, i) {\n              var s = e / 255,\n                r = t / 255,\n                n = i / 255;\n              return .2126 * (s <= .03928 ? s / 12.92 : Math.pow((s + .055) / 1.055, 2.4)) + .7152 * (r <= .03928 ? r / 12.92 : Math.pow((r + .055) / 1.055, 2.4)) + .0722 * (n <= .03928 ? n / 12.92 : Math.pow((n + .055) / 1.055, 2.4));\n            }\n            e.relativeLuminance = function (e) {\n              return t(e >> 16 & 255, e >> 8 & 255, 255 & e);\n            }, e.relativeLuminance2 = t;\n          }(c = t.rgb || (t.rgb = {})), function (e) {\n            function t(e, t, i) {\n              var s = e >> 24 & 255,\n                r = e >> 16 & 255,\n                n = e >> 8 & 255;\n              var o = t >> 24 & 255,\n                a = t >> 16 & 255,\n                h = t >> 8 & 255,\n                l = _(c.relativeLuminance2(o, a, h), c.relativeLuminance2(s, r, n));\n              for (; l < i && (o > 0 || a > 0 || h > 0);) o -= Math.max(0, Math.ceil(.1 * o)), a -= Math.max(0, Math.ceil(.1 * a)), h -= Math.max(0, Math.ceil(.1 * h)), l = _(c.relativeLuminance2(o, a, h), c.relativeLuminance2(s, r, n));\n              return (o << 24 | a << 16 | h << 8 | 255) >>> 0;\n            }\n            function i(e, t, i) {\n              var s = e >> 24 & 255,\n                r = e >> 16 & 255,\n                n = e >> 8 & 255;\n              var o = t >> 24 & 255,\n                a = t >> 16 & 255,\n                h = t >> 8 & 255,\n                l = _(c.relativeLuminance2(o, a, h), c.relativeLuminance2(s, r, n));\n              for (; l < i && (o < 255 || a < 255 || h < 255);) o = Math.min(255, o + Math.ceil(.1 * (255 - o))), a = Math.min(255, a + Math.ceil(.1 * (255 - a))), h = Math.min(255, h + Math.ceil(.1 * (255 - h))), l = _(c.relativeLuminance2(o, a, h), c.relativeLuminance2(s, r, n));\n              return (o << 24 | a << 16 | h << 8 | 255) >>> 0;\n            }\n            e.ensureContrastRatio = function (e, s, r) {\n              var n = c.relativeLuminance(e >> 8),\n                o = c.relativeLuminance(s >> 8);\n              if (_(n, o) < r) {\n                if (o < n) {\n                  var _o4 = t(e, s, r),\n                    _a4 = _(n, c.relativeLuminance(_o4 >> 8));\n                  if (_a4 < r) {\n                    var _t39 = i(e, s, r);\n                    return _a4 > _(n, c.relativeLuminance(_t39 >> 8)) ? _o4 : _t39;\n                  }\n                  return _o4;\n                }\n                var _a5 = i(e, s, r),\n                  _h4 = _(n, c.relativeLuminance(_a5 >> 8));\n                if (_h4 < r) {\n                  var _i21 = t(e, s, r);\n                  return _h4 > _(n, c.relativeLuminance(_i21 >> 8)) ? _a5 : _i21;\n                }\n                return _a5;\n              }\n            }, e.reduceLuminance = t, e.increaseLuminance = i, e.toChannels = function (e) {\n              return [e >> 24 & 255, e >> 16 & 255, e >> 8 & 255, 255 & e];\n            }, e.toColor = function (e, t, i, s) {\n              return {\n                css: h.toCss(e, t, i, s),\n                rgba: h.toRgba(e, t, i, s)\n              };\n            };\n          }(l = t.rgba || (t.rgba = {})), t.toPaddedHex = d, t.contrastRatio = _;\n        },\n        8969: function _(e, t, i) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.CoreTerminal = void 0;\n          var s = i(844),\n            r = i(2585),\n            n = i(4348),\n            o = i(7866),\n            a = i(744),\n            h = i(7302),\n            c = i(6975),\n            l = i(8460),\n            d = i(1753),\n            _ = i(1480),\n            u = i(7994),\n            f = i(9282),\n            v = i(5435),\n            g = i(5981),\n            p = i(2660);\n          var S = !1;\n          var m = /*#__PURE__*/function (_s$Disposable2) {\n            _inherits(m, _s$Disposable2);\n            var _super15 = _createSuper(m);\n            function m(e) {\n              var _this49;\n              _classCallCheck(this, m);\n              _this49 = _super15.call(this), _this49._onBinary = _this49.register(new l.EventEmitter()), _this49.onBinary = _this49._onBinary.event, _this49._onData = _this49.register(new l.EventEmitter()), _this49.onData = _this49._onData.event, _this49._onLineFeed = _this49.register(new l.EventEmitter()), _this49.onLineFeed = _this49._onLineFeed.event, _this49._onResize = _this49.register(new l.EventEmitter()), _this49.onResize = _this49._onResize.event, _this49._onWriteParsed = _this49.register(new l.EventEmitter()), _this49.onWriteParsed = _this49._onWriteParsed.event, _this49._onScroll = _this49.register(new l.EventEmitter()), _this49._instantiationService = new n.InstantiationService(), _this49.optionsService = _this49.register(new h.OptionsService(e)), _this49._instantiationService.setService(r.IOptionsService, _this49.optionsService), _this49._bufferService = _this49.register(_this49._instantiationService.createInstance(a.BufferService)), _this49._instantiationService.setService(r.IBufferService, _this49._bufferService), _this49._logService = _this49.register(_this49._instantiationService.createInstance(o.LogService)), _this49._instantiationService.setService(r.ILogService, _this49._logService), _this49.coreService = _this49.register(_this49._instantiationService.createInstance(c.CoreService)), _this49._instantiationService.setService(r.ICoreService, _this49.coreService), _this49.coreMouseService = _this49.register(_this49._instantiationService.createInstance(d.CoreMouseService)), _this49._instantiationService.setService(r.ICoreMouseService, _this49.coreMouseService), _this49.unicodeService = _this49.register(_this49._instantiationService.createInstance(_.UnicodeService)), _this49._instantiationService.setService(r.IUnicodeService, _this49.unicodeService), _this49._charsetService = _this49._instantiationService.createInstance(u.CharsetService), _this49._instantiationService.setService(r.ICharsetService, _this49._charsetService), _this49._oscLinkService = _this49._instantiationService.createInstance(p.OscLinkService), _this49._instantiationService.setService(r.IOscLinkService, _this49._oscLinkService), _this49._inputHandler = _this49.register(new v.InputHandler(_this49._bufferService, _this49._charsetService, _this49.coreService, _this49._logService, _this49.optionsService, _this49._oscLinkService, _this49.coreMouseService, _this49.unicodeService)), _this49.register((0, l.forwardEvent)(_this49._inputHandler.onLineFeed, _this49._onLineFeed)), _this49.register(_this49._inputHandler), _this49.register((0, l.forwardEvent)(_this49._bufferService.onResize, _this49._onResize)), _this49.register((0, l.forwardEvent)(_this49.coreService.onData, _this49._onData)), _this49.register((0, l.forwardEvent)(_this49.coreService.onBinary, _this49._onBinary)), _this49.register(_this49.coreService.onRequestScrollToBottom(function () {\n                return _this49.scrollToBottom();\n              })), _this49.register(_this49.coreService.onUserInput(function () {\n                return _this49._writeBuffer.handleUserInput();\n              })), _this49.register(_this49.optionsService.onSpecificOptionChange(\"windowsMode\", function (e) {\n                return _this49._handleWindowsModeOptionChange(e);\n              })), _this49.register(_this49._bufferService.onScroll(function (e) {\n                _this49._onScroll.fire({\n                  position: _this49._bufferService.buffer.ydisp,\n                  source: 0\n                }), _this49._inputHandler.markRangeDirty(_this49._bufferService.buffer.scrollTop, _this49._bufferService.buffer.scrollBottom);\n              })), _this49.register(_this49._inputHandler.onScroll(function (e) {\n                _this49._onScroll.fire({\n                  position: _this49._bufferService.buffer.ydisp,\n                  source: 0\n                }), _this49._inputHandler.markRangeDirty(_this49._bufferService.buffer.scrollTop, _this49._bufferService.buffer.scrollBottom);\n              })), _this49._writeBuffer = _this49.register(new g.WriteBuffer(function (e, t) {\n                return _this49._inputHandler.parse(e, t);\n              })), _this49.register((0, l.forwardEvent)(_this49._writeBuffer.onWriteParsed, _this49._onWriteParsed)), _this49.register((0, s.toDisposable)(function () {\n                var e;\n                null === (e = _this49._windowsMode) || void 0 === e || e.dispose(), _this49._windowsMode = void 0;\n              }));\n              return _this49;\n            }\n            _createClass(m, [{\n              key: \"onScroll\",\n              get: function get() {\n                var _this50 = this;\n                return this._onScrollApi || (this._onScrollApi = this.register(new l.EventEmitter()), this._onScroll.event(function (e) {\n                  var t;\n                  null === (t = _this50._onScrollApi) || void 0 === t || t.fire(e.position);\n                })), this._onScrollApi.event;\n              }\n            }, {\n              key: \"cols\",\n              get: function get() {\n                return this._bufferService.cols;\n              }\n            }, {\n              key: \"rows\",\n              get: function get() {\n                return this._bufferService.rows;\n              }\n            }, {\n              key: \"buffers\",\n              get: function get() {\n                return this._bufferService.buffers;\n              }\n            }, {\n              key: \"options\",\n              get: function get() {\n                return this.optionsService.options;\n              },\n              set: function set(e) {\n                for (var _t40 in e) this.optionsService.options[_t40] = e[_t40];\n              }\n            }, {\n              key: \"write\",\n              value: function write(e, t) {\n                this._writeBuffer.write(e, t);\n              }\n            }, {\n              key: \"writeSync\",\n              value: function writeSync(e, t) {\n                this._logService.logLevel <= r.LogLevelEnum.WARN && !S && (this._logService.warn(\"writeSync is unreliable and will be removed soon.\"), S = !0), this._writeBuffer.writeSync(e, t);\n              }\n            }, {\n              key: \"resize\",\n              value: function resize(e, t) {\n                isNaN(e) || isNaN(t) || (e = Math.max(e, a.MINIMUM_COLS), t = Math.max(t, a.MINIMUM_ROWS), this._bufferService.resize(e, t));\n              }\n            }, {\n              key: \"scroll\",\n              value: function scroll(e) {\n                var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;\n                this._bufferService.scroll(e, t);\n              }\n            }, {\n              key: \"scrollLines\",\n              value: function scrollLines(e, t, i) {\n                this._bufferService.scrollLines(e, t, i);\n              }\n            }, {\n              key: \"scrollPages\",\n              value: function scrollPages(e) {\n                this._bufferService.scrollPages(e);\n              }\n            }, {\n              key: \"scrollToTop\",\n              value: function scrollToTop() {\n                this._bufferService.scrollToTop();\n              }\n            }, {\n              key: \"scrollToBottom\",\n              value: function scrollToBottom() {\n                this._bufferService.scrollToBottom();\n              }\n            }, {\n              key: \"scrollToLine\",\n              value: function scrollToLine(e) {\n                this._bufferService.scrollToLine(e);\n              }\n            }, {\n              key: \"registerEscHandler\",\n              value: function registerEscHandler(e, t) {\n                return this._inputHandler.registerEscHandler(e, t);\n              }\n            }, {\n              key: \"registerDcsHandler\",\n              value: function registerDcsHandler(e, t) {\n                return this._inputHandler.registerDcsHandler(e, t);\n              }\n            }, {\n              key: \"registerCsiHandler\",\n              value: function registerCsiHandler(e, t) {\n                return this._inputHandler.registerCsiHandler(e, t);\n              }\n            }, {\n              key: \"registerOscHandler\",\n              value: function registerOscHandler(e, t) {\n                return this._inputHandler.registerOscHandler(e, t);\n              }\n            }, {\n              key: \"_setup\",\n              value: function _setup() {\n                this.optionsService.rawOptions.windowsMode && this._enableWindowsMode();\n              }\n            }, {\n              key: \"reset\",\n              value: function reset() {\n                this._inputHandler.reset(), this._bufferService.reset(), this._charsetService.reset(), this.coreService.reset(), this.coreMouseService.reset();\n              }\n            }, {\n              key: \"_handleWindowsModeOptionChange\",\n              value: function _handleWindowsModeOptionChange(e) {\n                var t;\n                e ? this._enableWindowsMode() : (null === (t = this._windowsMode) || void 0 === t || t.dispose(), this._windowsMode = void 0);\n              }\n            }, {\n              key: \"_enableWindowsMode\",\n              value: function _enableWindowsMode() {\n                var _this51 = this;\n                if (!this._windowsMode) {\n                  var _e65 = [];\n                  _e65.push(this.onLineFeed(f.updateWindowsModeWrappedState.bind(null, this._bufferService))), _e65.push(this.registerCsiHandler({\n                    final: \"H\"\n                  }, function () {\n                    return (0, f.updateWindowsModeWrappedState)(_this51._bufferService), !1;\n                  })), this._windowsMode = {\n                    dispose: function dispose() {\n                      for (var _i22 = 0, _e66 = _e65; _i22 < _e66.length; _i22++) {\n                        var _t41 = _e66[_i22];\n                        _t41.dispose();\n                      }\n                    }\n                  };\n                }\n              }\n            }]);\n            return m;\n          }(s.Disposable);\n          t.CoreTerminal = m;\n        },\n        8460: function _(e, t) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.forwardEvent = t.EventEmitter = void 0, t.EventEmitter = /*#__PURE__*/function () {\n            function _class7() {\n              _classCallCheck(this, _class7);\n              this._listeners = [], this._disposed = !1;\n            }\n            _createClass(_class7, [{\n              key: \"event\",\n              get: function get() {\n                var _this52 = this;\n                return this._event || (this._event = function (e) {\n                  return _this52._listeners.push(e), {\n                    dispose: function dispose() {\n                      if (!_this52._disposed) for (var _t42 = 0; _t42 < _this52._listeners.length; _t42++) if (_this52._listeners[_t42] === e) return void _this52._listeners.splice(_t42, 1);\n                    }\n                  };\n                }), this._event;\n              }\n            }, {\n              key: \"fire\",\n              value: function fire(e, t) {\n                var i = [];\n                for (var _e67 = 0; _e67 < this._listeners.length; _e67++) i.push(this._listeners[_e67]);\n                for (var _s21 = 0; _s21 < i.length; _s21++) i[_s21].call(void 0, e, t);\n              }\n            }, {\n              key: \"dispose\",\n              value: function dispose() {\n                this._listeners && (this._listeners.length = 0), this._disposed = !0;\n              }\n            }]);\n            return _class7;\n          }(), t.forwardEvent = function (e, t) {\n            return e(function (e) {\n              return t.fire(e);\n            });\n          };\n        },\n        5435: function _(e, t, i) {\n          var s = this && this.__decorate || function (e, t, i, s) {\n              var r,\n                n = arguments.length,\n                o = n < 3 ? t : null === s ? s = Object.getOwnPropertyDescriptor(t, i) : s;\n              if (\"object\" == (typeof Reflect === \"undefined\" ? \"undefined\" : _typeof(Reflect)) && \"function\" == typeof Reflect.decorate) o = Reflect.decorate(e, t, i, s);else for (var a = e.length - 1; a >= 0; a--) (r = e[a]) && (o = (n < 3 ? r(o) : n > 3 ? r(t, i, o) : r(t, i)) || o);\n              return n > 3 && o && Object.defineProperty(t, i, o), o;\n            },\n            r = this && this.__param || function (e, t) {\n              return function (i, s) {\n                t(i, s, e);\n              };\n            };\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.InputHandler = t.WindowsOptionsReportType = void 0;\n          var n = i(2584),\n            o = i(7116),\n            a = i(2015),\n            h = i(844),\n            c = i(482),\n            l = i(8437),\n            d = i(8460),\n            _ = i(643),\n            u = i(511),\n            f = i(3734),\n            v = i(2585),\n            g = i(6242),\n            p = i(6351),\n            S = i(5941),\n            m = {\n              \"(\": 0,\n              \")\": 1,\n              \"*\": 2,\n              \"+\": 3,\n              \"-\": 1,\n              \".\": 2\n            },\n            C = 131072;\n          function b(e, t) {\n            if (e > 24) return t.setWinLines || !1;\n            switch (e) {\n              case 1:\n                return !!t.restoreWin;\n              case 2:\n                return !!t.minimizeWin;\n              case 3:\n                return !!t.setWinPosition;\n              case 4:\n                return !!t.setWinSizePixels;\n              case 5:\n                return !!t.raiseWin;\n              case 6:\n                return !!t.lowerWin;\n              case 7:\n                return !!t.refreshWin;\n              case 8:\n                return !!t.setWinSizeChars;\n              case 9:\n                return !!t.maximizeWin;\n              case 10:\n                return !!t.fullscreenWin;\n              case 11:\n                return !!t.getWinState;\n              case 13:\n                return !!t.getWinPosition;\n              case 14:\n                return !!t.getWinSizePixels;\n              case 15:\n                return !!t.getScreenSizePixels;\n              case 16:\n                return !!t.getCellSizePixels;\n              case 18:\n                return !!t.getWinSizeChars;\n              case 19:\n                return !!t.getScreenSizeChars;\n              case 20:\n                return !!t.getIconTitle;\n              case 21:\n                return !!t.getWinTitle;\n              case 22:\n                return !!t.pushTitle;\n              case 23:\n                return !!t.popTitle;\n              case 24:\n                return !!t.setWinLines;\n            }\n            return !1;\n          }\n          var y;\n          !function (e) {\n            e[e.GET_WIN_SIZE_PIXELS = 0] = \"GET_WIN_SIZE_PIXELS\", e[e.GET_CELL_SIZE_PIXELS = 1] = \"GET_CELL_SIZE_PIXELS\";\n          }(y = t.WindowsOptionsReportType || (t.WindowsOptionsReportType = {}));\n          var w = 0;\n          var E = /*#__PURE__*/function (_h$Disposable3) {\n            _inherits(E, _h$Disposable3);\n            var _super16 = _createSuper(E);\n            function E(e, t, i, s, r, h, _, f) {\n              var _this53;\n              var v = arguments.length > 8 && arguments[8] !== undefined ? arguments[8] : new a.EscapeSequenceParser();\n              _classCallCheck(this, E);\n              _this53 = _super16.call(this), _this53._bufferService = e, _this53._charsetService = t, _this53._coreService = i, _this53._logService = s, _this53._optionsService = r, _this53._oscLinkService = h, _this53._coreMouseService = _, _this53._unicodeService = f, _this53._parser = v, _this53._parseBuffer = new Uint32Array(4096), _this53._stringDecoder = new c.StringToUtf32(), _this53._utf8Decoder = new c.Utf8ToUtf32(), _this53._workCell = new u.CellData(), _this53._windowTitle = \"\", _this53._iconName = \"\", _this53._windowTitleStack = [], _this53._iconNameStack = [], _this53._curAttrData = l.DEFAULT_ATTR_DATA.clone(), _this53._eraseAttrDataInternal = l.DEFAULT_ATTR_DATA.clone(), _this53._onRequestBell = _this53.register(new d.EventEmitter()), _this53.onRequestBell = _this53._onRequestBell.event, _this53._onRequestRefreshRows = _this53.register(new d.EventEmitter()), _this53.onRequestRefreshRows = _this53._onRequestRefreshRows.event, _this53._onRequestReset = _this53.register(new d.EventEmitter()), _this53.onRequestReset = _this53._onRequestReset.event, _this53._onRequestSendFocus = _this53.register(new d.EventEmitter()), _this53.onRequestSendFocus = _this53._onRequestSendFocus.event, _this53._onRequestSyncScrollBar = _this53.register(new d.EventEmitter()), _this53.onRequestSyncScrollBar = _this53._onRequestSyncScrollBar.event, _this53._onRequestWindowsOptionsReport = _this53.register(new d.EventEmitter()), _this53.onRequestWindowsOptionsReport = _this53._onRequestWindowsOptionsReport.event, _this53._onA11yChar = _this53.register(new d.EventEmitter()), _this53.onA11yChar = _this53._onA11yChar.event, _this53._onA11yTab = _this53.register(new d.EventEmitter()), _this53.onA11yTab = _this53._onA11yTab.event, _this53._onCursorMove = _this53.register(new d.EventEmitter()), _this53.onCursorMove = _this53._onCursorMove.event, _this53._onLineFeed = _this53.register(new d.EventEmitter()), _this53.onLineFeed = _this53._onLineFeed.event, _this53._onScroll = _this53.register(new d.EventEmitter()), _this53.onScroll = _this53._onScroll.event, _this53._onTitleChange = _this53.register(new d.EventEmitter()), _this53.onTitleChange = _this53._onTitleChange.event, _this53._onColor = _this53.register(new d.EventEmitter()), _this53.onColor = _this53._onColor.event, _this53._parseStack = {\n                paused: !1,\n                cursorStartX: 0,\n                cursorStartY: 0,\n                decodedLength: 0,\n                position: 0\n              }, _this53._specialColors = [256, 257, 258], _this53.register(_this53._parser), _this53._dirtyRowTracker = new L(_this53._bufferService), _this53._activeBuffer = _this53._bufferService.buffer, _this53.register(_this53._bufferService.buffers.onBufferActivate(function (e) {\n                return _this53._activeBuffer = e.activeBuffer;\n              })), _this53._parser.setCsiHandlerFallback(function (e, t) {\n                _this53._logService.debug(\"Unknown CSI code: \", {\n                  identifier: _this53._parser.identToString(e),\n                  params: t.toArray()\n                });\n              }), _this53._parser.setEscHandlerFallback(function (e) {\n                _this53._logService.debug(\"Unknown ESC code: \", {\n                  identifier: _this53._parser.identToString(e)\n                });\n              }), _this53._parser.setExecuteHandlerFallback(function (e) {\n                _this53._logService.debug(\"Unknown EXECUTE code: \", {\n                  code: e\n                });\n              }), _this53._parser.setOscHandlerFallback(function (e, t, i) {\n                _this53._logService.debug(\"Unknown OSC code: \", {\n                  identifier: e,\n                  action: t,\n                  data: i\n                });\n              }), _this53._parser.setDcsHandlerFallback(function (e, t, i) {\n                \"HOOK\" === t && (i = i.toArray()), _this53._logService.debug(\"Unknown DCS code: \", {\n                  identifier: _this53._parser.identToString(e),\n                  action: t,\n                  payload: i\n                });\n              }), _this53._parser.setPrintHandler(function (e, t, i) {\n                return _this53.print(e, t, i);\n              }), _this53._parser.registerCsiHandler({\n                final: \"@\"\n              }, function (e) {\n                return _this53.insertChars(e);\n              }), _this53._parser.registerCsiHandler({\n                intermediates: \" \",\n                final: \"@\"\n              }, function (e) {\n                return _this53.scrollLeft(e);\n              }), _this53._parser.registerCsiHandler({\n                final: \"A\"\n              }, function (e) {\n                return _this53.cursorUp(e);\n              }), _this53._parser.registerCsiHandler({\n                intermediates: \" \",\n                final: \"A\"\n              }, function (e) {\n                return _this53.scrollRight(e);\n              }), _this53._parser.registerCsiHandler({\n                final: \"B\"\n              }, function (e) {\n                return _this53.cursorDown(e);\n              }), _this53._parser.registerCsiHandler({\n                final: \"C\"\n              }, function (e) {\n                return _this53.cursorForward(e);\n              }), _this53._parser.registerCsiHandler({\n                final: \"D\"\n              }, function (e) {\n                return _this53.cursorBackward(e);\n              }), _this53._parser.registerCsiHandler({\n                final: \"E\"\n              }, function (e) {\n                return _this53.cursorNextLine(e);\n              }), _this53._parser.registerCsiHandler({\n                final: \"F\"\n              }, function (e) {\n                return _this53.cursorPrecedingLine(e);\n              }), _this53._parser.registerCsiHandler({\n                final: \"G\"\n              }, function (e) {\n                return _this53.cursorCharAbsolute(e);\n              }), _this53._parser.registerCsiHandler({\n                final: \"H\"\n              }, function (e) {\n                return _this53.cursorPosition(e);\n              }), _this53._parser.registerCsiHandler({\n                final: \"I\"\n              }, function (e) {\n                return _this53.cursorForwardTab(e);\n              }), _this53._parser.registerCsiHandler({\n                final: \"J\"\n              }, function (e) {\n                return _this53.eraseInDisplay(e, !1);\n              }), _this53._parser.registerCsiHandler({\n                prefix: \"?\",\n                final: \"J\"\n              }, function (e) {\n                return _this53.eraseInDisplay(e, !0);\n              }), _this53._parser.registerCsiHandler({\n                final: \"K\"\n              }, function (e) {\n                return _this53.eraseInLine(e, !1);\n              }), _this53._parser.registerCsiHandler({\n                prefix: \"?\",\n                final: \"K\"\n              }, function (e) {\n                return _this53.eraseInLine(e, !0);\n              }), _this53._parser.registerCsiHandler({\n                final: \"L\"\n              }, function (e) {\n                return _this53.insertLines(e);\n              }), _this53._parser.registerCsiHandler({\n                final: \"M\"\n              }, function (e) {\n                return _this53.deleteLines(e);\n              }), _this53._parser.registerCsiHandler({\n                final: \"P\"\n              }, function (e) {\n                return _this53.deleteChars(e);\n              }), _this53._parser.registerCsiHandler({\n                final: \"S\"\n              }, function (e) {\n                return _this53.scrollUp(e);\n              }), _this53._parser.registerCsiHandler({\n                final: \"T\"\n              }, function (e) {\n                return _this53.scrollDown(e);\n              }), _this53._parser.registerCsiHandler({\n                final: \"X\"\n              }, function (e) {\n                return _this53.eraseChars(e);\n              }), _this53._parser.registerCsiHandler({\n                final: \"Z\"\n              }, function (e) {\n                return _this53.cursorBackwardTab(e);\n              }), _this53._parser.registerCsiHandler({\n                final: \"`\"\n              }, function (e) {\n                return _this53.charPosAbsolute(e);\n              }), _this53._parser.registerCsiHandler({\n                final: \"a\"\n              }, function (e) {\n                return _this53.hPositionRelative(e);\n              }), _this53._parser.registerCsiHandler({\n                final: \"b\"\n              }, function (e) {\n                return _this53.repeatPrecedingCharacter(e);\n              }), _this53._parser.registerCsiHandler({\n                final: \"c\"\n              }, function (e) {\n                return _this53.sendDeviceAttributesPrimary(e);\n              }), _this53._parser.registerCsiHandler({\n                prefix: \">\",\n                final: \"c\"\n              }, function (e) {\n                return _this53.sendDeviceAttributesSecondary(e);\n              }), _this53._parser.registerCsiHandler({\n                final: \"d\"\n              }, function (e) {\n                return _this53.linePosAbsolute(e);\n              }), _this53._parser.registerCsiHandler({\n                final: \"e\"\n              }, function (e) {\n                return _this53.vPositionRelative(e);\n              }), _this53._parser.registerCsiHandler({\n                final: \"f\"\n              }, function (e) {\n                return _this53.hVPosition(e);\n              }), _this53._parser.registerCsiHandler({\n                final: \"g\"\n              }, function (e) {\n                return _this53.tabClear(e);\n              }), _this53._parser.registerCsiHandler({\n                final: \"h\"\n              }, function (e) {\n                return _this53.setMode(e);\n              }), _this53._parser.registerCsiHandler({\n                prefix: \"?\",\n                final: \"h\"\n              }, function (e) {\n                return _this53.setModePrivate(e);\n              }), _this53._parser.registerCsiHandler({\n                final: \"l\"\n              }, function (e) {\n                return _this53.resetMode(e);\n              }), _this53._parser.registerCsiHandler({\n                prefix: \"?\",\n                final: \"l\"\n              }, function (e) {\n                return _this53.resetModePrivate(e);\n              }), _this53._parser.registerCsiHandler({\n                final: \"m\"\n              }, function (e) {\n                return _this53.charAttributes(e);\n              }), _this53._parser.registerCsiHandler({\n                final: \"n\"\n              }, function (e) {\n                return _this53.deviceStatus(e);\n              }), _this53._parser.registerCsiHandler({\n                prefix: \"?\",\n                final: \"n\"\n              }, function (e) {\n                return _this53.deviceStatusPrivate(e);\n              }), _this53._parser.registerCsiHandler({\n                intermediates: \"!\",\n                final: \"p\"\n              }, function (e) {\n                return _this53.softReset(e);\n              }), _this53._parser.registerCsiHandler({\n                intermediates: \" \",\n                final: \"q\"\n              }, function (e) {\n                return _this53.setCursorStyle(e);\n              }), _this53._parser.registerCsiHandler({\n                final: \"r\"\n              }, function (e) {\n                return _this53.setScrollRegion(e);\n              }), _this53._parser.registerCsiHandler({\n                final: \"s\"\n              }, function (e) {\n                return _this53.saveCursor(e);\n              }), _this53._parser.registerCsiHandler({\n                final: \"t\"\n              }, function (e) {\n                return _this53.windowOptions(e);\n              }), _this53._parser.registerCsiHandler({\n                final: \"u\"\n              }, function (e) {\n                return _this53.restoreCursor(e);\n              }), _this53._parser.registerCsiHandler({\n                intermediates: \"'\",\n                final: \"}\"\n              }, function (e) {\n                return _this53.insertColumns(e);\n              }), _this53._parser.registerCsiHandler({\n                intermediates: \"'\",\n                final: \"~\"\n              }, function (e) {\n                return _this53.deleteColumns(e);\n              }), _this53._parser.registerCsiHandler({\n                intermediates: '\"',\n                final: \"q\"\n              }, function (e) {\n                return _this53.selectProtected(e);\n              }), _this53._parser.registerCsiHandler({\n                intermediates: \"$\",\n                final: \"p\"\n              }, function (e) {\n                return _this53.requestMode(e, !0);\n              }), _this53._parser.registerCsiHandler({\n                prefix: \"?\",\n                intermediates: \"$\",\n                final: \"p\"\n              }, function (e) {\n                return _this53.requestMode(e, !1);\n              }), _this53._parser.setExecuteHandler(n.C0.BEL, function () {\n                return _this53.bell();\n              }), _this53._parser.setExecuteHandler(n.C0.LF, function () {\n                return _this53.lineFeed();\n              }), _this53._parser.setExecuteHandler(n.C0.VT, function () {\n                return _this53.lineFeed();\n              }), _this53._parser.setExecuteHandler(n.C0.FF, function () {\n                return _this53.lineFeed();\n              }), _this53._parser.setExecuteHandler(n.C0.CR, function () {\n                return _this53.carriageReturn();\n              }), _this53._parser.setExecuteHandler(n.C0.BS, function () {\n                return _this53.backspace();\n              }), _this53._parser.setExecuteHandler(n.C0.HT, function () {\n                return _this53.tab();\n              }), _this53._parser.setExecuteHandler(n.C0.SO, function () {\n                return _this53.shiftOut();\n              }), _this53._parser.setExecuteHandler(n.C0.SI, function () {\n                return _this53.shiftIn();\n              }), _this53._parser.setExecuteHandler(n.C1.IND, function () {\n                return _this53.index();\n              }), _this53._parser.setExecuteHandler(n.C1.NEL, function () {\n                return _this53.nextLine();\n              }), _this53._parser.setExecuteHandler(n.C1.HTS, function () {\n                return _this53.tabSet();\n              }), _this53._parser.registerOscHandler(0, new g.OscHandler(function (e) {\n                return _this53.setTitle(e), _this53.setIconName(e), !0;\n              })), _this53._parser.registerOscHandler(1, new g.OscHandler(function (e) {\n                return _this53.setIconName(e);\n              })), _this53._parser.registerOscHandler(2, new g.OscHandler(function (e) {\n                return _this53.setTitle(e);\n              })), _this53._parser.registerOscHandler(4, new g.OscHandler(function (e) {\n                return _this53.setOrReportIndexedColor(e);\n              })), _this53._parser.registerOscHandler(8, new g.OscHandler(function (e) {\n                return _this53.setHyperlink(e);\n              })), _this53._parser.registerOscHandler(10, new g.OscHandler(function (e) {\n                return _this53.setOrReportFgColor(e);\n              })), _this53._parser.registerOscHandler(11, new g.OscHandler(function (e) {\n                return _this53.setOrReportBgColor(e);\n              })), _this53._parser.registerOscHandler(12, new g.OscHandler(function (e) {\n                return _this53.setOrReportCursorColor(e);\n              })), _this53._parser.registerOscHandler(104, new g.OscHandler(function (e) {\n                return _this53.restoreIndexedColor(e);\n              })), _this53._parser.registerOscHandler(110, new g.OscHandler(function (e) {\n                return _this53.restoreFgColor(e);\n              })), _this53._parser.registerOscHandler(111, new g.OscHandler(function (e) {\n                return _this53.restoreBgColor(e);\n              })), _this53._parser.registerOscHandler(112, new g.OscHandler(function (e) {\n                return _this53.restoreCursorColor(e);\n              })), _this53._parser.registerEscHandler({\n                final: \"7\"\n              }, function () {\n                return _this53.saveCursor();\n              }), _this53._parser.registerEscHandler({\n                final: \"8\"\n              }, function () {\n                return _this53.restoreCursor();\n              }), _this53._parser.registerEscHandler({\n                final: \"D\"\n              }, function () {\n                return _this53.index();\n              }), _this53._parser.registerEscHandler({\n                final: \"E\"\n              }, function () {\n                return _this53.nextLine();\n              }), _this53._parser.registerEscHandler({\n                final: \"H\"\n              }, function () {\n                return _this53.tabSet();\n              }), _this53._parser.registerEscHandler({\n                final: \"M\"\n              }, function () {\n                return _this53.reverseIndex();\n              }), _this53._parser.registerEscHandler({\n                final: \"=\"\n              }, function () {\n                return _this53.keypadApplicationMode();\n              }), _this53._parser.registerEscHandler({\n                final: \">\"\n              }, function () {\n                return _this53.keypadNumericMode();\n              }), _this53._parser.registerEscHandler({\n                final: \"c\"\n              }, function () {\n                return _this53.fullReset();\n              }), _this53._parser.registerEscHandler({\n                final: \"n\"\n              }, function () {\n                return _this53.setgLevel(2);\n              }), _this53._parser.registerEscHandler({\n                final: \"o\"\n              }, function () {\n                return _this53.setgLevel(3);\n              }), _this53._parser.registerEscHandler({\n                final: \"|\"\n              }, function () {\n                return _this53.setgLevel(3);\n              }), _this53._parser.registerEscHandler({\n                final: \"}\"\n              }, function () {\n                return _this53.setgLevel(2);\n              }), _this53._parser.registerEscHandler({\n                final: \"~\"\n              }, function () {\n                return _this53.setgLevel(1);\n              }), _this53._parser.registerEscHandler({\n                intermediates: \"%\",\n                final: \"@\"\n              }, function () {\n                return _this53.selectDefaultCharset();\n              }), _this53._parser.registerEscHandler({\n                intermediates: \"%\",\n                final: \"G\"\n              }, function () {\n                return _this53.selectDefaultCharset();\n              });\n              var _loop4 = function _loop4(_e68) {\n                _this53._parser.registerEscHandler({\n                  intermediates: \"(\",\n                  final: _e68\n                }, function () {\n                  return _this53.selectCharset(\"(\" + _e68);\n                }), _this53._parser.registerEscHandler({\n                  intermediates: \")\",\n                  final: _e68\n                }, function () {\n                  return _this53.selectCharset(\")\" + _e68);\n                }), _this53._parser.registerEscHandler({\n                  intermediates: \"*\",\n                  final: _e68\n                }, function () {\n                  return _this53.selectCharset(\"*\" + _e68);\n                }), _this53._parser.registerEscHandler({\n                  intermediates: \"+\",\n                  final: _e68\n                }, function () {\n                  return _this53.selectCharset(\"+\" + _e68);\n                }), _this53._parser.registerEscHandler({\n                  intermediates: \"-\",\n                  final: _e68\n                }, function () {\n                  return _this53.selectCharset(\"-\" + _e68);\n                }), _this53._parser.registerEscHandler({\n                  intermediates: \".\",\n                  final: _e68\n                }, function () {\n                  return _this53.selectCharset(\".\" + _e68);\n                }), _this53._parser.registerEscHandler({\n                  intermediates: \"/\",\n                  final: _e68\n                }, function () {\n                  return _this53.selectCharset(\"/\" + _e68);\n                });\n              };\n              for (var _e68 in o.CHARSETS) {\n                _loop4(_e68);\n              }\n              _this53._parser.registerEscHandler({\n                intermediates: \"#\",\n                final: \"8\"\n              }, function () {\n                return _this53.screenAlignmentPattern();\n              }), _this53._parser.setErrorHandler(function (e) {\n                return _this53._logService.error(\"Parsing error: \", e), e;\n              }), _this53._parser.registerDcsHandler({\n                intermediates: \"$\",\n                final: \"q\"\n              }, new p.DcsHandler(function (e, t) {\n                return _this53.requestStatusString(e, t);\n              }));\n              return _this53;\n            }\n            _createClass(E, [{\n              key: \"getAttrData\",\n              value: function getAttrData() {\n                return this._curAttrData;\n              }\n            }, {\n              key: \"_preserveStack\",\n              value: function _preserveStack(e, t, i, s) {\n                this._parseStack.paused = !0, this._parseStack.cursorStartX = e, this._parseStack.cursorStartY = t, this._parseStack.decodedLength = i, this._parseStack.position = s;\n              }\n            }, {\n              key: \"_logSlowResolvingAsync\",\n              value: function _logSlowResolvingAsync(e) {\n                this._logService.logLevel <= v.LogLevelEnum.WARN && Promise.race([e, new Promise(function (e, t) {\n                  return setTimeout(function () {\n                    return t(\"#SLOW_TIMEOUT\");\n                  }, 5e3);\n                })]).catch(function (e) {\n                  if (\"#SLOW_TIMEOUT\" !== e) throw e;\n                  console.warn(\"async parser handler taking longer than 5000 ms\");\n                });\n              }\n            }, {\n              key: \"_getCurrentLinkId\",\n              value: function _getCurrentLinkId() {\n                return this._curAttrData.extended.urlId;\n              }\n            }, {\n              key: \"parse\",\n              value: function parse(e, t) {\n                var i,\n                  s = this._activeBuffer.x,\n                  r = this._activeBuffer.y,\n                  n = 0;\n                var o = this._parseStack.paused;\n                if (o) {\n                  if (i = this._parser.parse(this._parseBuffer, this._parseStack.decodedLength, t)) return this._logSlowResolvingAsync(i), i;\n                  s = this._parseStack.cursorStartX, r = this._parseStack.cursorStartY, this._parseStack.paused = !1, e.length > C && (n = this._parseStack.position + C);\n                }\n                if (this._logService.logLevel <= v.LogLevelEnum.DEBUG && this._logService.debug(\"parsing data\" + (\"string\" == typeof e ? \" \\\"\".concat(e, \"\\\"\") : \" \\\"\".concat(Array.prototype.map.call(e, function (e) {\n                  return String.fromCharCode(e);\n                }).join(\"\"), \"\\\"\")), \"string\" == typeof e ? e.split(\"\").map(function (e) {\n                  return e.charCodeAt(0);\n                }) : e), this._parseBuffer.length < e.length && this._parseBuffer.length < C && (this._parseBuffer = new Uint32Array(Math.min(e.length, C))), o || this._dirtyRowTracker.clearRange(), e.length > C) for (var _t43 = n; _t43 < e.length; _t43 += C) {\n                  var _n8 = _t43 + C < e.length ? _t43 + C : e.length,\n                    _o5 = \"string\" == typeof e ? this._stringDecoder.decode(e.substring(_t43, _n8), this._parseBuffer) : this._utf8Decoder.decode(e.subarray(_t43, _n8), this._parseBuffer);\n                  if (i = this._parser.parse(this._parseBuffer, _o5)) return this._preserveStack(s, r, _o5, _t43), this._logSlowResolvingAsync(i), i;\n                } else if (!o) {\n                  var _t44 = \"string\" == typeof e ? this._stringDecoder.decode(e, this._parseBuffer) : this._utf8Decoder.decode(e, this._parseBuffer);\n                  if (i = this._parser.parse(this._parseBuffer, _t44)) return this._preserveStack(s, r, _t44, 0), this._logSlowResolvingAsync(i), i;\n                }\n                this._activeBuffer.x === s && this._activeBuffer.y === r || this._onCursorMove.fire(), this._onRequestRefreshRows.fire(this._dirtyRowTracker.start, this._dirtyRowTracker.end);\n              }\n            }, {\n              key: \"print\",\n              value: function print(e, t, i) {\n                var s, r;\n                var n = this._charsetService.charset,\n                  o = this._optionsService.rawOptions.screenReaderMode,\n                  a = this._bufferService.cols,\n                  h = this._coreService.decPrivateModes.wraparound,\n                  l = this._coreService.modes.insertMode,\n                  d = this._curAttrData;\n                var u = this._activeBuffer.lines.get(this._activeBuffer.ybase + this._activeBuffer.y);\n                this._dirtyRowTracker.markDirty(this._activeBuffer.y), this._activeBuffer.x && i - t > 0 && 2 === u.getWidth(this._activeBuffer.x - 1) && u.setCellFromCodePoint(this._activeBuffer.x - 1, 0, 1, d.fg, d.bg, d.extended);\n                for (var _f2 = t; _f2 < i; ++_f2) {\n                  if (s = e[_f2], r = this._unicodeService.wcwidth(s), s < 127 && n) {\n                    var _e69 = n[String.fromCharCode(s)];\n                    _e69 && (s = _e69.charCodeAt(0));\n                  }\n                  if (o && this._onA11yChar.fire((0, c.stringFromCodePoint)(s)), this._getCurrentLinkId() && this._oscLinkService.addLineToLink(this._getCurrentLinkId(), this._activeBuffer.ybase + this._activeBuffer.y), r || !this._activeBuffer.x) {\n                    if (this._activeBuffer.x + r - 1 >= a) if (h) {\n                      for (; this._activeBuffer.x < a;) u.setCellFromCodePoint(this._activeBuffer.x++, 0, 1, d.fg, d.bg, d.extended);\n                      this._activeBuffer.x = 0, this._activeBuffer.y++, this._activeBuffer.y === this._activeBuffer.scrollBottom + 1 ? (this._activeBuffer.y--, this._bufferService.scroll(this._eraseAttrData(), !0)) : (this._activeBuffer.y >= this._bufferService.rows && (this._activeBuffer.y = this._bufferService.rows - 1), this._activeBuffer.lines.get(this._activeBuffer.ybase + this._activeBuffer.y).isWrapped = !0), u = this._activeBuffer.lines.get(this._activeBuffer.ybase + this._activeBuffer.y);\n                    } else if (this._activeBuffer.x = a - 1, 2 === r) continue;\n                    if (l && (u.insertCells(this._activeBuffer.x, r, this._activeBuffer.getNullCell(d), d), 2 === u.getWidth(a - 1) && u.setCellFromCodePoint(a - 1, _.NULL_CELL_CODE, _.NULL_CELL_WIDTH, d.fg, d.bg, d.extended)), u.setCellFromCodePoint(this._activeBuffer.x++, s, r, d.fg, d.bg, d.extended), r > 0) for (; --r;) u.setCellFromCodePoint(this._activeBuffer.x++, 0, 0, d.fg, d.bg, d.extended);\n                  } else u.getWidth(this._activeBuffer.x - 1) ? u.addCodepointToCell(this._activeBuffer.x - 1, s) : u.addCodepointToCell(this._activeBuffer.x - 2, s);\n                }\n                i - t > 0 && (u.loadCell(this._activeBuffer.x - 1, this._workCell), 2 === this._workCell.getWidth() || this._workCell.getCode() > 65535 ? this._parser.precedingCodepoint = 0 : this._workCell.isCombined() ? this._parser.precedingCodepoint = this._workCell.getChars().charCodeAt(0) : this._parser.precedingCodepoint = this._workCell.content), this._activeBuffer.x < a && i - t > 0 && 0 === u.getWidth(this._activeBuffer.x) && !u.hasContent(this._activeBuffer.x) && u.setCellFromCodePoint(this._activeBuffer.x, 0, 1, d.fg, d.bg, d.extended), this._dirtyRowTracker.markDirty(this._activeBuffer.y);\n              }\n            }, {\n              key: \"registerCsiHandler\",\n              value: function registerCsiHandler(e, t) {\n                var _this54 = this;\n                return \"t\" !== e.final || e.prefix || e.intermediates ? this._parser.registerCsiHandler(e, t) : this._parser.registerCsiHandler(e, function (e) {\n                  return !b(e.params[0], _this54._optionsService.rawOptions.windowOptions) || t(e);\n                });\n              }\n            }, {\n              key: \"registerDcsHandler\",\n              value: function registerDcsHandler(e, t) {\n                return this._parser.registerDcsHandler(e, new p.DcsHandler(t));\n              }\n            }, {\n              key: \"registerEscHandler\",\n              value: function registerEscHandler(e, t) {\n                return this._parser.registerEscHandler(e, t);\n              }\n            }, {\n              key: \"registerOscHandler\",\n              value: function registerOscHandler(e, t) {\n                return this._parser.registerOscHandler(e, new g.OscHandler(t));\n              }\n            }, {\n              key: \"bell\",\n              value: function bell() {\n                return this._onRequestBell.fire(), !0;\n              }\n            }, {\n              key: \"lineFeed\",\n              value: function lineFeed() {\n                return this._dirtyRowTracker.markDirty(this._activeBuffer.y), this._optionsService.rawOptions.convertEol && (this._activeBuffer.x = 0), this._activeBuffer.y++, this._activeBuffer.y === this._activeBuffer.scrollBottom + 1 ? (this._activeBuffer.y--, this._bufferService.scroll(this._eraseAttrData())) : this._activeBuffer.y >= this._bufferService.rows && (this._activeBuffer.y = this._bufferService.rows - 1), this._activeBuffer.x >= this._bufferService.cols && this._activeBuffer.x--, this._dirtyRowTracker.markDirty(this._activeBuffer.y), this._onLineFeed.fire(), !0;\n              }\n            }, {\n              key: \"carriageReturn\",\n              value: function carriageReturn() {\n                return this._activeBuffer.x = 0, !0;\n              }\n            }, {\n              key: \"backspace\",\n              value: function backspace() {\n                var e;\n                if (!this._coreService.decPrivateModes.reverseWraparound) return this._restrictCursor(), this._activeBuffer.x > 0 && this._activeBuffer.x--, !0;\n                if (this._restrictCursor(this._bufferService.cols), this._activeBuffer.x > 0) this._activeBuffer.x--;else if (0 === this._activeBuffer.x && this._activeBuffer.y > this._activeBuffer.scrollTop && this._activeBuffer.y <= this._activeBuffer.scrollBottom && (null === (e = this._activeBuffer.lines.get(this._activeBuffer.ybase + this._activeBuffer.y)) || void 0 === e ? void 0 : e.isWrapped)) {\n                  this._activeBuffer.lines.get(this._activeBuffer.ybase + this._activeBuffer.y).isWrapped = !1, this._activeBuffer.y--, this._activeBuffer.x = this._bufferService.cols - 1;\n                  var _e70 = this._activeBuffer.lines.get(this._activeBuffer.ybase + this._activeBuffer.y);\n                  _e70.hasWidth(this._activeBuffer.x) && !_e70.hasContent(this._activeBuffer.x) && this._activeBuffer.x--;\n                }\n                return this._restrictCursor(), !0;\n              }\n            }, {\n              key: \"tab\",\n              value: function tab() {\n                if (this._activeBuffer.x >= this._bufferService.cols) return !0;\n                var e = this._activeBuffer.x;\n                return this._activeBuffer.x = this._activeBuffer.nextStop(), this._optionsService.rawOptions.screenReaderMode && this._onA11yTab.fire(this._activeBuffer.x - e), !0;\n              }\n            }, {\n              key: \"shiftOut\",\n              value: function shiftOut() {\n                return this._charsetService.setgLevel(1), !0;\n              }\n            }, {\n              key: \"shiftIn\",\n              value: function shiftIn() {\n                return this._charsetService.setgLevel(0), !0;\n              }\n            }, {\n              key: \"_restrictCursor\",\n              value: function _restrictCursor() {\n                var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this._bufferService.cols - 1;\n                this._activeBuffer.x = Math.min(e, Math.max(0, this._activeBuffer.x)), this._activeBuffer.y = this._coreService.decPrivateModes.origin ? Math.min(this._activeBuffer.scrollBottom, Math.max(this._activeBuffer.scrollTop, this._activeBuffer.y)) : Math.min(this._bufferService.rows - 1, Math.max(0, this._activeBuffer.y)), this._dirtyRowTracker.markDirty(this._activeBuffer.y);\n              }\n            }, {\n              key: \"_setCursor\",\n              value: function _setCursor(e, t) {\n                this._dirtyRowTracker.markDirty(this._activeBuffer.y), this._coreService.decPrivateModes.origin ? (this._activeBuffer.x = e, this._activeBuffer.y = this._activeBuffer.scrollTop + t) : (this._activeBuffer.x = e, this._activeBuffer.y = t), this._restrictCursor(), this._dirtyRowTracker.markDirty(this._activeBuffer.y);\n              }\n            }, {\n              key: \"_moveCursor\",\n              value: function _moveCursor(e, t) {\n                this._restrictCursor(), this._setCursor(this._activeBuffer.x + e, this._activeBuffer.y + t);\n              }\n            }, {\n              key: \"cursorUp\",\n              value: function cursorUp(e) {\n                var t = this._activeBuffer.y - this._activeBuffer.scrollTop;\n                return t >= 0 ? this._moveCursor(0, -Math.min(t, e.params[0] || 1)) : this._moveCursor(0, -(e.params[0] || 1)), !0;\n              }\n            }, {\n              key: \"cursorDown\",\n              value: function cursorDown(e) {\n                var t = this._activeBuffer.scrollBottom - this._activeBuffer.y;\n                return t >= 0 ? this._moveCursor(0, Math.min(t, e.params[0] || 1)) : this._moveCursor(0, e.params[0] || 1), !0;\n              }\n            }, {\n              key: \"cursorForward\",\n              value: function cursorForward(e) {\n                return this._moveCursor(e.params[0] || 1, 0), !0;\n              }\n            }, {\n              key: \"cursorBackward\",\n              value: function cursorBackward(e) {\n                return this._moveCursor(-(e.params[0] || 1), 0), !0;\n              }\n            }, {\n              key: \"cursorNextLine\",\n              value: function cursorNextLine(e) {\n                return this.cursorDown(e), this._activeBuffer.x = 0, !0;\n              }\n            }, {\n              key: \"cursorPrecedingLine\",\n              value: function cursorPrecedingLine(e) {\n                return this.cursorUp(e), this._activeBuffer.x = 0, !0;\n              }\n            }, {\n              key: \"cursorCharAbsolute\",\n              value: function cursorCharAbsolute(e) {\n                return this._setCursor((e.params[0] || 1) - 1, this._activeBuffer.y), !0;\n              }\n            }, {\n              key: \"cursorPosition\",\n              value: function cursorPosition(e) {\n                return this._setCursor(e.length >= 2 ? (e.params[1] || 1) - 1 : 0, (e.params[0] || 1) - 1), !0;\n              }\n            }, {\n              key: \"charPosAbsolute\",\n              value: function charPosAbsolute(e) {\n                return this._setCursor((e.params[0] || 1) - 1, this._activeBuffer.y), !0;\n              }\n            }, {\n              key: \"hPositionRelative\",\n              value: function hPositionRelative(e) {\n                return this._moveCursor(e.params[0] || 1, 0), !0;\n              }\n            }, {\n              key: \"linePosAbsolute\",\n              value: function linePosAbsolute(e) {\n                return this._setCursor(this._activeBuffer.x, (e.params[0] || 1) - 1), !0;\n              }\n            }, {\n              key: \"vPositionRelative\",\n              value: function vPositionRelative(e) {\n                return this._moveCursor(0, e.params[0] || 1), !0;\n              }\n            }, {\n              key: \"hVPosition\",\n              value: function hVPosition(e) {\n                return this.cursorPosition(e), !0;\n              }\n            }, {\n              key: \"tabClear\",\n              value: function tabClear(e) {\n                var t = e.params[0];\n                return 0 === t ? delete this._activeBuffer.tabs[this._activeBuffer.x] : 3 === t && (this._activeBuffer.tabs = {}), !0;\n              }\n            }, {\n              key: \"cursorForwardTab\",\n              value: function cursorForwardTab(e) {\n                if (this._activeBuffer.x >= this._bufferService.cols) return !0;\n                var t = e.params[0] || 1;\n                for (; t--;) this._activeBuffer.x = this._activeBuffer.nextStop();\n                return !0;\n              }\n            }, {\n              key: \"cursorBackwardTab\",\n              value: function cursorBackwardTab(e) {\n                if (this._activeBuffer.x >= this._bufferService.cols) return !0;\n                var t = e.params[0] || 1;\n                for (; t--;) this._activeBuffer.x = this._activeBuffer.prevStop();\n                return !0;\n              }\n            }, {\n              key: \"selectProtected\",\n              value: function selectProtected(e) {\n                var t = e.params[0];\n                return 1 === t && (this._curAttrData.bg |= 536870912), 2 !== t && 0 !== t || (this._curAttrData.bg &= -536870913), !0;\n              }\n            }, {\n              key: \"_eraseInBufferLine\",\n              value: function _eraseInBufferLine(e, t, i) {\n                var s = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : !1;\n                var r = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : !1;\n                var n = this._activeBuffer.lines.get(this._activeBuffer.ybase + e);\n                n.replaceCells(t, i, this._activeBuffer.getNullCell(this._eraseAttrData()), this._eraseAttrData(), r), s && (n.isWrapped = !1);\n              }\n            }, {\n              key: \"_resetBufferLine\",\n              value: function _resetBufferLine(e) {\n                var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;\n                var i = this._activeBuffer.lines.get(this._activeBuffer.ybase + e);\n                i.fill(this._activeBuffer.getNullCell(this._eraseAttrData()), t), this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase + e), i.isWrapped = !1;\n              }\n            }, {\n              key: \"eraseInDisplay\",\n              value: function eraseInDisplay(e) {\n                var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;\n                var i;\n                switch (this._restrictCursor(this._bufferService.cols), e.params[0]) {\n                  case 0:\n                    for (i = this._activeBuffer.y, this._dirtyRowTracker.markDirty(i), this._eraseInBufferLine(i++, this._activeBuffer.x, this._bufferService.cols, 0 === this._activeBuffer.x, t); i < this._bufferService.rows; i++) this._resetBufferLine(i, t);\n                    this._dirtyRowTracker.markDirty(i);\n                    break;\n                  case 1:\n                    for (i = this._activeBuffer.y, this._dirtyRowTracker.markDirty(i), this._eraseInBufferLine(i, 0, this._activeBuffer.x + 1, !0, t), this._activeBuffer.x + 1 >= this._bufferService.cols && (this._activeBuffer.lines.get(i + 1).isWrapped = !1); i--;) this._resetBufferLine(i, t);\n                    this._dirtyRowTracker.markDirty(0);\n                    break;\n                  case 2:\n                    for (i = this._bufferService.rows, this._dirtyRowTracker.markDirty(i - 1); i--;) this._resetBufferLine(i, t);\n                    this._dirtyRowTracker.markDirty(0);\n                    break;\n                  case 3:\n                    var _e71 = this._activeBuffer.lines.length - this._bufferService.rows;\n                    _e71 > 0 && (this._activeBuffer.lines.trimStart(_e71), this._activeBuffer.ybase = Math.max(this._activeBuffer.ybase - _e71, 0), this._activeBuffer.ydisp = Math.max(this._activeBuffer.ydisp - _e71, 0), this._onScroll.fire(0));\n                }\n                return !0;\n              }\n            }, {\n              key: \"eraseInLine\",\n              value: function eraseInLine(e) {\n                var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;\n                switch (this._restrictCursor(this._bufferService.cols), e.params[0]) {\n                  case 0:\n                    this._eraseInBufferLine(this._activeBuffer.y, this._activeBuffer.x, this._bufferService.cols, 0 === this._activeBuffer.x, t);\n                    break;\n                  case 1:\n                    this._eraseInBufferLine(this._activeBuffer.y, 0, this._activeBuffer.x + 1, !1, t);\n                    break;\n                  case 2:\n                    this._eraseInBufferLine(this._activeBuffer.y, 0, this._bufferService.cols, !0, t);\n                }\n                return this._dirtyRowTracker.markDirty(this._activeBuffer.y), !0;\n              }\n            }, {\n              key: \"insertLines\",\n              value: function insertLines(e) {\n                this._restrictCursor();\n                var t = e.params[0] || 1;\n                if (this._activeBuffer.y > this._activeBuffer.scrollBottom || this._activeBuffer.y < this._activeBuffer.scrollTop) return !0;\n                var i = this._activeBuffer.ybase + this._activeBuffer.y,\n                  s = this._bufferService.rows - 1 - this._activeBuffer.scrollBottom,\n                  r = this._bufferService.rows - 1 + this._activeBuffer.ybase - s + 1;\n                for (; t--;) this._activeBuffer.lines.splice(r - 1, 1), this._activeBuffer.lines.splice(i, 0, this._activeBuffer.getBlankLine(this._eraseAttrData()));\n                return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y, this._activeBuffer.scrollBottom), this._activeBuffer.x = 0, !0;\n              }\n            }, {\n              key: \"deleteLines\",\n              value: function deleteLines(e) {\n                this._restrictCursor();\n                var t = e.params[0] || 1;\n                if (this._activeBuffer.y > this._activeBuffer.scrollBottom || this._activeBuffer.y < this._activeBuffer.scrollTop) return !0;\n                var i = this._activeBuffer.ybase + this._activeBuffer.y;\n                var s;\n                for (s = this._bufferService.rows - 1 - this._activeBuffer.scrollBottom, s = this._bufferService.rows - 1 + this._activeBuffer.ybase - s; t--;) this._activeBuffer.lines.splice(i, 1), this._activeBuffer.lines.splice(s, 0, this._activeBuffer.getBlankLine(this._eraseAttrData()));\n                return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y, this._activeBuffer.scrollBottom), this._activeBuffer.x = 0, !0;\n              }\n            }, {\n              key: \"insertChars\",\n              value: function insertChars(e) {\n                this._restrictCursor();\n                var t = this._activeBuffer.lines.get(this._activeBuffer.ybase + this._activeBuffer.y);\n                return t && (t.insertCells(this._activeBuffer.x, e.params[0] || 1, this._activeBuffer.getNullCell(this._eraseAttrData()), this._eraseAttrData()), this._dirtyRowTracker.markDirty(this._activeBuffer.y)), !0;\n              }\n            }, {\n              key: \"deleteChars\",\n              value: function deleteChars(e) {\n                this._restrictCursor();\n                var t = this._activeBuffer.lines.get(this._activeBuffer.ybase + this._activeBuffer.y);\n                return t && (t.deleteCells(this._activeBuffer.x, e.params[0] || 1, this._activeBuffer.getNullCell(this._eraseAttrData()), this._eraseAttrData()), this._dirtyRowTracker.markDirty(this._activeBuffer.y)), !0;\n              }\n            }, {\n              key: \"scrollUp\",\n              value: function scrollUp(e) {\n                var t = e.params[0] || 1;\n                for (; t--;) this._activeBuffer.lines.splice(this._activeBuffer.ybase + this._activeBuffer.scrollTop, 1), this._activeBuffer.lines.splice(this._activeBuffer.ybase + this._activeBuffer.scrollBottom, 0, this._activeBuffer.getBlankLine(this._eraseAttrData()));\n                return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop, this._activeBuffer.scrollBottom), !0;\n              }\n            }, {\n              key: \"scrollDown\",\n              value: function scrollDown(e) {\n                var t = e.params[0] || 1;\n                for (; t--;) this._activeBuffer.lines.splice(this._activeBuffer.ybase + this._activeBuffer.scrollBottom, 1), this._activeBuffer.lines.splice(this._activeBuffer.ybase + this._activeBuffer.scrollTop, 0, this._activeBuffer.getBlankLine(l.DEFAULT_ATTR_DATA));\n                return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop, this._activeBuffer.scrollBottom), !0;\n              }\n            }, {\n              key: \"scrollLeft\",\n              value: function scrollLeft(e) {\n                if (this._activeBuffer.y > this._activeBuffer.scrollBottom || this._activeBuffer.y < this._activeBuffer.scrollTop) return !0;\n                var t = e.params[0] || 1;\n                for (var _e72 = this._activeBuffer.scrollTop; _e72 <= this._activeBuffer.scrollBottom; ++_e72) {\n                  var _i23 = this._activeBuffer.lines.get(this._activeBuffer.ybase + _e72);\n                  _i23.deleteCells(0, t, this._activeBuffer.getNullCell(this._eraseAttrData()), this._eraseAttrData()), _i23.isWrapped = !1;\n                }\n                return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop, this._activeBuffer.scrollBottom), !0;\n              }\n            }, {\n              key: \"scrollRight\",\n              value: function scrollRight(e) {\n                if (this._activeBuffer.y > this._activeBuffer.scrollBottom || this._activeBuffer.y < this._activeBuffer.scrollTop) return !0;\n                var t = e.params[0] || 1;\n                for (var _e73 = this._activeBuffer.scrollTop; _e73 <= this._activeBuffer.scrollBottom; ++_e73) {\n                  var _i24 = this._activeBuffer.lines.get(this._activeBuffer.ybase + _e73);\n                  _i24.insertCells(0, t, this._activeBuffer.getNullCell(this._eraseAttrData()), this._eraseAttrData()), _i24.isWrapped = !1;\n                }\n                return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop, this._activeBuffer.scrollBottom), !0;\n              }\n            }, {\n              key: \"insertColumns\",\n              value: function insertColumns(e) {\n                if (this._activeBuffer.y > this._activeBuffer.scrollBottom || this._activeBuffer.y < this._activeBuffer.scrollTop) return !0;\n                var t = e.params[0] || 1;\n                for (var _e74 = this._activeBuffer.scrollTop; _e74 <= this._activeBuffer.scrollBottom; ++_e74) {\n                  var _i25 = this._activeBuffer.lines.get(this._activeBuffer.ybase + _e74);\n                  _i25.insertCells(this._activeBuffer.x, t, this._activeBuffer.getNullCell(this._eraseAttrData()), this._eraseAttrData()), _i25.isWrapped = !1;\n                }\n                return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop, this._activeBuffer.scrollBottom), !0;\n              }\n            }, {\n              key: \"deleteColumns\",\n              value: function deleteColumns(e) {\n                if (this._activeBuffer.y > this._activeBuffer.scrollBottom || this._activeBuffer.y < this._activeBuffer.scrollTop) return !0;\n                var t = e.params[0] || 1;\n                for (var _e75 = this._activeBuffer.scrollTop; _e75 <= this._activeBuffer.scrollBottom; ++_e75) {\n                  var _i26 = this._activeBuffer.lines.get(this._activeBuffer.ybase + _e75);\n                  _i26.deleteCells(this._activeBuffer.x, t, this._activeBuffer.getNullCell(this._eraseAttrData()), this._eraseAttrData()), _i26.isWrapped = !1;\n                }\n                return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop, this._activeBuffer.scrollBottom), !0;\n              }\n            }, {\n              key: \"eraseChars\",\n              value: function eraseChars(e) {\n                this._restrictCursor();\n                var t = this._activeBuffer.lines.get(this._activeBuffer.ybase + this._activeBuffer.y);\n                return t && (t.replaceCells(this._activeBuffer.x, this._activeBuffer.x + (e.params[0] || 1), this._activeBuffer.getNullCell(this._eraseAttrData()), this._eraseAttrData()), this._dirtyRowTracker.markDirty(this._activeBuffer.y)), !0;\n              }\n            }, {\n              key: \"repeatPrecedingCharacter\",\n              value: function repeatPrecedingCharacter(e) {\n                if (!this._parser.precedingCodepoint) return !0;\n                var t = e.params[0] || 1,\n                  i = new Uint32Array(t);\n                for (var _e76 = 0; _e76 < t; ++_e76) i[_e76] = this._parser.precedingCodepoint;\n                return this.print(i, 0, i.length), !0;\n              }\n            }, {\n              key: \"sendDeviceAttributesPrimary\",\n              value: function sendDeviceAttributesPrimary(e) {\n                return e.params[0] > 0 || (this._is(\"xterm\") || this._is(\"rxvt-unicode\") || this._is(\"screen\") ? this._coreService.triggerDataEvent(n.C0.ESC + \"[?1;2c\") : this._is(\"linux\") && this._coreService.triggerDataEvent(n.C0.ESC + \"[?6c\")), !0;\n              }\n            }, {\n              key: \"sendDeviceAttributesSecondary\",\n              value: function sendDeviceAttributesSecondary(e) {\n                return e.params[0] > 0 || (this._is(\"xterm\") ? this._coreService.triggerDataEvent(n.C0.ESC + \"[>0;276;0c\") : this._is(\"rxvt-unicode\") ? this._coreService.triggerDataEvent(n.C0.ESC + \"[>85;95;0c\") : this._is(\"linux\") ? this._coreService.triggerDataEvent(e.params[0] + \"c\") : this._is(\"screen\") && this._coreService.triggerDataEvent(n.C0.ESC + \"[>83;40003;0c\")), !0;\n              }\n            }, {\n              key: \"_is\",\n              value: function _is(e) {\n                return 0 === (this._optionsService.rawOptions.termName + \"\").indexOf(e);\n              }\n            }, {\n              key: \"setMode\",\n              value: function setMode(e) {\n                for (var _t45 = 0; _t45 < e.length; _t45++) switch (e.params[_t45]) {\n                  case 4:\n                    this._coreService.modes.insertMode = !0;\n                    break;\n                  case 20:\n                    this._optionsService.options.convertEol = !0;\n                }\n                return !0;\n              }\n            }, {\n              key: \"setModePrivate\",\n              value: function setModePrivate(e) {\n                for (var _t46 = 0; _t46 < e.length; _t46++) switch (e.params[_t46]) {\n                  case 1:\n                    this._coreService.decPrivateModes.applicationCursorKeys = !0;\n                    break;\n                  case 2:\n                    this._charsetService.setgCharset(0, o.DEFAULT_CHARSET), this._charsetService.setgCharset(1, o.DEFAULT_CHARSET), this._charsetService.setgCharset(2, o.DEFAULT_CHARSET), this._charsetService.setgCharset(3, o.DEFAULT_CHARSET);\n                    break;\n                  case 3:\n                    this._optionsService.rawOptions.windowOptions.setWinLines && (this._bufferService.resize(132, this._bufferService.rows), this._onRequestReset.fire());\n                    break;\n                  case 6:\n                    this._coreService.decPrivateModes.origin = !0, this._setCursor(0, 0);\n                    break;\n                  case 7:\n                    this._coreService.decPrivateModes.wraparound = !0;\n                    break;\n                  case 12:\n                    this._optionsService.options.cursorBlink = !0;\n                    break;\n                  case 45:\n                    this._coreService.decPrivateModes.reverseWraparound = !0;\n                    break;\n                  case 66:\n                    this._logService.debug(\"Serial port requested application keypad.\"), this._coreService.decPrivateModes.applicationKeypad = !0, this._onRequestSyncScrollBar.fire();\n                    break;\n                  case 9:\n                    this._coreMouseService.activeProtocol = \"X10\";\n                    break;\n                  case 1e3:\n                    this._coreMouseService.activeProtocol = \"VT200\";\n                    break;\n                  case 1002:\n                    this._coreMouseService.activeProtocol = \"DRAG\";\n                    break;\n                  case 1003:\n                    this._coreMouseService.activeProtocol = \"ANY\";\n                    break;\n                  case 1004:\n                    this._coreService.decPrivateModes.sendFocus = !0, this._onRequestSendFocus.fire();\n                    break;\n                  case 1005:\n                    this._logService.debug(\"DECSET 1005 not supported (see #2507)\");\n                    break;\n                  case 1006:\n                    this._coreMouseService.activeEncoding = \"SGR\";\n                    break;\n                  case 1015:\n                    this._logService.debug(\"DECSET 1015 not supported (see #2507)\");\n                    break;\n                  case 1016:\n                    this._coreMouseService.activeEncoding = \"SGR_PIXELS\";\n                    break;\n                  case 25:\n                    this._coreService.isCursorHidden = !1;\n                    break;\n                  case 1048:\n                    this.saveCursor();\n                    break;\n                  case 1049:\n                    this.saveCursor();\n                  case 47:\n                  case 1047:\n                    this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()), this._coreService.isCursorInitialized = !0, this._onRequestRefreshRows.fire(0, this._bufferService.rows - 1), this._onRequestSyncScrollBar.fire();\n                    break;\n                  case 2004:\n                    this._coreService.decPrivateModes.bracketedPasteMode = !0;\n                }\n                return !0;\n              }\n            }, {\n              key: \"resetMode\",\n              value: function resetMode(e) {\n                for (var _t47 = 0; _t47 < e.length; _t47++) switch (e.params[_t47]) {\n                  case 4:\n                    this._coreService.modes.insertMode = !1;\n                    break;\n                  case 20:\n                    this._optionsService.options.convertEol = !1;\n                }\n                return !0;\n              }\n            }, {\n              key: \"resetModePrivate\",\n              value: function resetModePrivate(e) {\n                for (var _t48 = 0; _t48 < e.length; _t48++) switch (e.params[_t48]) {\n                  case 1:\n                    this._coreService.decPrivateModes.applicationCursorKeys = !1;\n                    break;\n                  case 3:\n                    this._optionsService.rawOptions.windowOptions.setWinLines && (this._bufferService.resize(80, this._bufferService.rows), this._onRequestReset.fire());\n                    break;\n                  case 6:\n                    this._coreService.decPrivateModes.origin = !1, this._setCursor(0, 0);\n                    break;\n                  case 7:\n                    this._coreService.decPrivateModes.wraparound = !1;\n                    break;\n                  case 12:\n                    this._optionsService.options.cursorBlink = !1;\n                    break;\n                  case 45:\n                    this._coreService.decPrivateModes.reverseWraparound = !1;\n                    break;\n                  case 66:\n                    this._logService.debug(\"Switching back to normal keypad.\"), this._coreService.decPrivateModes.applicationKeypad = !1, this._onRequestSyncScrollBar.fire();\n                    break;\n                  case 9:\n                  case 1e3:\n                  case 1002:\n                  case 1003:\n                    this._coreMouseService.activeProtocol = \"NONE\";\n                    break;\n                  case 1004:\n                    this._coreService.decPrivateModes.sendFocus = !1;\n                    break;\n                  case 1005:\n                    this._logService.debug(\"DECRST 1005 not supported (see #2507)\");\n                    break;\n                  case 1006:\n                  case 1016:\n                    this._coreMouseService.activeEncoding = \"DEFAULT\";\n                    break;\n                  case 1015:\n                    this._logService.debug(\"DECRST 1015 not supported (see #2507)\");\n                    break;\n                  case 25:\n                    this._coreService.isCursorHidden = !0;\n                    break;\n                  case 1048:\n                    this.restoreCursor();\n                    break;\n                  case 1049:\n                  case 47:\n                  case 1047:\n                    this._bufferService.buffers.activateNormalBuffer(), 1049 === e.params[_t48] && this.restoreCursor(), this._coreService.isCursorInitialized = !0, this._onRequestRefreshRows.fire(0, this._bufferService.rows - 1), this._onRequestSyncScrollBar.fire();\n                    break;\n                  case 2004:\n                    this._coreService.decPrivateModes.bracketedPasteMode = !1;\n                }\n                return !0;\n              }\n            }, {\n              key: \"requestMode\",\n              value: function requestMode(e, t) {\n                var i = this._coreService.decPrivateModes,\n                  _this$_coreMouseServi = this._coreMouseService,\n                  s = _this$_coreMouseServi.activeProtocol,\n                  r = _this$_coreMouseServi.activeEncoding,\n                  o = this._coreService,\n                  _this$_bufferService = this._bufferService,\n                  a = _this$_bufferService.buffers,\n                  h = _this$_bufferService.cols,\n                  c = a.active,\n                  l = a.alt,\n                  d = this._optionsService.rawOptions,\n                  _ = function _(e) {\n                    return e ? 1 : 2;\n                  },\n                  u = e.params[0];\n                return f = u, v = t ? 2 === u ? 3 : 4 === u ? _(o.modes.insertMode) : 12 === u ? 4 : 20 === u ? _(d.convertEol) : 0 : 1 === u ? _(i.applicationCursorKeys) : 3 === u ? d.windowOptions.setWinLines ? 80 === h ? 2 : 132 === h ? 1 : 0 : 0 : 6 === u ? _(i.origin) : 7 === u ? _(i.wraparound) : 8 === u ? 3 : 9 === u ? _(\"X10\" === s) : 12 === u ? _(d.cursorBlink) : 25 === u ? _(!o.isCursorHidden) : 45 === u ? _(i.reverseWraparound) : 66 === u ? _(i.applicationKeypad) : 1e3 === u ? _(\"VT200\" === s) : 1002 === u ? _(\"DRAG\" === s) : 1003 === u ? _(\"ANY\" === s) : 1004 === u ? _(i.sendFocus) : 1005 === u ? 4 : 1006 === u ? _(\"SGR\" === r) : 1015 === u ? 4 : 1016 === u ? _(\"SGR_PIXELS\" === r) : 1048 === u ? 1 : 47 === u || 1047 === u || 1049 === u ? _(c === l) : 2004 === u ? _(i.bracketedPasteMode) : 0, o.triggerDataEvent(\"\".concat(n.C0.ESC, \"[\").concat(t ? \"\" : \"?\").concat(f, \";\").concat(v, \"$y\")), !0;\n                var f, v;\n              }\n            }, {\n              key: \"_updateAttrColor\",\n              value: function _updateAttrColor(e, t, i, s, r) {\n                return 2 === t ? (e |= 50331648, e &= -16777216, e |= f.AttributeData.fromColorRGB([i, s, r])) : 5 === t && (e &= -50331904, e |= 33554432 | 255 & i), e;\n              }\n            }, {\n              key: \"_extractColor\",\n              value: function _extractColor(e, t, i) {\n                var s = [0, 0, -1, 0, 0, 0];\n                var r = 0,\n                  n = 0;\n                do {\n                  if (s[n + r] = e.params[t + n], e.hasSubParams(t + n)) {\n                    var _i27 = e.getSubParams(t + n);\n                    var _o6 = 0;\n                    do {\n                      5 === s[1] && (r = 1), s[n + _o6 + 1 + r] = _i27[_o6];\n                    } while (++_o6 < _i27.length && _o6 + n + 1 + r < s.length);\n                    break;\n                  }\n                  if (5 === s[1] && n + r >= 2 || 2 === s[1] && n + r >= 5) break;\n                  s[1] && (r = 1);\n                } while (++n + t < e.length && n + r < s.length);\n                for (var _e77 = 2; _e77 < s.length; ++_e77) -1 === s[_e77] && (s[_e77] = 0);\n                switch (s[0]) {\n                  case 38:\n                    i.fg = this._updateAttrColor(i.fg, s[1], s[3], s[4], s[5]);\n                    break;\n                  case 48:\n                    i.bg = this._updateAttrColor(i.bg, s[1], s[3], s[4], s[5]);\n                    break;\n                  case 58:\n                    i.extended = i.extended.clone(), i.extended.underlineColor = this._updateAttrColor(i.extended.underlineColor, s[1], s[3], s[4], s[5]);\n                }\n                return n;\n              }\n            }, {\n              key: \"_processUnderline\",\n              value: function _processUnderline(e, t) {\n                t.extended = t.extended.clone(), (!~e || e > 5) && (e = 1), t.extended.underlineStyle = e, t.fg |= 268435456, 0 === e && (t.fg &= -268435457), t.updateExtended();\n              }\n            }, {\n              key: \"_processSGR0\",\n              value: function _processSGR0(e) {\n                e.fg = l.DEFAULT_ATTR_DATA.fg, e.bg = l.DEFAULT_ATTR_DATA.bg, e.extended = e.extended.clone(), e.extended.underlineStyle = 0, e.extended.underlineColor &= -67108864, e.updateExtended();\n              }\n            }, {\n              key: \"charAttributes\",\n              value: function charAttributes(e) {\n                if (1 === e.length && 0 === e.params[0]) return this._processSGR0(this._curAttrData), !0;\n                var t = e.length;\n                var i;\n                var s = this._curAttrData;\n                for (var _r13 = 0; _r13 < t; _r13++) i = e.params[_r13], i >= 30 && i <= 37 ? (s.fg &= -50331904, s.fg |= 16777216 | i - 30) : i >= 40 && i <= 47 ? (s.bg &= -50331904, s.bg |= 16777216 | i - 40) : i >= 90 && i <= 97 ? (s.fg &= -50331904, s.fg |= 16777224 | i - 90) : i >= 100 && i <= 107 ? (s.bg &= -50331904, s.bg |= 16777224 | i - 100) : 0 === i ? this._processSGR0(s) : 1 === i ? s.fg |= 134217728 : 3 === i ? s.bg |= 67108864 : 4 === i ? (s.fg |= 268435456, this._processUnderline(e.hasSubParams(_r13) ? e.getSubParams(_r13)[0] : 1, s)) : 5 === i ? s.fg |= 536870912 : 7 === i ? s.fg |= 67108864 : 8 === i ? s.fg |= 1073741824 : 9 === i ? s.fg |= 2147483648 : 2 === i ? s.bg |= 134217728 : 21 === i ? this._processUnderline(2, s) : 22 === i ? (s.fg &= -134217729, s.bg &= -134217729) : 23 === i ? s.bg &= -67108865 : 24 === i ? (s.fg &= -268435457, this._processUnderline(0, s)) : 25 === i ? s.fg &= -536870913 : 27 === i ? s.fg &= -67108865 : 28 === i ? s.fg &= -1073741825 : 29 === i ? s.fg &= 2147483647 : 39 === i ? (s.fg &= -67108864, s.fg |= 16777215 & l.DEFAULT_ATTR_DATA.fg) : 49 === i ? (s.bg &= -67108864, s.bg |= 16777215 & l.DEFAULT_ATTR_DATA.bg) : 38 === i || 48 === i || 58 === i ? _r13 += this._extractColor(e, _r13, s) : 59 === i ? (s.extended = s.extended.clone(), s.extended.underlineColor = -1, s.updateExtended()) : 100 === i ? (s.fg &= -67108864, s.fg |= 16777215 & l.DEFAULT_ATTR_DATA.fg, s.bg &= -67108864, s.bg |= 16777215 & l.DEFAULT_ATTR_DATA.bg) : this._logService.debug(\"Unknown SGR attribute: %d.\", i);\n                return !0;\n              }\n            }, {\n              key: \"deviceStatus\",\n              value: function deviceStatus(e) {\n                switch (e.params[0]) {\n                  case 5:\n                    this._coreService.triggerDataEvent(\"\".concat(n.C0.ESC, \"[0n\"));\n                    break;\n                  case 6:\n                    var _e78 = this._activeBuffer.y + 1,\n                      _t49 = this._activeBuffer.x + 1;\n                    this._coreService.triggerDataEvent(\"\".concat(n.C0.ESC, \"[\").concat(_e78, \";\").concat(_t49, \"R\"));\n                }\n                return !0;\n              }\n            }, {\n              key: \"deviceStatusPrivate\",\n              value: function deviceStatusPrivate(e) {\n                if (6 === e.params[0]) {\n                  var _e79 = this._activeBuffer.y + 1,\n                    _t50 = this._activeBuffer.x + 1;\n                  this._coreService.triggerDataEvent(\"\".concat(n.C0.ESC, \"[?\").concat(_e79, \";\").concat(_t50, \"R\"));\n                }\n                return !0;\n              }\n            }, {\n              key: \"softReset\",\n              value: function softReset(e) {\n                return this._coreService.isCursorHidden = !1, this._onRequestSyncScrollBar.fire(), this._activeBuffer.scrollTop = 0, this._activeBuffer.scrollBottom = this._bufferService.rows - 1, this._curAttrData = l.DEFAULT_ATTR_DATA.clone(), this._coreService.reset(), this._charsetService.reset(), this._activeBuffer.savedX = 0, this._activeBuffer.savedY = this._activeBuffer.ybase, this._activeBuffer.savedCurAttrData.fg = this._curAttrData.fg, this._activeBuffer.savedCurAttrData.bg = this._curAttrData.bg, this._activeBuffer.savedCharset = this._charsetService.charset, this._coreService.decPrivateModes.origin = !1, !0;\n              }\n            }, {\n              key: \"setCursorStyle\",\n              value: function setCursorStyle(e) {\n                var t = e.params[0] || 1;\n                switch (t) {\n                  case 1:\n                  case 2:\n                    this._optionsService.options.cursorStyle = \"block\";\n                    break;\n                  case 3:\n                  case 4:\n                    this._optionsService.options.cursorStyle = \"underline\";\n                    break;\n                  case 5:\n                  case 6:\n                    this._optionsService.options.cursorStyle = \"bar\";\n                }\n                var i = t % 2 == 1;\n                return this._optionsService.options.cursorBlink = i, !0;\n              }\n            }, {\n              key: \"setScrollRegion\",\n              value: function setScrollRegion(e) {\n                var t = e.params[0] || 1;\n                var i;\n                return (e.length < 2 || (i = e.params[1]) > this._bufferService.rows || 0 === i) && (i = this._bufferService.rows), i > t && (this._activeBuffer.scrollTop = t - 1, this._activeBuffer.scrollBottom = i - 1, this._setCursor(0, 0)), !0;\n              }\n            }, {\n              key: \"windowOptions\",\n              value: function windowOptions(e) {\n                if (!b(e.params[0], this._optionsService.rawOptions.windowOptions)) return !0;\n                var t = e.length > 1 ? e.params[1] : 0;\n                switch (e.params[0]) {\n                  case 14:\n                    2 !== t && this._onRequestWindowsOptionsReport.fire(y.GET_WIN_SIZE_PIXELS);\n                    break;\n                  case 16:\n                    this._onRequestWindowsOptionsReport.fire(y.GET_CELL_SIZE_PIXELS);\n                    break;\n                  case 18:\n                    this._bufferService && this._coreService.triggerDataEvent(\"\".concat(n.C0.ESC, \"[8;\").concat(this._bufferService.rows, \";\").concat(this._bufferService.cols, \"t\"));\n                    break;\n                  case 22:\n                    0 !== t && 2 !== t || (this._windowTitleStack.push(this._windowTitle), this._windowTitleStack.length > 10 && this._windowTitleStack.shift()), 0 !== t && 1 !== t || (this._iconNameStack.push(this._iconName), this._iconNameStack.length > 10 && this._iconNameStack.shift());\n                    break;\n                  case 23:\n                    0 !== t && 2 !== t || this._windowTitleStack.length && this.setTitle(this._windowTitleStack.pop()), 0 !== t && 1 !== t || this._iconNameStack.length && this.setIconName(this._iconNameStack.pop());\n                }\n                return !0;\n              }\n            }, {\n              key: \"saveCursor\",\n              value: function saveCursor(e) {\n                return this._activeBuffer.savedX = this._activeBuffer.x, this._activeBuffer.savedY = this._activeBuffer.ybase + this._activeBuffer.y, this._activeBuffer.savedCurAttrData.fg = this._curAttrData.fg, this._activeBuffer.savedCurAttrData.bg = this._curAttrData.bg, this._activeBuffer.savedCharset = this._charsetService.charset, !0;\n              }\n            }, {\n              key: \"restoreCursor\",\n              value: function restoreCursor(e) {\n                return this._activeBuffer.x = this._activeBuffer.savedX || 0, this._activeBuffer.y = Math.max(this._activeBuffer.savedY - this._activeBuffer.ybase, 0), this._curAttrData.fg = this._activeBuffer.savedCurAttrData.fg, this._curAttrData.bg = this._activeBuffer.savedCurAttrData.bg, this._charsetService.charset = this._savedCharset, this._activeBuffer.savedCharset && (this._charsetService.charset = this._activeBuffer.savedCharset), this._restrictCursor(), !0;\n              }\n            }, {\n              key: \"setTitle\",\n              value: function setTitle(e) {\n                return this._windowTitle = e, this._onTitleChange.fire(e), !0;\n              }\n            }, {\n              key: \"setIconName\",\n              value: function setIconName(e) {\n                return this._iconName = e, !0;\n              }\n            }, {\n              key: \"setOrReportIndexedColor\",\n              value: function setOrReportIndexedColor(e) {\n                var t = [],\n                  i = e.split(\";\");\n                for (; i.length > 1;) {\n                  var _e80 = i.shift(),\n                    _s22 = i.shift();\n                  if (/^\\d+$/.exec(_e80)) {\n                    var _i28 = parseInt(_e80);\n                    if (0 <= _i28 && _i28 < 256) if (\"?\" === _s22) t.push({\n                      type: 0,\n                      index: _i28\n                    });else {\n                      var _e81 = (0, S.parseColor)(_s22);\n                      _e81 && t.push({\n                        type: 1,\n                        index: _i28,\n                        color: _e81\n                      });\n                    }\n                  }\n                }\n                return t.length && this._onColor.fire(t), !0;\n              }\n            }, {\n              key: \"setHyperlink\",\n              value: function setHyperlink(e) {\n                var t = e.split(\";\");\n                return !(t.length < 2) && (t[1] ? this._createHyperlink(t[0], t[1]) : !t[0] && this._finishHyperlink());\n              }\n            }, {\n              key: \"_createHyperlink\",\n              value: function _createHyperlink(e, t) {\n                this._getCurrentLinkId() && this._finishHyperlink();\n                var i = e.split(\":\");\n                var s;\n                var r = i.findIndex(function (e) {\n                  return e.startsWith(\"id=\");\n                });\n                return -1 !== r && (s = i[r].slice(3) || void 0), this._curAttrData.extended = this._curAttrData.extended.clone(), this._curAttrData.extended.urlId = this._oscLinkService.registerLink({\n                  id: s,\n                  uri: t\n                }), this._curAttrData.updateExtended(), !0;\n              }\n            }, {\n              key: \"_finishHyperlink\",\n              value: function _finishHyperlink() {\n                return this._curAttrData.extended = this._curAttrData.extended.clone(), this._curAttrData.extended.urlId = 0, this._curAttrData.updateExtended(), !0;\n              }\n            }, {\n              key: \"_setOrReportSpecialColor\",\n              value: function _setOrReportSpecialColor(e, t) {\n                var i = e.split(\";\");\n                for (var _e82 = 0; _e82 < i.length && !(t >= this._specialColors.length); ++_e82, ++t) if (\"?\" === i[_e82]) this._onColor.fire([{\n                  type: 0,\n                  index: this._specialColors[t]\n                }]);else {\n                  var _s23 = (0, S.parseColor)(i[_e82]);\n                  _s23 && this._onColor.fire([{\n                    type: 1,\n                    index: this._specialColors[t],\n                    color: _s23\n                  }]);\n                }\n                return !0;\n              }\n            }, {\n              key: \"setOrReportFgColor\",\n              value: function setOrReportFgColor(e) {\n                return this._setOrReportSpecialColor(e, 0);\n              }\n            }, {\n              key: \"setOrReportBgColor\",\n              value: function setOrReportBgColor(e) {\n                return this._setOrReportSpecialColor(e, 1);\n              }\n            }, {\n              key: \"setOrReportCursorColor\",\n              value: function setOrReportCursorColor(e) {\n                return this._setOrReportSpecialColor(e, 2);\n              }\n            }, {\n              key: \"restoreIndexedColor\",\n              value: function restoreIndexedColor(e) {\n                if (!e) return this._onColor.fire([{\n                  type: 2\n                }]), !0;\n                var t = [],\n                  i = e.split(\";\");\n                for (var _e83 = 0; _e83 < i.length; ++_e83) if (/^\\d+$/.exec(i[_e83])) {\n                  var _s24 = parseInt(i[_e83]);\n                  0 <= _s24 && _s24 < 256 && t.push({\n                    type: 2,\n                    index: _s24\n                  });\n                }\n                return t.length && this._onColor.fire(t), !0;\n              }\n            }, {\n              key: \"restoreFgColor\",\n              value: function restoreFgColor(e) {\n                return this._onColor.fire([{\n                  type: 2,\n                  index: 256\n                }]), !0;\n              }\n            }, {\n              key: \"restoreBgColor\",\n              value: function restoreBgColor(e) {\n                return this._onColor.fire([{\n                  type: 2,\n                  index: 257\n                }]), !0;\n              }\n            }, {\n              key: \"restoreCursorColor\",\n              value: function restoreCursorColor(e) {\n                return this._onColor.fire([{\n                  type: 2,\n                  index: 258\n                }]), !0;\n              }\n            }, {\n              key: \"nextLine\",\n              value: function nextLine() {\n                return this._activeBuffer.x = 0, this.index(), !0;\n              }\n            }, {\n              key: \"keypadApplicationMode\",\n              value: function keypadApplicationMode() {\n                return this._logService.debug(\"Serial port requested application keypad.\"), this._coreService.decPrivateModes.applicationKeypad = !0, this._onRequestSyncScrollBar.fire(), !0;\n              }\n            }, {\n              key: \"keypadNumericMode\",\n              value: function keypadNumericMode() {\n                return this._logService.debug(\"Switching back to normal keypad.\"), this._coreService.decPrivateModes.applicationKeypad = !1, this._onRequestSyncScrollBar.fire(), !0;\n              }\n            }, {\n              key: \"selectDefaultCharset\",\n              value: function selectDefaultCharset() {\n                return this._charsetService.setgLevel(0), this._charsetService.setgCharset(0, o.DEFAULT_CHARSET), !0;\n              }\n            }, {\n              key: \"selectCharset\",\n              value: function selectCharset(e) {\n                return 2 !== e.length ? (this.selectDefaultCharset(), !0) : (\"/\" === e[0] || this._charsetService.setgCharset(m[e[0]], o.CHARSETS[e[1]] || o.DEFAULT_CHARSET), !0);\n              }\n            }, {\n              key: \"index\",\n              value: function index() {\n                return this._restrictCursor(), this._activeBuffer.y++, this._activeBuffer.y === this._activeBuffer.scrollBottom + 1 ? (this._activeBuffer.y--, this._bufferService.scroll(this._eraseAttrData())) : this._activeBuffer.y >= this._bufferService.rows && (this._activeBuffer.y = this._bufferService.rows - 1), this._restrictCursor(), !0;\n              }\n            }, {\n              key: \"tabSet\",\n              value: function tabSet() {\n                return this._activeBuffer.tabs[this._activeBuffer.x] = !0, !0;\n              }\n            }, {\n              key: \"reverseIndex\",\n              value: function reverseIndex() {\n                if (this._restrictCursor(), this._activeBuffer.y === this._activeBuffer.scrollTop) {\n                  var _e84 = this._activeBuffer.scrollBottom - this._activeBuffer.scrollTop;\n                  this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase + this._activeBuffer.y, _e84, 1), this._activeBuffer.lines.set(this._activeBuffer.ybase + this._activeBuffer.y, this._activeBuffer.getBlankLine(this._eraseAttrData())), this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop, this._activeBuffer.scrollBottom);\n                } else this._activeBuffer.y--, this._restrictCursor();\n                return !0;\n              }\n            }, {\n              key: \"fullReset\",\n              value: function fullReset() {\n                return this._parser.reset(), this._onRequestReset.fire(), !0;\n              }\n            }, {\n              key: \"reset\",\n              value: function reset() {\n                this._curAttrData = l.DEFAULT_ATTR_DATA.clone(), this._eraseAttrDataInternal = l.DEFAULT_ATTR_DATA.clone();\n              }\n            }, {\n              key: \"_eraseAttrData\",\n              value: function _eraseAttrData() {\n                return this._eraseAttrDataInternal.bg &= -67108864, this._eraseAttrDataInternal.bg |= 67108863 & this._curAttrData.bg, this._eraseAttrDataInternal;\n              }\n            }, {\n              key: \"setgLevel\",\n              value: function setgLevel(e) {\n                return this._charsetService.setgLevel(e), !0;\n              }\n            }, {\n              key: \"screenAlignmentPattern\",\n              value: function screenAlignmentPattern() {\n                var e = new u.CellData();\n                e.content = 1 << 22 | \"E\".charCodeAt(0), e.fg = this._curAttrData.fg, e.bg = this._curAttrData.bg, this._setCursor(0, 0);\n                for (var _t51 = 0; _t51 < this._bufferService.rows; ++_t51) {\n                  var _i29 = this._activeBuffer.ybase + this._activeBuffer.y + _t51,\n                    _s25 = this._activeBuffer.lines.get(_i29);\n                  _s25 && (_s25.fill(e), _s25.isWrapped = !1);\n                }\n                return this._dirtyRowTracker.markAllDirty(), this._setCursor(0, 0), !0;\n              }\n            }, {\n              key: \"requestStatusString\",\n              value: function requestStatusString(e, t) {\n                var _this55 = this;\n                var i = this._bufferService.buffer,\n                  s = this._optionsService.rawOptions;\n                return function (e) {\n                  return _this55._coreService.triggerDataEvent(\"\".concat(n.C0.ESC).concat(e).concat(n.C0.ESC, \"\\\\\")), !0;\n                }('\"q' === e ? \"P1$r\".concat(this._curAttrData.isProtected() ? 1 : 0, \"\\\"q\") : '\"p' === e ? 'P1$r61;1\"p' : \"r\" === e ? \"P1$r\".concat(i.scrollTop + 1, \";\").concat(i.scrollBottom + 1, \"r\") : \"m\" === e ? \"P1$r0m\" : \" q\" === e ? \"P1$r\".concat({\n                  block: 2,\n                  underline: 4,\n                  bar: 6\n                }[s.cursorStyle] - (s.cursorBlink ? 1 : 0), \" q\") : \"P0$r\");\n              }\n            }, {\n              key: \"markRangeDirty\",\n              value: function markRangeDirty(e, t) {\n                this._dirtyRowTracker.markRangeDirty(e, t);\n              }\n            }]);\n            return E;\n          }(h.Disposable);\n          t.InputHandler = E;\n          var L = /*#__PURE__*/function () {\n            function L(e) {\n              _classCallCheck(this, L);\n              this._bufferService = e, this.clearRange();\n            }\n            _createClass(L, [{\n              key: \"clearRange\",\n              value: function clearRange() {\n                this.start = this._bufferService.buffer.y, this.end = this._bufferService.buffer.y;\n              }\n            }, {\n              key: \"markDirty\",\n              value: function markDirty(e) {\n                e < this.start ? this.start = e : e > this.end && (this.end = e);\n              }\n            }, {\n              key: \"markRangeDirty\",\n              value: function markRangeDirty(e, t) {\n                e > t && (w = e, e = t, t = w), e < this.start && (this.start = e), t > this.end && (this.end = t);\n              }\n            }, {\n              key: \"markAllDirty\",\n              value: function markAllDirty() {\n                this.markRangeDirty(0, this._bufferService.rows - 1);\n              }\n            }]);\n            return L;\n          }();\n          L = s([r(0, v.IBufferService)], L);\n        },\n        844: function _(e, t) {\n          function i(e) {\n            var _iterator12 = _createForOfIteratorHelper(e),\n              _step12;\n            try {\n              for (_iterator12.s(); !(_step12 = _iterator12.n()).done;) {\n                var _t52 = _step12.value;\n                _t52.dispose();\n              }\n            } catch (err) {\n              _iterator12.e(err);\n            } finally {\n              _iterator12.f();\n            }\n            e.length = 0;\n          }\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.getDisposeArrayDisposable = t.disposeArray = t.toDisposable = t.Disposable = void 0, t.Disposable = /*#__PURE__*/function () {\n            function _class8() {\n              _classCallCheck(this, _class8);\n              this._disposables = [], this._isDisposed = !1;\n            }\n            _createClass(_class8, [{\n              key: \"dispose\",\n              value: function dispose() {\n                this._isDisposed = !0;\n                var _iterator13 = _createForOfIteratorHelper(this._disposables),\n                  _step13;\n                try {\n                  for (_iterator13.s(); !(_step13 = _iterator13.n()).done;) {\n                    var _e85 = _step13.value;\n                    _e85.dispose();\n                  }\n                } catch (err) {\n                  _iterator13.e(err);\n                } finally {\n                  _iterator13.f();\n                }\n                this._disposables.length = 0;\n              }\n            }, {\n              key: \"register\",\n              value: function register(e) {\n                return this._disposables.push(e), e;\n              }\n            }, {\n              key: \"unregister\",\n              value: function unregister(e) {\n                var t = this._disposables.indexOf(e);\n                -1 !== t && this._disposables.splice(t, 1);\n              }\n            }]);\n            return _class8;\n          }(), t.toDisposable = function (e) {\n            return {\n              dispose: e\n            };\n          }, t.disposeArray = i, t.getDisposeArrayDisposable = function (e) {\n            return {\n              dispose: function dispose() {\n                return i(e);\n              }\n            };\n          };\n        },\n        1505: function _(e, t) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.FourKeyMap = t.TwoKeyMap = void 0;\n          var i = /*#__PURE__*/function () {\n            function i() {\n              _classCallCheck(this, i);\n              this._data = {};\n            }\n            _createClass(i, [{\n              key: \"set\",\n              value: function set(e, t, _i30) {\n                this._data[e] || (this._data[e] = {}), this._data[e][t] = _i30;\n              }\n            }, {\n              key: \"get\",\n              value: function get(e, t) {\n                return this._data[e] ? this._data[e][t] : void 0;\n              }\n            }, {\n              key: \"clear\",\n              value: function clear() {\n                this._data = {};\n              }\n            }]);\n            return i;\n          }();\n          t.TwoKeyMap = i, t.FourKeyMap = /*#__PURE__*/function () {\n            function _class9() {\n              _classCallCheck(this, _class9);\n              this._data = new i();\n            }\n            _createClass(_class9, [{\n              key: \"set\",\n              value: function set(e, t, s, r, n) {\n                this._data.get(e, t) || this._data.set(e, t, new i()), this._data.get(e, t).set(s, r, n);\n              }\n            }, {\n              key: \"get\",\n              value: function get(e, t, i, s) {\n                var r;\n                return null === (r = this._data.get(e, t)) || void 0 === r ? void 0 : r.get(i, s);\n              }\n            }, {\n              key: \"clear\",\n              value: function clear() {\n                this._data.clear();\n              }\n            }]);\n            return _class9;\n          }();\n        },\n        6114: function _(e, t) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.isChromeOS = t.isLinux = t.isWindows = t.isIphone = t.isIpad = t.isMac = t.getSafariVersion = t.isSafari = t.isLegacyEdge = t.isFirefox = t.isNode = void 0, t.isNode = \"undefined\" == typeof navigator;\n          var i = t.isNode ? \"node\" : navigator.userAgent,\n            s = t.isNode ? \"node\" : navigator.platform;\n          t.isFirefox = i.includes(\"Firefox\"), t.isLegacyEdge = i.includes(\"Edge\"), t.isSafari = /^((?!chrome|android).)*safari/i.test(i), t.getSafariVersion = function () {\n            if (!t.isSafari) return 0;\n            var e = i.match(/Version\\/(\\d+)/);\n            return null === e || e.length < 2 ? 0 : parseInt(e[1]);\n          }, t.isMac = [\"Macintosh\", \"MacIntel\", \"MacPPC\", \"Mac68K\"].includes(s), t.isIpad = \"iPad\" === s, t.isIphone = \"iPhone\" === s, t.isWindows = [\"Windows\", \"Win16\", \"Win32\", \"WinCE\"].includes(s), t.isLinux = s.indexOf(\"Linux\") >= 0, t.isChromeOS = /\\bCrOS\\b/.test(i);\n        },\n        6106: function _(e, t) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.SortedList = void 0;\n          var i = 0;\n          t.SortedList = /*#__PURE__*/function () {\n            function _class10(e) {\n              _classCallCheck(this, _class10);\n              this._getKey = e, this._array = [];\n            }\n            _createClass(_class10, [{\n              key: \"clear\",\n              value: function clear() {\n                this._array.length = 0;\n              }\n            }, {\n              key: \"insert\",\n              value: function insert(e) {\n                0 !== this._array.length ? (i = this._search(this._getKey(e), 0, this._array.length - 1), this._array.splice(i, 0, e)) : this._array.push(e);\n              }\n            }, {\n              key: \"delete\",\n              value: function _delete(e) {\n                if (0 === this._array.length) return !1;\n                var t = this._getKey(e);\n                if (void 0 === t) return !1;\n                if (i = this._search(t, 0, this._array.length - 1), -1 === i) return !1;\n                if (this._getKey(this._array[i]) !== t) return !1;\n                do {\n                  if (this._array[i] === e) return this._array.splice(i, 1), !0;\n                } while (++i < this._array.length && this._getKey(this._array[i]) === t);\n                return !1;\n              }\n            }, {\n              key: \"getKeyIterator\",\n              value: /*#__PURE__*/_regeneratorRuntime().mark(function getKeyIterator(e) {\n                return _regeneratorRuntime().wrap(function getKeyIterator$(_context) {\n                  while (1) switch (_context.prev = _context.next) {\n                    case 0:\n                      if (!(0 !== this._array.length && (i = this._search(e, 0, this._array.length - 1), !(i < 0 || i >= this._array.length) && this._getKey(this._array[i]) === e))) {\n                        _context.next = 4;\n                        break;\n                      }\n                    case 1:\n                      _context.next = 3;\n                      return this._array[i];\n                    case 3:\n                      if (++i < this._array.length && this._getKey(this._array[i]) === e) {\n                        _context.next = 1;\n                        break;\n                      }\n                    case 4:\n                    case \"end\":\n                      return _context.stop();\n                  }\n                }, getKeyIterator, this);\n              })\n            }, {\n              key: \"forEachByKey\",\n              value: function forEachByKey(e, t) {\n                if (0 !== this._array.length && (i = this._search(e, 0, this._array.length - 1), !(i < 0 || i >= this._array.length) && this._getKey(this._array[i]) === e)) do {\n                  t(this._array[i]);\n                } while (++i < this._array.length && this._getKey(this._array[i]) === e);\n              }\n            }, {\n              key: \"values\",\n              value: function values() {\n                return this._array.values();\n              }\n            }, {\n              key: \"_search\",\n              value: function _search(e, t, i) {\n                if (i < t) return t;\n                var s = Math.floor((t + i) / 2);\n                var r = this._getKey(this._array[s]);\n                if (r > e) return this._search(e, t, s - 1);\n                if (r < e) return this._search(e, s + 1, i);\n                for (; s > 0 && this._getKey(this._array[s - 1]) === e;) s--;\n                return s;\n              }\n            }]);\n            return _class10;\n          }();\n        },\n        7226: function _(e, t, i) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.DebouncedIdleTask = t.IdleTaskQueue = t.PriorityTaskQueue = void 0;\n          var s = i(6114);\n          var r = /*#__PURE__*/function () {\n            function r() {\n              _classCallCheck(this, r);\n              this._tasks = [], this._i = 0;\n            }\n            _createClass(r, [{\n              key: \"enqueue\",\n              value: function enqueue(e) {\n                this._tasks.push(e), this._start();\n              }\n            }, {\n              key: \"flush\",\n              value: function flush() {\n                for (; this._i < this._tasks.length;) this._tasks[this._i]() || this._i++;\n                this.clear();\n              }\n            }, {\n              key: \"clear\",\n              value: function clear() {\n                this._idleCallback && (this._cancelCallback(this._idleCallback), this._idleCallback = void 0), this._i = 0, this._tasks.length = 0;\n              }\n            }, {\n              key: \"_start\",\n              value: function _start() {\n                this._idleCallback || (this._idleCallback = this._requestCallback(this._process.bind(this)));\n              }\n            }, {\n              key: \"_process\",\n              value: function _process(e) {\n                this._idleCallback = void 0;\n                var t = 0,\n                  i = 0,\n                  s = e.timeRemaining(),\n                  _r14 = 0;\n                for (; this._i < this._tasks.length;) {\n                  if (t = Date.now(), this._tasks[this._i]() || this._i++, t = Math.max(1, Date.now() - t), i = Math.max(t, i), _r14 = e.timeRemaining(), 1.5 * i > _r14) return s - t < -20 && console.warn(\"task queue exceeded allotted deadline by \".concat(Math.abs(Math.round(s - t)), \"ms\")), void this._start();\n                  s = _r14;\n                }\n                this.clear();\n              }\n            }]);\n            return r;\n          }();\n          var n = /*#__PURE__*/function (_r15) {\n            _inherits(n, _r15);\n            var _super17 = _createSuper(n);\n            function n() {\n              _classCallCheck(this, n);\n              return _super17.apply(this, arguments);\n            }\n            _createClass(n, [{\n              key: \"_requestCallback\",\n              value: function _requestCallback(e) {\n                var _this56 = this;\n                return setTimeout(function () {\n                  return e(_this56._createDeadline(16));\n                });\n              }\n            }, {\n              key: \"_cancelCallback\",\n              value: function _cancelCallback(e) {\n                clearTimeout(e);\n              }\n            }, {\n              key: \"_createDeadline\",\n              value: function _createDeadline(e) {\n                var t = Date.now() + e;\n                return {\n                  timeRemaining: function timeRemaining() {\n                    return Math.max(0, t - Date.now());\n                  }\n                };\n              }\n            }]);\n            return n;\n          }(r);\n          t.PriorityTaskQueue = n, t.IdleTaskQueue = !s.isNode && \"requestIdleCallback\" in window ? /*#__PURE__*/function (_r16) {\n            _inherits(_class11, _r16);\n            var _super18 = _createSuper(_class11);\n            function _class11() {\n              _classCallCheck(this, _class11);\n              return _super18.apply(this, arguments);\n            }\n            _createClass(_class11, [{\n              key: \"_requestCallback\",\n              value: function _requestCallback(e) {\n                return requestIdleCallback(e);\n              }\n            }, {\n              key: \"_cancelCallback\",\n              value: function _cancelCallback(e) {\n                cancelIdleCallback(e);\n              }\n            }]);\n            return _class11;\n          }(r) : n, t.DebouncedIdleTask = /*#__PURE__*/function () {\n            function _class12() {\n              _classCallCheck(this, _class12);\n              this._queue = new t.IdleTaskQueue();\n            }\n            _createClass(_class12, [{\n              key: \"set\",\n              value: function set(e) {\n                this._queue.clear(), this._queue.enqueue(e);\n              }\n            }, {\n              key: \"flush\",\n              value: function flush() {\n                this._queue.flush();\n              }\n            }]);\n            return _class12;\n          }();\n        },\n        9282: function _(e, t, i) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.updateWindowsModeWrappedState = void 0;\n          var s = i(643);\n          t.updateWindowsModeWrappedState = function (e) {\n            var t = e.buffer.lines.get(e.buffer.ybase + e.buffer.y - 1),\n              i = null == t ? void 0 : t.get(e.cols - 1),\n              r = e.buffer.lines.get(e.buffer.ybase + e.buffer.y);\n            r && i && (r.isWrapped = i[s.CHAR_DATA_CODE_INDEX] !== s.NULL_CELL_CODE && i[s.CHAR_DATA_CODE_INDEX] !== s.WHITESPACE_CELL_CODE);\n          };\n        },\n        3734: function _(e, t) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.ExtendedAttrs = t.AttributeData = void 0;\n          var i = /*#__PURE__*/function () {\n            function i() {\n              _classCallCheck(this, i);\n              this.fg = 0, this.bg = 0, this.extended = new s();\n            }\n            _createClass(i, [{\n              key: \"clone\",\n              value: function clone() {\n                var e = new i();\n                return e.fg = this.fg, e.bg = this.bg, e.extended = this.extended.clone(), e;\n              }\n            }, {\n              key: \"isInverse\",\n              value: function isInverse() {\n                return 67108864 & this.fg;\n              }\n            }, {\n              key: \"isBold\",\n              value: function isBold() {\n                return 134217728 & this.fg;\n              }\n            }, {\n              key: \"isUnderline\",\n              value: function isUnderline() {\n                return this.hasExtendedAttrs() && 0 !== this.extended.underlineStyle ? 1 : 268435456 & this.fg;\n              }\n            }, {\n              key: \"isBlink\",\n              value: function isBlink() {\n                return 536870912 & this.fg;\n              }\n            }, {\n              key: \"isInvisible\",\n              value: function isInvisible() {\n                return 1073741824 & this.fg;\n              }\n            }, {\n              key: \"isItalic\",\n              value: function isItalic() {\n                return 67108864 & this.bg;\n              }\n            }, {\n              key: \"isDim\",\n              value: function isDim() {\n                return 134217728 & this.bg;\n              }\n            }, {\n              key: \"isStrikethrough\",\n              value: function isStrikethrough() {\n                return 2147483648 & this.fg;\n              }\n            }, {\n              key: \"isProtected\",\n              value: function isProtected() {\n                return 536870912 & this.bg;\n              }\n            }, {\n              key: \"getFgColorMode\",\n              value: function getFgColorMode() {\n                return 50331648 & this.fg;\n              }\n            }, {\n              key: \"getBgColorMode\",\n              value: function getBgColorMode() {\n                return 50331648 & this.bg;\n              }\n            }, {\n              key: \"isFgRGB\",\n              value: function isFgRGB() {\n                return 50331648 == (50331648 & this.fg);\n              }\n            }, {\n              key: \"isBgRGB\",\n              value: function isBgRGB() {\n                return 50331648 == (50331648 & this.bg);\n              }\n            }, {\n              key: \"isFgPalette\",\n              value: function isFgPalette() {\n                return 16777216 == (50331648 & this.fg) || 33554432 == (50331648 & this.fg);\n              }\n            }, {\n              key: \"isBgPalette\",\n              value: function isBgPalette() {\n                return 16777216 == (50331648 & this.bg) || 33554432 == (50331648 & this.bg);\n              }\n            }, {\n              key: \"isFgDefault\",\n              value: function isFgDefault() {\n                return 0 == (50331648 & this.fg);\n              }\n            }, {\n              key: \"isBgDefault\",\n              value: function isBgDefault() {\n                return 0 == (50331648 & this.bg);\n              }\n            }, {\n              key: \"isAttributeDefault\",\n              value: function isAttributeDefault() {\n                return 0 === this.fg && 0 === this.bg;\n              }\n            }, {\n              key: \"getFgColor\",\n              value: function getFgColor() {\n                switch (50331648 & this.fg) {\n                  case 16777216:\n                  case 33554432:\n                    return 255 & this.fg;\n                  case 50331648:\n                    return 16777215 & this.fg;\n                  default:\n                    return -1;\n                }\n              }\n            }, {\n              key: \"getBgColor\",\n              value: function getBgColor() {\n                switch (50331648 & this.bg) {\n                  case 16777216:\n                  case 33554432:\n                    return 255 & this.bg;\n                  case 50331648:\n                    return 16777215 & this.bg;\n                  default:\n                    return -1;\n                }\n              }\n            }, {\n              key: \"hasExtendedAttrs\",\n              value: function hasExtendedAttrs() {\n                return 268435456 & this.bg;\n              }\n            }, {\n              key: \"updateExtended\",\n              value: function updateExtended() {\n                this.extended.isEmpty() ? this.bg &= -268435457 : this.bg |= 268435456;\n              }\n            }, {\n              key: \"getUnderlineColor\",\n              value: function getUnderlineColor() {\n                if (268435456 & this.bg && ~this.extended.underlineColor) switch (50331648 & this.extended.underlineColor) {\n                  case 16777216:\n                  case 33554432:\n                    return 255 & this.extended.underlineColor;\n                  case 50331648:\n                    return 16777215 & this.extended.underlineColor;\n                  default:\n                    return this.getFgColor();\n                }\n                return this.getFgColor();\n              }\n            }, {\n              key: \"getUnderlineColorMode\",\n              value: function getUnderlineColorMode() {\n                return 268435456 & this.bg && ~this.extended.underlineColor ? 50331648 & this.extended.underlineColor : this.getFgColorMode();\n              }\n            }, {\n              key: \"isUnderlineColorRGB\",\n              value: function isUnderlineColorRGB() {\n                return 268435456 & this.bg && ~this.extended.underlineColor ? 50331648 == (50331648 & this.extended.underlineColor) : this.isFgRGB();\n              }\n            }, {\n              key: \"isUnderlineColorPalette\",\n              value: function isUnderlineColorPalette() {\n                return 268435456 & this.bg && ~this.extended.underlineColor ? 16777216 == (50331648 & this.extended.underlineColor) || 33554432 == (50331648 & this.extended.underlineColor) : this.isFgPalette();\n              }\n            }, {\n              key: \"isUnderlineColorDefault\",\n              value: function isUnderlineColorDefault() {\n                return 268435456 & this.bg && ~this.extended.underlineColor ? 0 == (50331648 & this.extended.underlineColor) : this.isFgDefault();\n              }\n            }, {\n              key: \"getUnderlineStyle\",\n              value: function getUnderlineStyle() {\n                return 268435456 & this.fg ? 268435456 & this.bg ? this.extended.underlineStyle : 1 : 0;\n              }\n            }], [{\n              key: \"toColorRGB\",\n              value: function toColorRGB(e) {\n                return [e >>> 16 & 255, e >>> 8 & 255, 255 & e];\n              }\n            }, {\n              key: \"fromColorRGB\",\n              value: function fromColorRGB(e) {\n                return (255 & e[0]) << 16 | (255 & e[1]) << 8 | 255 & e[2];\n              }\n            }]);\n            return i;\n          }();\n          t.AttributeData = i;\n          var s = /*#__PURE__*/function () {\n            function s() {\n              var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n              _classCallCheck(this, s);\n              this._ext = 0, this._urlId = 0, this._ext = e, this._urlId = t;\n            }\n            _createClass(s, [{\n              key: \"ext\",\n              get: function get() {\n                return this._urlId ? -469762049 & this._ext | this.underlineStyle << 26 : this._ext;\n              },\n              set: function set(e) {\n                this._ext = e;\n              }\n            }, {\n              key: \"underlineStyle\",\n              get: function get() {\n                return this._urlId ? 5 : (469762048 & this._ext) >> 26;\n              },\n              set: function set(e) {\n                this._ext &= -469762049, this._ext |= e << 26 & 469762048;\n              }\n            }, {\n              key: \"underlineColor\",\n              get: function get() {\n                return 67108863 & this._ext;\n              },\n              set: function set(e) {\n                this._ext &= -67108864, this._ext |= 67108863 & e;\n              }\n            }, {\n              key: \"urlId\",\n              get: function get() {\n                return this._urlId;\n              },\n              set: function set(e) {\n                this._urlId = e;\n              }\n            }, {\n              key: \"clone\",\n              value: function clone() {\n                return new s(this._ext, this._urlId);\n              }\n            }, {\n              key: \"isEmpty\",\n              value: function isEmpty() {\n                return 0 === this.underlineStyle && 0 === this._urlId;\n              }\n            }]);\n            return s;\n          }();\n          t.ExtendedAttrs = s;\n        },\n        9092: function _(e, t, i) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.BufferStringIterator = t.Buffer = t.MAX_BUFFER_SIZE = void 0;\n          var s = i(6349),\n            r = i(8437),\n            n = i(511),\n            o = i(643),\n            a = i(4634),\n            h = i(4863),\n            c = i(7116),\n            l = i(3734),\n            d = i(7226);\n          t.MAX_BUFFER_SIZE = 4294967295, t.Buffer = /*#__PURE__*/function () {\n            function _class13(e, t, i) {\n              _classCallCheck(this, _class13);\n              this._hasScrollback = e, this._optionsService = t, this._bufferService = i, this.ydisp = 0, this.ybase = 0, this.y = 0, this.x = 0, this.tabs = {}, this.savedY = 0, this.savedX = 0, this.savedCurAttrData = r.DEFAULT_ATTR_DATA.clone(), this.savedCharset = c.DEFAULT_CHARSET, this.markers = [], this._nullCell = n.CellData.fromCharData([0, o.NULL_CELL_CHAR, o.NULL_CELL_WIDTH, o.NULL_CELL_CODE]), this._whitespaceCell = n.CellData.fromCharData([0, o.WHITESPACE_CELL_CHAR, o.WHITESPACE_CELL_WIDTH, o.WHITESPACE_CELL_CODE]), this._isClearing = !1, this._memoryCleanupQueue = new d.IdleTaskQueue(), this._memoryCleanupPosition = 0, this._cols = this._bufferService.cols, this._rows = this._bufferService.rows, this.lines = new s.CircularList(this._getCorrectBufferLength(this._rows)), this.scrollTop = 0, this.scrollBottom = this._rows - 1, this.setupTabStops();\n            }\n            _createClass(_class13, [{\n              key: \"getNullCell\",\n              value: function getNullCell(e) {\n                return e ? (this._nullCell.fg = e.fg, this._nullCell.bg = e.bg, this._nullCell.extended = e.extended) : (this._nullCell.fg = 0, this._nullCell.bg = 0, this._nullCell.extended = new l.ExtendedAttrs()), this._nullCell;\n              }\n            }, {\n              key: \"getWhitespaceCell\",\n              value: function getWhitespaceCell(e) {\n                return e ? (this._whitespaceCell.fg = e.fg, this._whitespaceCell.bg = e.bg, this._whitespaceCell.extended = e.extended) : (this._whitespaceCell.fg = 0, this._whitespaceCell.bg = 0, this._whitespaceCell.extended = new l.ExtendedAttrs()), this._whitespaceCell;\n              }\n            }, {\n              key: \"getBlankLine\",\n              value: function getBlankLine(e, t) {\n                return new r.BufferLine(this._bufferService.cols, this.getNullCell(e), t);\n              }\n            }, {\n              key: \"hasScrollback\",\n              get: function get() {\n                return this._hasScrollback && this.lines.maxLength > this._rows;\n              }\n            }, {\n              key: \"isCursorInViewport\",\n              get: function get() {\n                var e = this.ybase + this.y - this.ydisp;\n                return e >= 0 && e < this._rows;\n              }\n            }, {\n              key: \"_getCorrectBufferLength\",\n              value: function _getCorrectBufferLength(e) {\n                if (!this._hasScrollback) return e;\n                var i = e + this._optionsService.rawOptions.scrollback;\n                return i > t.MAX_BUFFER_SIZE ? t.MAX_BUFFER_SIZE : i;\n              }\n            }, {\n              key: \"fillViewportRows\",\n              value: function fillViewportRows(e) {\n                if (0 === this.lines.length) {\n                  void 0 === e && (e = r.DEFAULT_ATTR_DATA);\n                  var _t53 = this._rows;\n                  for (; _t53--;) this.lines.push(this.getBlankLine(e));\n                }\n              }\n            }, {\n              key: \"clear\",\n              value: function clear() {\n                this.ydisp = 0, this.ybase = 0, this.y = 0, this.x = 0, this.lines = new s.CircularList(this._getCorrectBufferLength(this._rows)), this.scrollTop = 0, this.scrollBottom = this._rows - 1, this.setupTabStops();\n              }\n            }, {\n              key: \"resize\",\n              value: function resize(e, t) {\n                var _this57 = this;\n                var i = this.getNullCell(r.DEFAULT_ATTR_DATA);\n                var s = 0;\n                var n = this._getCorrectBufferLength(t);\n                if (n > this.lines.maxLength && (this.lines.maxLength = n), this.lines.length > 0) {\n                  if (this._cols < e) for (var _t54 = 0; _t54 < this.lines.length; _t54++) s += +this.lines.get(_t54).resize(e, i);\n                  var _o7 = 0;\n                  if (this._rows < t) for (var _s26 = this._rows; _s26 < t; _s26++) this.lines.length < t + this.ybase && (this._optionsService.rawOptions.windowsMode ? this.lines.push(new r.BufferLine(e, i)) : this.ybase > 0 && this.lines.length <= this.ybase + this.y + _o7 + 1 ? (this.ybase--, _o7++, this.ydisp > 0 && this.ydisp--) : this.lines.push(new r.BufferLine(e, i)));else for (var _e86 = this._rows; _e86 > t; _e86--) this.lines.length > t + this.ybase && (this.lines.length > this.ybase + this.y + 1 ? this.lines.pop() : (this.ybase++, this.ydisp++));\n                  if (n < this.lines.maxLength) {\n                    var _e87 = this.lines.length - n;\n                    _e87 > 0 && (this.lines.trimStart(_e87), this.ybase = Math.max(this.ybase - _e87, 0), this.ydisp = Math.max(this.ydisp - _e87, 0), this.savedY = Math.max(this.savedY - _e87, 0)), this.lines.maxLength = n;\n                  }\n                  this.x = Math.min(this.x, e - 1), this.y = Math.min(this.y, t - 1), _o7 && (this.y += _o7), this.savedX = Math.min(this.savedX, e - 1), this.scrollTop = 0;\n                }\n                if (this.scrollBottom = t - 1, this._isReflowEnabled && (this._reflow(e, t), this._cols > e)) for (var _t55 = 0; _t55 < this.lines.length; _t55++) s += +this.lines.get(_t55).resize(e, i);\n                this._cols = e, this._rows = t, this._memoryCleanupQueue.clear(), s > .1 * this.lines.length && (this._memoryCleanupPosition = 0, this._memoryCleanupQueue.enqueue(function () {\n                  return _this57._batchedMemoryCleanup();\n                }));\n              }\n            }, {\n              key: \"_batchedMemoryCleanup\",\n              value: function _batchedMemoryCleanup() {\n                var e = !0;\n                this._memoryCleanupPosition >= this.lines.length && (this._memoryCleanupPosition = 0, e = !1);\n                var t = 0;\n                for (; this._memoryCleanupPosition < this.lines.length;) if (t += this.lines.get(this._memoryCleanupPosition++).cleanupMemory(), t > 100) return !0;\n                return e;\n              }\n            }, {\n              key: \"_isReflowEnabled\",\n              get: function get() {\n                return this._hasScrollback && !this._optionsService.rawOptions.windowsMode;\n              }\n            }, {\n              key: \"_reflow\",\n              value: function _reflow(e, t) {\n                this._cols !== e && (e > this._cols ? this._reflowLarger(e, t) : this._reflowSmaller(e, t));\n              }\n            }, {\n              key: \"_reflowLarger\",\n              value: function _reflowLarger(e, t) {\n                var i = (0, a.reflowLargerGetLinesToRemove)(this.lines, this._cols, e, this.ybase + this.y, this.getNullCell(r.DEFAULT_ATTR_DATA));\n                if (i.length > 0) {\n                  var _s27 = (0, a.reflowLargerCreateNewLayout)(this.lines, i);\n                  (0, a.reflowLargerApplyNewLayout)(this.lines, _s27.layout), this._reflowLargerAdjustViewport(e, t, _s27.countRemoved);\n                }\n              }\n            }, {\n              key: \"_reflowLargerAdjustViewport\",\n              value: function _reflowLargerAdjustViewport(e, t, i) {\n                var s = this.getNullCell(r.DEFAULT_ATTR_DATA);\n                var n = i;\n                for (; n-- > 0;) 0 === this.ybase ? (this.y > 0 && this.y--, this.lines.length < t && this.lines.push(new r.BufferLine(e, s))) : (this.ydisp === this.ybase && this.ydisp--, this.ybase--);\n                this.savedY = Math.max(this.savedY - i, 0);\n              }\n            }, {\n              key: \"_reflowSmaller\",\n              value: function _reflowSmaller(e, t) {\n                var i = this.getNullCell(r.DEFAULT_ATTR_DATA),\n                  s = [];\n                var n = 0;\n                for (var _o8 = this.lines.length - 1; _o8 >= 0; _o8--) {\n                  var _h5 = this.lines.get(_o8);\n                  if (!_h5 || !_h5.isWrapped && _h5.getTrimmedLength() <= e) continue;\n                  var _c4 = [_h5];\n                  for (; _h5.isWrapped && _o8 > 0;) _h5 = this.lines.get(--_o8), _c4.unshift(_h5);\n                  var _l = this.ybase + this.y;\n                  if (_l >= _o8 && _l < _o8 + _c4.length) continue;\n                  var _d2 = _c4[_c4.length - 1].getTrimmedLength(),\n                    _2 = (0, a.reflowSmallerGetNewLineLengths)(_c4, this._cols, e),\n                    u = _2.length - _c4.length;\n                  var f = void 0;\n                  f = 0 === this.ybase && this.y !== this.lines.length - 1 ? Math.max(0, this.y - this.lines.maxLength + u) : Math.max(0, this.lines.length - this.lines.maxLength + u);\n                  var v = [];\n                  for (var _e88 = 0; _e88 < u; _e88++) {\n                    var _e89 = this.getBlankLine(r.DEFAULT_ATTR_DATA, !0);\n                    v.push(_e89);\n                  }\n                  v.length > 0 && (s.push({\n                    start: _o8 + _c4.length + n,\n                    newLines: v\n                  }), n += v.length), _c4.push.apply(_c4, v);\n                  var g = _2.length - 1,\n                    p = _2[g];\n                  0 === p && (g--, p = _2[g]);\n                  var S = _c4.length - u - 1,\n                    m = _d2;\n                  for (; S >= 0;) {\n                    var _e90 = Math.min(m, p);\n                    if (void 0 === _c4[g]) break;\n                    if (_c4[g].copyCellsFrom(_c4[S], m - _e90, p - _e90, _e90, !0), p -= _e90, 0 === p && (g--, p = _2[g]), m -= _e90, 0 === m) {\n                      S--;\n                      var _e91 = Math.max(S, 0);\n                      m = (0, a.getWrappedLineTrimmedLength)(_c4, _e91, this._cols);\n                    }\n                  }\n                  for (var _t56 = 0; _t56 < _c4.length; _t56++) _2[_t56] < e && _c4[_t56].setCell(_2[_t56], i);\n                  var C = u - f;\n                  for (; C-- > 0;) 0 === this.ybase ? this.y < t - 1 ? (this.y++, this.lines.pop()) : (this.ybase++, this.ydisp++) : this.ybase < Math.min(this.lines.maxLength, this.lines.length + n) - t && (this.ybase === this.ydisp && this.ydisp++, this.ybase++);\n                  this.savedY = Math.min(this.savedY + u, this.ybase + t - 1);\n                }\n                if (s.length > 0) {\n                  var _e92 = [],\n                    _t57 = [];\n                  for (var _e93 = 0; _e93 < this.lines.length; _e93++) _t57.push(this.lines.get(_e93));\n                  var _i31 = this.lines.length;\n                  var _r17 = _i31 - 1,\n                    _o9 = 0,\n                    _a6 = s[_o9];\n                  this.lines.length = Math.min(this.lines.maxLength, this.lines.length + n);\n                  var _h6 = 0;\n                  for (var _c5 = Math.min(this.lines.maxLength - 1, _i31 + n - 1); _c5 >= 0; _c5--) if (_a6 && _a6.start > _r17 + _h6) {\n                    for (var _e94 = _a6.newLines.length - 1; _e94 >= 0; _e94--) this.lines.set(_c5--, _a6.newLines[_e94]);\n                    _c5++, _e92.push({\n                      index: _r17 + 1,\n                      amount: _a6.newLines.length\n                    }), _h6 += _a6.newLines.length, _a6 = s[++_o9];\n                  } else this.lines.set(_c5, _t57[_r17--]);\n                  var _c6 = 0;\n                  for (var _t58 = _e92.length - 1; _t58 >= 0; _t58--) _e92[_t58].index += _c6, this.lines.onInsertEmitter.fire(_e92[_t58]), _c6 += _e92[_t58].amount;\n                  var _l2 = Math.max(0, _i31 + n - this.lines.maxLength);\n                  _l2 > 0 && this.lines.onTrimEmitter.fire(_l2);\n                }\n              }\n            }, {\n              key: \"stringIndexToBufferIndex\",\n              value: function stringIndexToBufferIndex(e, t) {\n                var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !1;\n                for (; t;) {\n                  var _s28 = this.lines.get(e);\n                  if (!_s28) return [-1, -1];\n                  var _r18 = i ? _s28.getTrimmedLength() : _s28.length;\n                  for (var _i32 = 0; _i32 < _r18; ++_i32) if (_s28.get(_i32)[o.CHAR_DATA_WIDTH_INDEX] && (t -= _s28.get(_i32)[o.CHAR_DATA_CHAR_INDEX].length || 1), t < 0) return [e, _i32];\n                  e++;\n                }\n                return [e, 0];\n              }\n            }, {\n              key: \"translateBufferLineToString\",\n              value: function translateBufferLineToString(e, t) {\n                var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n                var s = arguments.length > 3 ? arguments[3] : undefined;\n                var r = this.lines.get(e);\n                return r ? r.translateToString(t, i, s) : \"\";\n              }\n            }, {\n              key: \"getWrappedRangeForLine\",\n              value: function getWrappedRangeForLine(e) {\n                var t = e,\n                  i = e;\n                for (; t > 0 && this.lines.get(t).isWrapped;) t--;\n                for (; i + 1 < this.lines.length && this.lines.get(i + 1).isWrapped;) i++;\n                return {\n                  first: t,\n                  last: i\n                };\n              }\n            }, {\n              key: \"setupTabStops\",\n              value: function setupTabStops(e) {\n                for (null != e ? this.tabs[e] || (e = this.prevStop(e)) : (this.tabs = {}, e = 0); e < this._cols; e += this._optionsService.rawOptions.tabStopWidth) this.tabs[e] = !0;\n              }\n            }, {\n              key: \"prevStop\",\n              value: function prevStop(e) {\n                for (null == e && (e = this.x); !this.tabs[--e] && e > 0;);\n                return e >= this._cols ? this._cols - 1 : e < 0 ? 0 : e;\n              }\n            }, {\n              key: \"nextStop\",\n              value: function nextStop(e) {\n                for (null == e && (e = this.x); !this.tabs[++e] && e < this._cols;);\n                return e >= this._cols ? this._cols - 1 : e < 0 ? 0 : e;\n              }\n            }, {\n              key: \"clearMarkers\",\n              value: function clearMarkers(e) {\n                this._isClearing = !0;\n                for (var _t59 = 0; _t59 < this.markers.length; _t59++) this.markers[_t59].line === e && (this.markers[_t59].dispose(), this.markers.splice(_t59--, 1));\n                this._isClearing = !1;\n              }\n            }, {\n              key: \"clearAllMarkers\",\n              value: function clearAllMarkers() {\n                this._isClearing = !0;\n                for (var _e95 = 0; _e95 < this.markers.length; _e95++) this.markers[_e95].dispose(), this.markers.splice(_e95--, 1);\n                this._isClearing = !1;\n              }\n            }, {\n              key: \"addMarker\",\n              value: function addMarker(e) {\n                var _this58 = this;\n                var t = new h.Marker(e);\n                return this.markers.push(t), t.register(this.lines.onTrim(function (e) {\n                  t.line -= e, t.line < 0 && t.dispose();\n                })), t.register(this.lines.onInsert(function (e) {\n                  t.line >= e.index && (t.line += e.amount);\n                })), t.register(this.lines.onDelete(function (e) {\n                  t.line >= e.index && t.line < e.index + e.amount && t.dispose(), t.line > e.index && (t.line -= e.amount);\n                })), t.register(t.onDispose(function () {\n                  return _this58._removeMarker(t);\n                })), t;\n              }\n            }, {\n              key: \"_removeMarker\",\n              value: function _removeMarker(e) {\n                this._isClearing || this.markers.splice(this.markers.indexOf(e), 1);\n              }\n            }, {\n              key: \"iterator\",\n              value: function iterator(e, t, i, s, r) {\n                return new _(this, e, t, i, s, r);\n              }\n            }]);\n            return _class13;\n          }();\n          var _ = /*#__PURE__*/function () {\n            function _(e, t) {\n              var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n              var s = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : e.lines.length;\n              var r = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\n              var n = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 0;\n              _classCallCheck(this, _);\n              this._buffer = e, this._trimRight = t, this._startIndex = i, this._endIndex = s, this._startOverscan = r, this._endOverscan = n, this._startIndex < 0 && (this._startIndex = 0), this._endIndex > this._buffer.lines.length && (this._endIndex = this._buffer.lines.length), this._current = this._startIndex;\n            }\n            _createClass(_, [{\n              key: \"hasNext\",\n              value: function hasNext() {\n                return this._current < this._endIndex;\n              }\n            }, {\n              key: \"next\",\n              value: function next() {\n                var e = this._buffer.getWrappedRangeForLine(this._current);\n                e.first < this._startIndex - this._startOverscan && (e.first = this._startIndex - this._startOverscan), e.last > this._endIndex + this._endOverscan && (e.last = this._endIndex + this._endOverscan), e.first = Math.max(e.first, 0), e.last = Math.min(e.last, this._buffer.lines.length);\n                var t = \"\";\n                for (var _i33 = e.first; _i33 <= e.last; ++_i33) t += this._buffer.translateBufferLineToString(_i33, this._trimRight);\n                return this._current = e.last + 1, {\n                  range: e,\n                  content: t\n                };\n              }\n            }]);\n            return _;\n          }();\n          t.BufferStringIterator = _;\n        },\n        8437: function _(e, t, i) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.BufferLine = t.DEFAULT_ATTR_DATA = void 0;\n          var s = i(482),\n            r = i(643),\n            n = i(511),\n            o = i(3734);\n          t.DEFAULT_ATTR_DATA = Object.freeze(new o.AttributeData());\n          var a = 0;\n          var h = /*#__PURE__*/function () {\n            function h(e, t) {\n              var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !1;\n              _classCallCheck(this, h);\n              this.isWrapped = i, this._combined = {}, this._extendedAttrs = {}, this._data = new Uint32Array(3 * e);\n              var s = t || n.CellData.fromCharData([0, r.NULL_CELL_CHAR, r.NULL_CELL_WIDTH, r.NULL_CELL_CODE]);\n              for (var _t60 = 0; _t60 < e; ++_t60) this.setCell(_t60, s);\n              this.length = e;\n            }\n            _createClass(h, [{\n              key: \"get\",\n              value: function get(e) {\n                var t = this._data[3 * e + 0],\n                  i = 2097151 & t;\n                return [this._data[3 * e + 1], 2097152 & t ? this._combined[e] : i ? (0, s.stringFromCodePoint)(i) : \"\", t >> 22, 2097152 & t ? this._combined[e].charCodeAt(this._combined[e].length - 1) : i];\n              }\n            }, {\n              key: \"set\",\n              value: function set(e, t) {\n                this._data[3 * e + 1] = t[r.CHAR_DATA_ATTR_INDEX], t[r.CHAR_DATA_CHAR_INDEX].length > 1 ? (this._combined[e] = t[1], this._data[3 * e + 0] = 2097152 | e | t[r.CHAR_DATA_WIDTH_INDEX] << 22) : this._data[3 * e + 0] = t[r.CHAR_DATA_CHAR_INDEX].charCodeAt(0) | t[r.CHAR_DATA_WIDTH_INDEX] << 22;\n              }\n            }, {\n              key: \"getWidth\",\n              value: function getWidth(e) {\n                return this._data[3 * e + 0] >> 22;\n              }\n            }, {\n              key: \"hasWidth\",\n              value: function hasWidth(e) {\n                return 12582912 & this._data[3 * e + 0];\n              }\n            }, {\n              key: \"getFg\",\n              value: function getFg(e) {\n                return this._data[3 * e + 1];\n              }\n            }, {\n              key: \"getBg\",\n              value: function getBg(e) {\n                return this._data[3 * e + 2];\n              }\n            }, {\n              key: \"hasContent\",\n              value: function hasContent(e) {\n                return 4194303 & this._data[3 * e + 0];\n              }\n            }, {\n              key: \"getCodePoint\",\n              value: function getCodePoint(e) {\n                var t = this._data[3 * e + 0];\n                return 2097152 & t ? this._combined[e].charCodeAt(this._combined[e].length - 1) : 2097151 & t;\n              }\n            }, {\n              key: \"isCombined\",\n              value: function isCombined(e) {\n                return 2097152 & this._data[3 * e + 0];\n              }\n            }, {\n              key: \"getString\",\n              value: function getString(e) {\n                var t = this._data[3 * e + 0];\n                return 2097152 & t ? this._combined[e] : 2097151 & t ? (0, s.stringFromCodePoint)(2097151 & t) : \"\";\n              }\n            }, {\n              key: \"isProtected\",\n              value: function isProtected(e) {\n                return 536870912 & this._data[3 * e + 2];\n              }\n            }, {\n              key: \"loadCell\",\n              value: function loadCell(e, t) {\n                return a = 3 * e, t.content = this._data[a + 0], t.fg = this._data[a + 1], t.bg = this._data[a + 2], 2097152 & t.content && (t.combinedData = this._combined[e]), 268435456 & t.bg && (t.extended = this._extendedAttrs[e]), t;\n              }\n            }, {\n              key: \"setCell\",\n              value: function setCell(e, t) {\n                2097152 & t.content && (this._combined[e] = t.combinedData), 268435456 & t.bg && (this._extendedAttrs[e] = t.extended), this._data[3 * e + 0] = t.content, this._data[3 * e + 1] = t.fg, this._data[3 * e + 2] = t.bg;\n              }\n            }, {\n              key: \"setCellFromCodePoint\",\n              value: function setCellFromCodePoint(e, t, i, s, r, n) {\n                268435456 & r && (this._extendedAttrs[e] = n), this._data[3 * e + 0] = t | i << 22, this._data[3 * e + 1] = s, this._data[3 * e + 2] = r;\n              }\n            }, {\n              key: \"addCodepointToCell\",\n              value: function addCodepointToCell(e, t) {\n                var i = this._data[3 * e + 0];\n                2097152 & i ? this._combined[e] += (0, s.stringFromCodePoint)(t) : (2097151 & i ? (this._combined[e] = (0, s.stringFromCodePoint)(2097151 & i) + (0, s.stringFromCodePoint)(t), i &= -2097152, i |= 2097152) : i = t | 1 << 22, this._data[3 * e + 0] = i);\n              }\n            }, {\n              key: \"insertCells\",\n              value: function insertCells(e, t, i, s) {\n                if ((e %= this.length) && 2 === this.getWidth(e - 1) && this.setCellFromCodePoint(e - 1, 0, 1, (null == s ? void 0 : s.fg) || 0, (null == s ? void 0 : s.bg) || 0, (null == s ? void 0 : s.extended) || new o.ExtendedAttrs()), t < this.length - e) {\n                  var _s29 = new n.CellData();\n                  for (var _i34 = this.length - e - t - 1; _i34 >= 0; --_i34) this.setCell(e + t + _i34, this.loadCell(e + _i34, _s29));\n                  for (var _s30 = 0; _s30 < t; ++_s30) this.setCell(e + _s30, i);\n                } else for (var _t61 = e; _t61 < this.length; ++_t61) this.setCell(_t61, i);\n                2 === this.getWidth(this.length - 1) && this.setCellFromCodePoint(this.length - 1, 0, 1, (null == s ? void 0 : s.fg) || 0, (null == s ? void 0 : s.bg) || 0, (null == s ? void 0 : s.extended) || new o.ExtendedAttrs());\n              }\n            }, {\n              key: \"deleteCells\",\n              value: function deleteCells(e, t, i, s) {\n                if (e %= this.length, t < this.length - e) {\n                  var _s31 = new n.CellData();\n                  for (var _i35 = 0; _i35 < this.length - e - t; ++_i35) this.setCell(e + _i35, this.loadCell(e + t + _i35, _s31));\n                  for (var _e96 = this.length - t; _e96 < this.length; ++_e96) this.setCell(_e96, i);\n                } else for (var _t62 = e; _t62 < this.length; ++_t62) this.setCell(_t62, i);\n                e && 2 === this.getWidth(e - 1) && this.setCellFromCodePoint(e - 1, 0, 1, (null == s ? void 0 : s.fg) || 0, (null == s ? void 0 : s.bg) || 0, (null == s ? void 0 : s.extended) || new o.ExtendedAttrs()), 0 !== this.getWidth(e) || this.hasContent(e) || this.setCellFromCodePoint(e, 0, 1, (null == s ? void 0 : s.fg) || 0, (null == s ? void 0 : s.bg) || 0, (null == s ? void 0 : s.extended) || new o.ExtendedAttrs());\n              }\n            }, {\n              key: \"replaceCells\",\n              value: function replaceCells(e, t, i, s) {\n                var r = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : !1;\n                if (r) for (e && 2 === this.getWidth(e - 1) && !this.isProtected(e - 1) && this.setCellFromCodePoint(e - 1, 0, 1, (null == s ? void 0 : s.fg) || 0, (null == s ? void 0 : s.bg) || 0, (null == s ? void 0 : s.extended) || new o.ExtendedAttrs()), t < this.length && 2 === this.getWidth(t - 1) && !this.isProtected(t) && this.setCellFromCodePoint(t, 0, 1, (null == s ? void 0 : s.fg) || 0, (null == s ? void 0 : s.bg) || 0, (null == s ? void 0 : s.extended) || new o.ExtendedAttrs()); e < t && e < this.length;) this.isProtected(e) || this.setCell(e, i), e++;else for (e && 2 === this.getWidth(e - 1) && this.setCellFromCodePoint(e - 1, 0, 1, (null == s ? void 0 : s.fg) || 0, (null == s ? void 0 : s.bg) || 0, (null == s ? void 0 : s.extended) || new o.ExtendedAttrs()), t < this.length && 2 === this.getWidth(t - 1) && this.setCellFromCodePoint(t, 0, 1, (null == s ? void 0 : s.fg) || 0, (null == s ? void 0 : s.bg) || 0, (null == s ? void 0 : s.extended) || new o.ExtendedAttrs()); e < t && e < this.length;) this.setCell(e++, i);\n              }\n            }, {\n              key: \"resize\",\n              value: function resize(e, t) {\n                if (e === this.length) return 4 * this._data.length * 2 < this._data.buffer.byteLength;\n                var i = 3 * e;\n                if (e > this.length) {\n                  if (this._data.buffer.byteLength >= 4 * i) this._data = new Uint32Array(this._data.buffer, 0, i);else {\n                    var _e97 = new Uint32Array(i);\n                    _e97.set(this._data), this._data = _e97;\n                  }\n                  for (var _i36 = this.length; _i36 < e; ++_i36) this.setCell(_i36, t);\n                } else {\n                  this._data = this._data.subarray(0, i);\n                  var _t63 = Object.keys(this._combined);\n                  for (var _i37 = 0; _i37 < _t63.length; _i37++) {\n                    var _s32 = parseInt(_t63[_i37], 10);\n                    _s32 >= e && delete this._combined[_s32];\n                  }\n                  var _s33 = Object.keys(this._extendedAttrs);\n                  for (var _t64 = 0; _t64 < _s33.length; _t64++) {\n                    var _i38 = parseInt(_s33[_t64], 10);\n                    _i38 >= e && delete this._extendedAttrs[_i38];\n                  }\n                }\n                return this.length = e, 4 * i * 2 < this._data.buffer.byteLength;\n              }\n            }, {\n              key: \"cleanupMemory\",\n              value: function cleanupMemory() {\n                if (4 * this._data.length * 2 < this._data.buffer.byteLength) {\n                  var _e98 = new Uint32Array(this._data.length);\n                  return _e98.set(this._data), this._data = _e98, 1;\n                }\n                return 0;\n              }\n            }, {\n              key: \"fill\",\n              value: function fill(e) {\n                var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;\n                if (t) for (var _t65 = 0; _t65 < this.length; ++_t65) this.isProtected(_t65) || this.setCell(_t65, e);else {\n                  this._combined = {}, this._extendedAttrs = {};\n                  for (var _t66 = 0; _t66 < this.length; ++_t66) this.setCell(_t66, e);\n                }\n              }\n            }, {\n              key: \"copyFrom\",\n              value: function copyFrom(e) {\n                this.length !== e.length ? this._data = new Uint32Array(e._data) : this._data.set(e._data), this.length = e.length, this._combined = {};\n                for (var _t67 in e._combined) this._combined[_t67] = e._combined[_t67];\n                this._extendedAttrs = {};\n                for (var _t68 in e._extendedAttrs) this._extendedAttrs[_t68] = e._extendedAttrs[_t68];\n                this.isWrapped = e.isWrapped;\n              }\n            }, {\n              key: \"clone\",\n              value: function clone() {\n                var e = new h(0);\n                e._data = new Uint32Array(this._data), e.length = this.length;\n                for (var _t69 in this._combined) e._combined[_t69] = this._combined[_t69];\n                for (var _t70 in this._extendedAttrs) e._extendedAttrs[_t70] = this._extendedAttrs[_t70];\n                return e.isWrapped = this.isWrapped, e;\n              }\n            }, {\n              key: \"getTrimmedLength\",\n              value: function getTrimmedLength() {\n                for (var _e99 = this.length - 1; _e99 >= 0; --_e99) if (4194303 & this._data[3 * _e99 + 0]) return _e99 + (this._data[3 * _e99 + 0] >> 22);\n                return 0;\n              }\n            }, {\n              key: \"copyCellsFrom\",\n              value: function copyCellsFrom(e, t, i, s, r) {\n                var n = e._data;\n                if (r) for (var _r19 = s - 1; _r19 >= 0; _r19--) {\n                  for (var _e100 = 0; _e100 < 3; _e100++) this._data[3 * (i + _r19) + _e100] = n[3 * (t + _r19) + _e100];\n                  268435456 & n[3 * (t + _r19) + 2] && (this._extendedAttrs[i + _r19] = e._extendedAttrs[t + _r19]);\n                } else for (var _r20 = 0; _r20 < s; _r20++) {\n                  for (var _e101 = 0; _e101 < 3; _e101++) this._data[3 * (i + _r20) + _e101] = n[3 * (t + _r20) + _e101];\n                  268435456 & n[3 * (t + _r20) + 2] && (this._extendedAttrs[i + _r20] = e._extendedAttrs[t + _r20]);\n                }\n                var o = Object.keys(e._combined);\n                for (var _s34 = 0; _s34 < o.length; _s34++) {\n                  var _r21 = parseInt(o[_s34], 10);\n                  _r21 >= t && (this._combined[_r21 - t + i] = e._combined[_r21]);\n                }\n              }\n            }, {\n              key: \"translateToString\",\n              value: function translateToString() {\n                var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : !1;\n                var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n                var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this.length;\n                e && (i = Math.min(i, this.getTrimmedLength()));\n                var n = \"\";\n                for (; t < i;) {\n                  var _e102 = this._data[3 * t + 0],\n                    _i39 = 2097151 & _e102;\n                  n += 2097152 & _e102 ? this._combined[t] : _i39 ? (0, s.stringFromCodePoint)(_i39) : r.WHITESPACE_CELL_CHAR, t += _e102 >> 22 || 1;\n                }\n                return n;\n              }\n            }]);\n            return h;\n          }();\n          t.BufferLine = h;\n        },\n        4841: function _(e, t) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.getRangeLength = void 0, t.getRangeLength = function (e, t) {\n            if (e.start.y > e.end.y) throw new Error(\"Buffer range end (\".concat(e.end.x, \", \").concat(e.end.y, \") cannot be before start (\").concat(e.start.x, \", \").concat(e.start.y, \")\"));\n            return t * (e.end.y - e.start.y) + (e.end.x - e.start.x + 1);\n          };\n        },\n        4634: function _(e, t) {\n          function i(e, t, i) {\n            if (t === e.length - 1) return e[t].getTrimmedLength();\n            var s = !e[t].hasContent(i - 1) && 1 === e[t].getWidth(i - 1),\n              r = 2 === e[t + 1].getWidth(0);\n            return s && r ? i - 1 : i;\n          }\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.getWrappedLineTrimmedLength = t.reflowSmallerGetNewLineLengths = t.reflowLargerApplyNewLayout = t.reflowLargerCreateNewLayout = t.reflowLargerGetLinesToRemove = void 0, t.reflowLargerGetLinesToRemove = function (e, t, s, r, n) {\n            var o = [];\n            for (var a = 0; a < e.length - 1; a++) {\n              var h = a,\n                c = e.get(++h);\n              if (!c.isWrapped) continue;\n              var l = [e.get(a)];\n              for (; h < e.length && c.isWrapped;) l.push(c), c = e.get(++h);\n              if (r >= a && r < h) {\n                a += l.length - 1;\n                continue;\n              }\n              var d = 0,\n                _ = i(l, d, t),\n                u = 1,\n                f = 0;\n              for (; u < l.length;) {\n                var _e103 = i(l, u, t),\n                  _r22 = _e103 - f,\n                  _o10 = s - _,\n                  _a7 = Math.min(_r22, _o10);\n                l[d].copyCellsFrom(l[u], f, _, _a7, !1), _ += _a7, _ === s && (d++, _ = 0), f += _a7, f === _e103 && (u++, f = 0), 0 === _ && 0 !== d && 2 === l[d - 1].getWidth(s - 1) && (l[d].copyCellsFrom(l[d - 1], s - 1, _++, 1, !1), l[d - 1].setCell(s - 1, n));\n              }\n              l[d].replaceCells(_, s, n);\n              var v = 0;\n              for (var _e104 = l.length - 1; _e104 > 0 && (_e104 > d || 0 === l[_e104].getTrimmedLength()); _e104--) v++;\n              v > 0 && (o.push(a + l.length - v), o.push(v)), a += l.length - 1;\n            }\n            return o;\n          }, t.reflowLargerCreateNewLayout = function (e, t) {\n            var i = [];\n            var s = 0,\n              r = t[s],\n              n = 0;\n            for (var o = 0; o < e.length; o++) if (r === o) {\n              var _i40 = t[++s];\n              e.onDeleteEmitter.fire({\n                index: o - n,\n                amount: _i40\n              }), o += _i40 - 1, n += _i40, r = t[++s];\n            } else i.push(o);\n            return {\n              layout: i,\n              countRemoved: n\n            };\n          }, t.reflowLargerApplyNewLayout = function (e, t) {\n            var i = [];\n            for (var _s35 = 0; _s35 < t.length; _s35++) i.push(e.get(t[_s35]));\n            for (var _t71 = 0; _t71 < i.length; _t71++) e.set(_t71, i[_t71]);\n            e.length = t.length;\n          }, t.reflowSmallerGetNewLineLengths = function (e, t, s) {\n            var r = [],\n              n = e.map(function (s, r) {\n                return i(e, r, t);\n              }).reduce(function (e, t) {\n                return e + t;\n              });\n            var o = 0,\n              a = 0,\n              h = 0;\n            for (; h < n;) {\n              if (n - h < s) {\n                r.push(n - h);\n                break;\n              }\n              o += s;\n              var c = i(e, a, t);\n              o > c && (o -= c, a++);\n              var l = 2 === e[a].getWidth(o - 1);\n              l && o--;\n              var d = l ? s - 1 : s;\n              r.push(d), h += d;\n            }\n            return r;\n          }, t.getWrappedLineTrimmedLength = i;\n        },\n        5295: function _(e, t, i) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.BufferSet = void 0;\n          var s = i(9092),\n            r = i(8460),\n            n = i(844);\n          var o = /*#__PURE__*/function (_n$Disposable2) {\n            _inherits(o, _n$Disposable2);\n            var _super19 = _createSuper(o);\n            function o(e, t) {\n              var _this59;\n              _classCallCheck(this, o);\n              _this59 = _super19.call(this), _this59._optionsService = e, _this59._bufferService = t, _this59._onBufferActivate = _this59.register(new r.EventEmitter()), _this59.onBufferActivate = _this59._onBufferActivate.event, _this59.reset(), _this59.register(_this59._optionsService.onSpecificOptionChange(\"scrollback\", function () {\n                return _this59.resize(_this59._bufferService.cols, _this59._bufferService.rows);\n              })), _this59.register(_this59._optionsService.onSpecificOptionChange(\"tabStopWidth\", function () {\n                return _this59.setupTabStops();\n              }));\n              return _this59;\n            }\n            _createClass(o, [{\n              key: \"reset\",\n              value: function reset() {\n                this._normal = new s.Buffer(!0, this._optionsService, this._bufferService), this._normal.fillViewportRows(), this._alt = new s.Buffer(!1, this._optionsService, this._bufferService), this._activeBuffer = this._normal, this._onBufferActivate.fire({\n                  activeBuffer: this._normal,\n                  inactiveBuffer: this._alt\n                }), this.setupTabStops();\n              }\n            }, {\n              key: \"alt\",\n              get: function get() {\n                return this._alt;\n              }\n            }, {\n              key: \"active\",\n              get: function get() {\n                return this._activeBuffer;\n              }\n            }, {\n              key: \"normal\",\n              get: function get() {\n                return this._normal;\n              }\n            }, {\n              key: \"activateNormalBuffer\",\n              value: function activateNormalBuffer() {\n                this._activeBuffer !== this._normal && (this._normal.x = this._alt.x, this._normal.y = this._alt.y, this._alt.clearAllMarkers(), this._alt.clear(), this._activeBuffer = this._normal, this._onBufferActivate.fire({\n                  activeBuffer: this._normal,\n                  inactiveBuffer: this._alt\n                }));\n              }\n            }, {\n              key: \"activateAltBuffer\",\n              value: function activateAltBuffer(e) {\n                this._activeBuffer !== this._alt && (this._alt.fillViewportRows(e), this._alt.x = this._normal.x, this._alt.y = this._normal.y, this._activeBuffer = this._alt, this._onBufferActivate.fire({\n                  activeBuffer: this._alt,\n                  inactiveBuffer: this._normal\n                }));\n              }\n            }, {\n              key: \"resize\",\n              value: function resize(e, t) {\n                this._normal.resize(e, t), this._alt.resize(e, t), this.setupTabStops(e);\n              }\n            }, {\n              key: \"setupTabStops\",\n              value: function setupTabStops(e) {\n                this._normal.setupTabStops(e), this._alt.setupTabStops(e);\n              }\n            }]);\n            return o;\n          }(n.Disposable);\n          t.BufferSet = o;\n        },\n        511: function _(e, t, i) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.CellData = void 0;\n          var s = i(482),\n            r = i(643),\n            n = i(3734);\n          var o = /*#__PURE__*/function (_n$AttributeData2) {\n            _inherits(o, _n$AttributeData2);\n            var _super20 = _createSuper(o);\n            function o() {\n              var _this60;\n              _classCallCheck(this, o);\n              _this60 = _super20.apply(this, arguments), _this60.content = 0, _this60.fg = 0, _this60.bg = 0, _this60.extended = new n.ExtendedAttrs(), _this60.combinedData = \"\";\n              return _this60;\n            }\n            _createClass(o, [{\n              key: \"isCombined\",\n              value: function isCombined() {\n                return 2097152 & this.content;\n              }\n            }, {\n              key: \"getWidth\",\n              value: function getWidth() {\n                return this.content >> 22;\n              }\n            }, {\n              key: \"getChars\",\n              value: function getChars() {\n                return 2097152 & this.content ? this.combinedData : 2097151 & this.content ? (0, s.stringFromCodePoint)(2097151 & this.content) : \"\";\n              }\n            }, {\n              key: \"getCode\",\n              value: function getCode() {\n                return this.isCombined() ? this.combinedData.charCodeAt(this.combinedData.length - 1) : 2097151 & this.content;\n              }\n            }, {\n              key: \"setFromCharData\",\n              value: function setFromCharData(e) {\n                this.fg = e[r.CHAR_DATA_ATTR_INDEX], this.bg = 0;\n                var t = !1;\n                if (e[r.CHAR_DATA_CHAR_INDEX].length > 2) t = !0;else if (2 === e[r.CHAR_DATA_CHAR_INDEX].length) {\n                  var _i41 = e[r.CHAR_DATA_CHAR_INDEX].charCodeAt(0);\n                  if (55296 <= _i41 && _i41 <= 56319) {\n                    var _s36 = e[r.CHAR_DATA_CHAR_INDEX].charCodeAt(1);\n                    56320 <= _s36 && _s36 <= 57343 ? this.content = 1024 * (_i41 - 55296) + _s36 - 56320 + 65536 | e[r.CHAR_DATA_WIDTH_INDEX] << 22 : t = !0;\n                  } else t = !0;\n                } else this.content = e[r.CHAR_DATA_CHAR_INDEX].charCodeAt(0) | e[r.CHAR_DATA_WIDTH_INDEX] << 22;\n                t && (this.combinedData = e[r.CHAR_DATA_CHAR_INDEX], this.content = 2097152 | e[r.CHAR_DATA_WIDTH_INDEX] << 22);\n              }\n            }, {\n              key: \"getAsCharData\",\n              value: function getAsCharData() {\n                return [this.fg, this.getChars(), this.getWidth(), this.getCode()];\n              }\n            }], [{\n              key: \"fromCharData\",\n              value: function fromCharData(e) {\n                var t = new o();\n                return t.setFromCharData(e), t;\n              }\n            }]);\n            return o;\n          }(n.AttributeData);\n          t.CellData = o;\n        },\n        643: function _(e, t) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.WHITESPACE_CELL_CODE = t.WHITESPACE_CELL_WIDTH = t.WHITESPACE_CELL_CHAR = t.NULL_CELL_CODE = t.NULL_CELL_WIDTH = t.NULL_CELL_CHAR = t.CHAR_DATA_CODE_INDEX = t.CHAR_DATA_WIDTH_INDEX = t.CHAR_DATA_CHAR_INDEX = t.CHAR_DATA_ATTR_INDEX = t.DEFAULT_EXT = t.DEFAULT_ATTR = t.DEFAULT_COLOR = void 0, t.DEFAULT_COLOR = 0, t.DEFAULT_ATTR = 256 | t.DEFAULT_COLOR << 9, t.DEFAULT_EXT = 0, t.CHAR_DATA_ATTR_INDEX = 0, t.CHAR_DATA_CHAR_INDEX = 1, t.CHAR_DATA_WIDTH_INDEX = 2, t.CHAR_DATA_CODE_INDEX = 3, t.NULL_CELL_CHAR = \"\", t.NULL_CELL_WIDTH = 1, t.NULL_CELL_CODE = 0, t.WHITESPACE_CELL_CHAR = \" \", t.WHITESPACE_CELL_WIDTH = 1, t.WHITESPACE_CELL_CODE = 32;\n        },\n        4863: function _(e, t, i) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.Marker = void 0;\n          var s = i(8460),\n            r = i(844);\n          var n = /*#__PURE__*/function () {\n            function n(e) {\n              _classCallCheck(this, n);\n              this.line = e, this.isDisposed = !1, this._disposables = [], this._id = n._nextId++, this._onDispose = this.register(new s.EventEmitter()), this.onDispose = this._onDispose.event;\n            }\n            _createClass(n, [{\n              key: \"id\",\n              get: function get() {\n                return this._id;\n              }\n            }, {\n              key: \"dispose\",\n              value: function dispose() {\n                this.isDisposed || (this.isDisposed = !0, this.line = -1, this._onDispose.fire(), (0, r.disposeArray)(this._disposables), this._disposables.length = 0);\n              }\n            }, {\n              key: \"register\",\n              value: function register(e) {\n                return this._disposables.push(e), e;\n              }\n            }]);\n            return n;\n          }();\n          t.Marker = n, n._nextId = 1;\n        },\n        7116: function _(e, t) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.DEFAULT_CHARSET = t.CHARSETS = void 0, t.CHARSETS = {}, t.DEFAULT_CHARSET = t.CHARSETS.B, t.CHARSETS[0] = {\n            \"`\": \"\",\n            a: \"\",\n            b: \"\",\n            c: \"\",\n            d: \"\",\n            e: \"\",\n            f: \"\",\n            g: \"\",\n            h: \"\",\n            i: \"\",\n            j: \"\",\n            k: \"\",\n            l: \"\",\n            m: \"\",\n            n: \"\",\n            o: \"\",\n            p: \"\",\n            q: \"\",\n            r: \"\",\n            s: \"\",\n            t: \"\",\n            u: \"\",\n            v: \"\",\n            w: \"\",\n            x: \"\",\n            y: \"\",\n            z: \"\",\n            \"{\": \"\",\n            \"|\": \"\",\n            \"}\": \"\",\n            \"~\": \"\"\n          }, t.CHARSETS.A = {\n            \"#\": \"\"\n          }, t.CHARSETS.B = void 0, t.CHARSETS[4] = {\n            \"#\": \"\",\n            \"@\": \"\",\n            \"[\": \"ij\",\n            \"\\\\\": \"\",\n            \"]\": \"|\",\n            \"{\": \"\",\n            \"|\": \"f\",\n            \"}\": \"\",\n            \"~\": \"\"\n          }, t.CHARSETS.C = t.CHARSETS[5] = {\n            \"[\": \"\",\n            \"\\\\\": \"\",\n            \"]\": \"\",\n            \"^\": \"\",\n            \"`\": \"\",\n            \"{\": \"\",\n            \"|\": \"\",\n            \"}\": \"\",\n            \"~\": \"\"\n          }, t.CHARSETS.R = {\n            \"#\": \"\",\n            \"@\": \"\",\n            \"[\": \"\",\n            \"\\\\\": \"\",\n            \"]\": \"\",\n            \"{\": \"\",\n            \"|\": \"\",\n            \"}\": \"\",\n            \"~\": \"\"\n          }, t.CHARSETS.Q = {\n            \"@\": \"\",\n            \"[\": \"\",\n            \"\\\\\": \"\",\n            \"]\": \"\",\n            \"^\": \"\",\n            \"`\": \"\",\n            \"{\": \"\",\n            \"|\": \"\",\n            \"}\": \"\",\n            \"~\": \"\"\n          }, t.CHARSETS.K = {\n            \"@\": \"\",\n            \"[\": \"\",\n            \"\\\\\": \"\",\n            \"]\": \"\",\n            \"{\": \"\",\n            \"|\": \"\",\n            \"}\": \"\",\n            \"~\": \"\"\n          }, t.CHARSETS.Y = {\n            \"#\": \"\",\n            \"@\": \"\",\n            \"[\": \"\",\n            \"\\\\\": \"\",\n            \"]\": \"\",\n            \"`\": \"\",\n            \"{\": \"\",\n            \"|\": \"\",\n            \"}\": \"\",\n            \"~\": \"\"\n          }, t.CHARSETS.E = t.CHARSETS[6] = {\n            \"@\": \"\",\n            \"[\": \"\",\n            \"\\\\\": \"\",\n            \"]\": \"\",\n            \"^\": \"\",\n            \"`\": \"\",\n            \"{\": \"\",\n            \"|\": \"\",\n            \"}\": \"\",\n            \"~\": \"\"\n          }, t.CHARSETS.Z = {\n            \"#\": \"\",\n            \"@\": \"\",\n            \"[\": \"\",\n            \"\\\\\": \"\",\n            \"]\": \"\",\n            \"{\": \"\",\n            \"|\": \"\",\n            \"}\": \"\"\n          }, t.CHARSETS.H = t.CHARSETS[7] = {\n            \"@\": \"\",\n            \"[\": \"\",\n            \"\\\\\": \"\",\n            \"]\": \"\",\n            \"^\": \"\",\n            \"`\": \"\",\n            \"{\": \"\",\n            \"|\": \"\",\n            \"}\": \"\",\n            \"~\": \"\"\n          }, t.CHARSETS[\"=\"] = {\n            \"#\": \"\",\n            \"@\": \"\",\n            \"[\": \"\",\n            \"\\\\\": \"\",\n            \"]\": \"\",\n            \"^\": \"\",\n            _: \"\",\n            \"`\": \"\",\n            \"{\": \"\",\n            \"|\": \"\",\n            \"}\": \"\",\n            \"~\": \"\"\n          };\n        },\n        2584: function _(e, t) {\n          var i, s;\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.C1_ESCAPED = t.C1 = t.C0 = void 0, function (e) {\n            e.NUL = \"\\0\", e.SOH = \"\u0001\", e.STX = \"\u0002\", e.ETX = \"\u0003\", e.EOT = \"\u0004\", e.ENQ = \"\u0005\", e.ACK = \"\u0006\", e.BEL = \"\u0007\", e.BS = \"\\b\", e.HT = \"\\t\", e.LF = \"\\n\", e.VT = \"\\v\", e.FF = \"\\f\", e.CR = \"\\r\", e.SO = \"\u000e\", e.SI = \"\u000f\", e.DLE = \"\u0010\", e.DC1 = \"\u0011\", e.DC2 = \"\u0012\", e.DC3 = \"\u0013\", e.DC4 = \"\u0014\", e.NAK = \"\u0015\", e.SYN = \"\u0016\", e.ETB = \"\u0017\", e.CAN = \"\u0018\", e.EM = \"\u0019\", e.SUB = \"\u001a\", e.ESC = \"\u001b\", e.FS = \"\u001c\", e.GS = \"\u001d\", e.RS = \"\u001e\", e.US = \"\u001f\", e.SP = \" \", e.DEL = \"\";\n          }(i = t.C0 || (t.C0 = {})), (s = t.C1 || (t.C1 = {})).PAD = \"\", s.HOP = \"\", s.BPH = \"\", s.NBH = \"\", s.IND = \"\", s.NEL = \"\", s.SSA = \"\", s.ESA = \"\", s.HTS = \"\", s.HTJ = \"\", s.VTS = \"\", s.PLD = \"\", s.PLU = \"\", s.RI = \"\", s.SS2 = \"\", s.SS3 = \"\", s.DCS = \"\", s.PU1 = \"\", s.PU2 = \"\", s.STS = \"\", s.CCH = \"\", s.MW = \"\", s.SPA = \"\", s.EPA = \"\", s.SOS = \"\", s.SGCI = \"\", s.SCI = \"\", s.CSI = \"\", s.ST = \"\", s.OSC = \"\", s.PM = \"\", s.APC = \"\", (t.C1_ESCAPED || (t.C1_ESCAPED = {})).ST = \"\".concat(i.ESC, \"\\\\\");\n        },\n        7399: function _(e, t, i) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.evaluateKeyboardEvent = void 0;\n          var s = i(2584),\n            r = {\n              48: [\"0\", \")\"],\n              49: [\"1\", \"!\"],\n              50: [\"2\", \"@\"],\n              51: [\"3\", \"#\"],\n              52: [\"4\", \"$\"],\n              53: [\"5\", \"%\"],\n              54: [\"6\", \"^\"],\n              55: [\"7\", \"&\"],\n              56: [\"8\", \"*\"],\n              57: [\"9\", \"(\"],\n              186: [\";\", \":\"],\n              187: [\"=\", \"+\"],\n              188: [\",\", \"<\"],\n              189: [\"-\", \"_\"],\n              190: [\".\", \">\"],\n              191: [\"/\", \"?\"],\n              192: [\"`\", \"~\"],\n              219: [\"[\", \"{\"],\n              220: [\"\\\\\", \"|\"],\n              221: [\"]\", \"}\"],\n              222: [\"'\", '\"']\n            };\n          t.evaluateKeyboardEvent = function (e, t, i, n) {\n            var o = {\n                type: 0,\n                cancel: !1,\n                key: void 0\n              },\n              a = (e.shiftKey ? 1 : 0) | (e.altKey ? 2 : 0) | (e.ctrlKey ? 4 : 0) | (e.metaKey ? 8 : 0);\n            switch (e.keyCode) {\n              case 0:\n                \"UIKeyInputUpArrow\" === e.key ? o.key = t ? s.C0.ESC + \"OA\" : s.C0.ESC + \"[A\" : \"UIKeyInputLeftArrow\" === e.key ? o.key = t ? s.C0.ESC + \"OD\" : s.C0.ESC + \"[D\" : \"UIKeyInputRightArrow\" === e.key ? o.key = t ? s.C0.ESC + \"OC\" : s.C0.ESC + \"[C\" : \"UIKeyInputDownArrow\" === e.key && (o.key = t ? s.C0.ESC + \"OB\" : s.C0.ESC + \"[B\");\n                break;\n              case 8:\n                if (e.altKey) {\n                  o.key = s.C0.ESC + s.C0.DEL;\n                  break;\n                }\n                o.key = s.C0.DEL;\n                break;\n              case 9:\n                if (e.shiftKey) {\n                  o.key = s.C0.ESC + \"[Z\";\n                  break;\n                }\n                o.key = s.C0.HT, o.cancel = !0;\n                break;\n              case 13:\n                o.key = e.altKey ? s.C0.ESC + s.C0.CR : s.C0.CR, o.cancel = !0;\n                break;\n              case 27:\n                o.key = s.C0.ESC, e.altKey && (o.key = s.C0.ESC + s.C0.ESC), o.cancel = !0;\n                break;\n              case 37:\n                if (e.metaKey) break;\n                a ? (o.key = s.C0.ESC + \"[1;\" + (a + 1) + \"D\", o.key === s.C0.ESC + \"[1;3D\" && (o.key = s.C0.ESC + (i ? \"b\" : \"[1;5D\"))) : o.key = t ? s.C0.ESC + \"OD\" : s.C0.ESC + \"[D\";\n                break;\n              case 39:\n                if (e.metaKey) break;\n                a ? (o.key = s.C0.ESC + \"[1;\" + (a + 1) + \"C\", o.key === s.C0.ESC + \"[1;3C\" && (o.key = s.C0.ESC + (i ? \"f\" : \"[1;5C\"))) : o.key = t ? s.C0.ESC + \"OC\" : s.C0.ESC + \"[C\";\n                break;\n              case 38:\n                if (e.metaKey) break;\n                a ? (o.key = s.C0.ESC + \"[1;\" + (a + 1) + \"A\", i || o.key !== s.C0.ESC + \"[1;3A\" || (o.key = s.C0.ESC + \"[1;5A\")) : o.key = t ? s.C0.ESC + \"OA\" : s.C0.ESC + \"[A\";\n                break;\n              case 40:\n                if (e.metaKey) break;\n                a ? (o.key = s.C0.ESC + \"[1;\" + (a + 1) + \"B\", i || o.key !== s.C0.ESC + \"[1;3B\" || (o.key = s.C0.ESC + \"[1;5B\")) : o.key = t ? s.C0.ESC + \"OB\" : s.C0.ESC + \"[B\";\n                break;\n              case 45:\n                e.shiftKey || e.ctrlKey || (o.key = s.C0.ESC + \"[2~\");\n                break;\n              case 46:\n                o.key = a ? s.C0.ESC + \"[3;\" + (a + 1) + \"~\" : s.C0.ESC + \"[3~\";\n                break;\n              case 36:\n                o.key = a ? s.C0.ESC + \"[1;\" + (a + 1) + \"H\" : t ? s.C0.ESC + \"OH\" : s.C0.ESC + \"[H\";\n                break;\n              case 35:\n                o.key = a ? s.C0.ESC + \"[1;\" + (a + 1) + \"F\" : t ? s.C0.ESC + \"OF\" : s.C0.ESC + \"[F\";\n                break;\n              case 33:\n                e.shiftKey ? o.type = 2 : e.ctrlKey ? o.key = s.C0.ESC + \"[5;\" + (a + 1) + \"~\" : o.key = s.C0.ESC + \"[5~\";\n                break;\n              case 34:\n                e.shiftKey ? o.type = 3 : e.ctrlKey ? o.key = s.C0.ESC + \"[6;\" + (a + 1) + \"~\" : o.key = s.C0.ESC + \"[6~\";\n                break;\n              case 112:\n                o.key = a ? s.C0.ESC + \"[1;\" + (a + 1) + \"P\" : s.C0.ESC + \"OP\";\n                break;\n              case 113:\n                o.key = a ? s.C0.ESC + \"[1;\" + (a + 1) + \"Q\" : s.C0.ESC + \"OQ\";\n                break;\n              case 114:\n                o.key = a ? s.C0.ESC + \"[1;\" + (a + 1) + \"R\" : s.C0.ESC + \"OR\";\n                break;\n              case 115:\n                o.key = a ? s.C0.ESC + \"[1;\" + (a + 1) + \"S\" : s.C0.ESC + \"OS\";\n                break;\n              case 116:\n                o.key = a ? s.C0.ESC + \"[15;\" + (a + 1) + \"~\" : s.C0.ESC + \"[15~\";\n                break;\n              case 117:\n                o.key = a ? s.C0.ESC + \"[17;\" + (a + 1) + \"~\" : s.C0.ESC + \"[17~\";\n                break;\n              case 118:\n                o.key = a ? s.C0.ESC + \"[18;\" + (a + 1) + \"~\" : s.C0.ESC + \"[18~\";\n                break;\n              case 119:\n                o.key = a ? s.C0.ESC + \"[19;\" + (a + 1) + \"~\" : s.C0.ESC + \"[19~\";\n                break;\n              case 120:\n                o.key = a ? s.C0.ESC + \"[20;\" + (a + 1) + \"~\" : s.C0.ESC + \"[20~\";\n                break;\n              case 121:\n                o.key = a ? s.C0.ESC + \"[21;\" + (a + 1) + \"~\" : s.C0.ESC + \"[21~\";\n                break;\n              case 122:\n                o.key = a ? s.C0.ESC + \"[23;\" + (a + 1) + \"~\" : s.C0.ESC + \"[23~\";\n                break;\n              case 123:\n                o.key = a ? s.C0.ESC + \"[24;\" + (a + 1) + \"~\" : s.C0.ESC + \"[24~\";\n                break;\n              default:\n                if (!e.ctrlKey || e.shiftKey || e.altKey || e.metaKey) {\n                  if (i && !n || !e.altKey || e.metaKey) !i || e.altKey || e.ctrlKey || e.shiftKey || !e.metaKey ? e.key && !e.ctrlKey && !e.altKey && !e.metaKey && e.keyCode >= 48 && 1 === e.key.length ? o.key = e.key : e.key && e.ctrlKey && (\"_\" === e.key && (o.key = s.C0.US), \"@\" === e.key && (o.key = s.C0.NUL)) : 65 === e.keyCode && (o.type = 1);else {\n                    var _t72 = r[e.keyCode],\n                      _i42 = null == _t72 ? void 0 : _t72[e.shiftKey ? 1 : 0];\n                    if (_i42) o.key = s.C0.ESC + _i42;else if (e.keyCode >= 65 && e.keyCode <= 90) {\n                      var _t73 = e.ctrlKey ? e.keyCode - 64 : e.keyCode + 32;\n                      var _i43 = String.fromCharCode(_t73);\n                      e.shiftKey && (_i43 = _i43.toUpperCase()), o.key = s.C0.ESC + _i43;\n                    } else if (32 === e.keyCode) o.key = s.C0.ESC + (e.ctrlKey ? s.C0.NUL : \" \");else if (\"Dead\" === e.key && e.code.startsWith(\"Key\")) {\n                      var _t74 = e.code.slice(3, 4);\n                      e.shiftKey || (_t74 = _t74.toLowerCase()), o.key = s.C0.ESC + _t74, o.cancel = !0;\n                    }\n                  }\n                } else e.keyCode >= 65 && e.keyCode <= 90 ? o.key = String.fromCharCode(e.keyCode - 64) : 32 === e.keyCode ? o.key = s.C0.NUL : e.keyCode >= 51 && e.keyCode <= 55 ? o.key = String.fromCharCode(e.keyCode - 51 + 27) : 56 === e.keyCode ? o.key = s.C0.DEL : 219 === e.keyCode ? o.key = s.C0.ESC : 220 === e.keyCode ? o.key = s.C0.FS : 221 === e.keyCode && (o.key = s.C0.GS);\n            }\n            return o;\n          };\n        },\n        482: function _(e, t) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.Utf8ToUtf32 = t.StringToUtf32 = t.utf32ToString = t.stringFromCodePoint = void 0, t.stringFromCodePoint = function (e) {\n            return e > 65535 ? (e -= 65536, String.fromCharCode(55296 + (e >> 10)) + String.fromCharCode(e % 1024 + 56320)) : String.fromCharCode(e);\n          }, t.utf32ToString = function (e) {\n            var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n            var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : e.length;\n            var s = \"\";\n            for (var r = t; r < i; ++r) {\n              var _t75 = e[r];\n              _t75 > 65535 ? (_t75 -= 65536, s += String.fromCharCode(55296 + (_t75 >> 10)) + String.fromCharCode(_t75 % 1024 + 56320)) : s += String.fromCharCode(_t75);\n            }\n            return s;\n          }, t.StringToUtf32 = /*#__PURE__*/function () {\n            function _class14() {\n              _classCallCheck(this, _class14);\n              this._interim = 0;\n            }\n            _createClass(_class14, [{\n              key: \"clear\",\n              value: function clear() {\n                this._interim = 0;\n              }\n            }, {\n              key: \"decode\",\n              value: function decode(e, t) {\n                var i = e.length;\n                if (!i) return 0;\n                var s = 0,\n                  r = 0;\n                if (this._interim) {\n                  var _i44 = e.charCodeAt(r++);\n                  56320 <= _i44 && _i44 <= 57343 ? t[s++] = 1024 * (this._interim - 55296) + _i44 - 56320 + 65536 : (t[s++] = this._interim, t[s++] = _i44), this._interim = 0;\n                }\n                for (var n = r; n < i; ++n) {\n                  var _r23 = e.charCodeAt(n);\n                  if (55296 <= _r23 && _r23 <= 56319) {\n                    if (++n >= i) return this._interim = _r23, s;\n                    var o = e.charCodeAt(n);\n                    56320 <= o && o <= 57343 ? t[s++] = 1024 * (_r23 - 55296) + o - 56320 + 65536 : (t[s++] = _r23, t[s++] = o);\n                  } else 65279 !== _r23 && (t[s++] = _r23);\n                }\n                return s;\n              }\n            }]);\n            return _class14;\n          }(), t.Utf8ToUtf32 = /*#__PURE__*/function () {\n            function _class15() {\n              _classCallCheck(this, _class15);\n              this.interim = new Uint8Array(3);\n            }\n            _createClass(_class15, [{\n              key: \"clear\",\n              value: function clear() {\n                this.interim.fill(0);\n              }\n            }, {\n              key: \"decode\",\n              value: function decode(e, t) {\n                var i = e.length;\n                if (!i) return 0;\n                var s,\n                  r,\n                  n,\n                  o,\n                  a = 0,\n                  h = 0,\n                  c = 0;\n                if (this.interim[0]) {\n                  var _s37 = !1,\n                    _r24 = this.interim[0];\n                  _r24 &= 192 == (224 & _r24) ? 31 : 224 == (240 & _r24) ? 15 : 7;\n                  var _n9,\n                    _o11 = 0;\n                  for (; (_n9 = 63 & this.interim[++_o11]) && _o11 < 4;) _r24 <<= 6, _r24 |= _n9;\n                  var _h7 = 192 == (224 & this.interim[0]) ? 2 : 224 == (240 & this.interim[0]) ? 3 : 4,\n                    _l3 = _h7 - _o11;\n                  for (; c < _l3;) {\n                    if (c >= i) return 0;\n                    if (_n9 = e[c++], 128 != (192 & _n9)) {\n                      c--, _s37 = !0;\n                      break;\n                    }\n                    this.interim[_o11++] = _n9, _r24 <<= 6, _r24 |= 63 & _n9;\n                  }\n                  _s37 || (2 === _h7 ? _r24 < 128 ? c-- : t[a++] = _r24 : 3 === _h7 ? _r24 < 2048 || _r24 >= 55296 && _r24 <= 57343 || 65279 === _r24 || (t[a++] = _r24) : _r24 < 65536 || _r24 > 1114111 || (t[a++] = _r24)), this.interim.fill(0);\n                }\n                var l = i - 4;\n                var d = c;\n                for (; d < i;) {\n                  for (; !(!(d < l) || 128 & (s = e[d]) || 128 & (r = e[d + 1]) || 128 & (n = e[d + 2]) || 128 & (o = e[d + 3]));) t[a++] = s, t[a++] = r, t[a++] = n, t[a++] = o, d += 4;\n                  if (s = e[d++], s < 128) t[a++] = s;else if (192 == (224 & s)) {\n                    if (d >= i) return this.interim[0] = s, a;\n                    if (r = e[d++], 128 != (192 & r)) {\n                      d--;\n                      continue;\n                    }\n                    if (h = (31 & s) << 6 | 63 & r, h < 128) {\n                      d--;\n                      continue;\n                    }\n                    t[a++] = h;\n                  } else if (224 == (240 & s)) {\n                    if (d >= i) return this.interim[0] = s, a;\n                    if (r = e[d++], 128 != (192 & r)) {\n                      d--;\n                      continue;\n                    }\n                    if (d >= i) return this.interim[0] = s, this.interim[1] = r, a;\n                    if (n = e[d++], 128 != (192 & n)) {\n                      d--;\n                      continue;\n                    }\n                    if (h = (15 & s) << 12 | (63 & r) << 6 | 63 & n, h < 2048 || h >= 55296 && h <= 57343 || 65279 === h) continue;\n                    t[a++] = h;\n                  } else if (240 == (248 & s)) {\n                    if (d >= i) return this.interim[0] = s, a;\n                    if (r = e[d++], 128 != (192 & r)) {\n                      d--;\n                      continue;\n                    }\n                    if (d >= i) return this.interim[0] = s, this.interim[1] = r, a;\n                    if (n = e[d++], 128 != (192 & n)) {\n                      d--;\n                      continue;\n                    }\n                    if (d >= i) return this.interim[0] = s, this.interim[1] = r, this.interim[2] = n, a;\n                    if (o = e[d++], 128 != (192 & o)) {\n                      d--;\n                      continue;\n                    }\n                    if (h = (7 & s) << 18 | (63 & r) << 12 | (63 & n) << 6 | 63 & o, h < 65536 || h > 1114111) continue;\n                    t[a++] = h;\n                  }\n                }\n                return a;\n              }\n            }]);\n            return _class15;\n          }();\n        },\n        225: function _(e, t) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.UnicodeV6 = void 0;\n          var i = [[768, 879], [1155, 1158], [1160, 1161], [1425, 1469], [1471, 1471], [1473, 1474], [1476, 1477], [1479, 1479], [1536, 1539], [1552, 1557], [1611, 1630], [1648, 1648], [1750, 1764], [1767, 1768], [1770, 1773], [1807, 1807], [1809, 1809], [1840, 1866], [1958, 1968], [2027, 2035], [2305, 2306], [2364, 2364], [2369, 2376], [2381, 2381], [2385, 2388], [2402, 2403], [2433, 2433], [2492, 2492], [2497, 2500], [2509, 2509], [2530, 2531], [2561, 2562], [2620, 2620], [2625, 2626], [2631, 2632], [2635, 2637], [2672, 2673], [2689, 2690], [2748, 2748], [2753, 2757], [2759, 2760], [2765, 2765], [2786, 2787], [2817, 2817], [2876, 2876], [2879, 2879], [2881, 2883], [2893, 2893], [2902, 2902], [2946, 2946], [3008, 3008], [3021, 3021], [3134, 3136], [3142, 3144], [3146, 3149], [3157, 3158], [3260, 3260], [3263, 3263], [3270, 3270], [3276, 3277], [3298, 3299], [3393, 3395], [3405, 3405], [3530, 3530], [3538, 3540], [3542, 3542], [3633, 3633], [3636, 3642], [3655, 3662], [3761, 3761], [3764, 3769], [3771, 3772], [3784, 3789], [3864, 3865], [3893, 3893], [3895, 3895], [3897, 3897], [3953, 3966], [3968, 3972], [3974, 3975], [3984, 3991], [3993, 4028], [4038, 4038], [4141, 4144], [4146, 4146], [4150, 4151], [4153, 4153], [4184, 4185], [4448, 4607], [4959, 4959], [5906, 5908], [5938, 5940], [5970, 5971], [6002, 6003], [6068, 6069], [6071, 6077], [6086, 6086], [6089, 6099], [6109, 6109], [6155, 6157], [6313, 6313], [6432, 6434], [6439, 6440], [6450, 6450], [6457, 6459], [6679, 6680], [6912, 6915], [6964, 6964], [6966, 6970], [6972, 6972], [6978, 6978], [7019, 7027], [7616, 7626], [7678, 7679], [8203, 8207], [8234, 8238], [8288, 8291], [8298, 8303], [8400, 8431], [12330, 12335], [12441, 12442], [43014, 43014], [43019, 43019], [43045, 43046], [64286, 64286], [65024, 65039], [65056, 65059], [65279, 65279], [65529, 65531]],\n            s = [[68097, 68099], [68101, 68102], [68108, 68111], [68152, 68154], [68159, 68159], [119143, 119145], [119155, 119170], [119173, 119179], [119210, 119213], [119362, 119364], [917505, 917505], [917536, 917631], [917760, 917999]];\n          var r;\n          t.UnicodeV6 = /*#__PURE__*/function () {\n            function _class16() {\n              _classCallCheck(this, _class16);\n              if (this.version = \"6\", !r) {\n                r = new Uint8Array(65536), r.fill(1), r[0] = 0, r.fill(0, 1, 32), r.fill(0, 127, 160), r.fill(2, 4352, 4448), r[9001] = 2, r[9002] = 2, r.fill(2, 11904, 42192), r[12351] = 1, r.fill(2, 44032, 55204), r.fill(2, 63744, 64256), r.fill(2, 65040, 65050), r.fill(2, 65072, 65136), r.fill(2, 65280, 65377), r.fill(2, 65504, 65511);\n                for (var _e105 = 0; _e105 < i.length; ++_e105) r.fill(0, i[_e105][0], i[_e105][1] + 1);\n              }\n            }\n            _createClass(_class16, [{\n              key: \"wcwidth\",\n              value: function wcwidth(e) {\n                return e < 32 ? 0 : e < 127 ? 1 : e < 65536 ? r[e] : function (e, t) {\n                  var i,\n                    s = 0,\n                    r = t.length - 1;\n                  if (e < t[0][0] || e > t[r][1]) return !1;\n                  for (; r >= s;) if (i = s + r >> 1, e > t[i][1]) s = i + 1;else {\n                    if (!(e < t[i][0])) return !0;\n                    r = i - 1;\n                  }\n                  return !1;\n                }(e, s) ? 0 : e >= 131072 && e <= 196605 || e >= 196608 && e <= 262141 ? 2 : 1;\n              }\n            }]);\n            return _class16;\n          }();\n        },\n        5981: function _(e, t, i) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.WriteBuffer = void 0;\n          var s = i(8460),\n            r = i(844);\n          var n = /*#__PURE__*/function (_r$Disposable2) {\n            _inherits(n, _r$Disposable2);\n            var _super21 = _createSuper(n);\n            function n(e) {\n              var _this61;\n              _classCallCheck(this, n);\n              _this61 = _super21.call(this), _this61._action = e, _this61._writeBuffer = [], _this61._callbacks = [], _this61._pendingData = 0, _this61._bufferOffset = 0, _this61._isSyncWriting = !1, _this61._syncCalls = 0, _this61._didUserInput = !1, _this61._onWriteParsed = _this61.register(new s.EventEmitter()), _this61.onWriteParsed = _this61._onWriteParsed.event;\n              return _this61;\n            }\n            _createClass(n, [{\n              key: \"handleUserInput\",\n              value: function handleUserInput() {\n                this._didUserInput = !0;\n              }\n            }, {\n              key: \"writeSync\",\n              value: function writeSync(e, t) {\n                if (void 0 !== t && this._syncCalls > t) return void (this._syncCalls = 0);\n                if (this._pendingData += e.length, this._writeBuffer.push(e), this._callbacks.push(void 0), this._syncCalls++, this._isSyncWriting) return;\n                var i;\n                for (this._isSyncWriting = !0; i = this._writeBuffer.shift();) {\n                  this._action(i);\n                  var _e106 = this._callbacks.shift();\n                  _e106 && _e106();\n                }\n                this._pendingData = 0, this._bufferOffset = 2147483647, this._isSyncWriting = !1, this._syncCalls = 0;\n              }\n            }, {\n              key: \"write\",\n              value: function write(e, t) {\n                var _this62 = this;\n                if (this._pendingData > 5e7) throw new Error(\"write data discarded, use flow control to avoid losing data\");\n                if (!this._writeBuffer.length) {\n                  if (this._bufferOffset = 0, this._didUserInput) return this._didUserInput = !1, this._pendingData += e.length, this._writeBuffer.push(e), this._callbacks.push(t), void this._innerWrite();\n                  setTimeout(function () {\n                    return _this62._innerWrite();\n                  });\n                }\n                this._pendingData += e.length, this._writeBuffer.push(e), this._callbacks.push(t);\n              }\n            }, {\n              key: \"_innerWrite\",\n              value: function _innerWrite() {\n                var _this63 = this;\n                var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n                var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !0;\n                var i = e || Date.now();\n                for (; this._writeBuffer.length > this._bufferOffset;) {\n                  var _e107 = this._writeBuffer[this._bufferOffset],\n                    _s38 = this._action(_e107, t);\n                  if (_s38) {\n                    var _e108 = function _e108(e) {\n                      return Date.now() - i >= 12 ? setTimeout(function () {\n                        return _this63._innerWrite(0, e);\n                      }) : _this63._innerWrite(i, e);\n                    };\n                    return void _s38.catch(function (e) {\n                      return queueMicrotask(function () {\n                        throw e;\n                      }), Promise.resolve(!1);\n                    }).then(_e108);\n                  }\n                  var _r25 = this._callbacks[this._bufferOffset];\n                  if (_r25 && _r25(), this._bufferOffset++, this._pendingData -= _e107.length, Date.now() - i >= 12) break;\n                }\n                this._writeBuffer.length > this._bufferOffset ? (this._bufferOffset > 50 && (this._writeBuffer = this._writeBuffer.slice(this._bufferOffset), this._callbacks = this._callbacks.slice(this._bufferOffset), this._bufferOffset = 0), setTimeout(function () {\n                  return _this63._innerWrite();\n                })) : (this._writeBuffer.length = 0, this._callbacks.length = 0, this._pendingData = 0, this._bufferOffset = 0), this._onWriteParsed.fire();\n              }\n            }]);\n            return n;\n          }(r.Disposable);\n          t.WriteBuffer = n;\n        },\n        5941: function _(e, t) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.toRgbString = t.parseColor = void 0;\n          var i = /^([\\da-f])\\/([\\da-f])\\/([\\da-f])$|^([\\da-f]{2})\\/([\\da-f]{2})\\/([\\da-f]{2})$|^([\\da-f]{3})\\/([\\da-f]{3})\\/([\\da-f]{3})$|^([\\da-f]{4})\\/([\\da-f]{4})\\/([\\da-f]{4})$/,\n            s = /^[\\da-f]+$/;\n          function r(e, t) {\n            var i = e.toString(16),\n              s = i.length < 2 ? \"0\" + i : i;\n            switch (t) {\n              case 4:\n                return i[0];\n              case 8:\n                return s;\n              case 12:\n                return (s + s).slice(0, 3);\n              default:\n                return s + s;\n            }\n          }\n          t.parseColor = function (e) {\n            if (!e) return;\n            var t = e.toLowerCase();\n            if (0 === t.indexOf(\"rgb:\")) {\n              t = t.slice(4);\n              var _e109 = i.exec(t);\n              if (_e109) {\n                var _t76 = _e109[1] ? 15 : _e109[4] ? 255 : _e109[7] ? 4095 : 65535;\n                return [Math.round(parseInt(_e109[1] || _e109[4] || _e109[7] || _e109[10], 16) / _t76 * 255), Math.round(parseInt(_e109[2] || _e109[5] || _e109[8] || _e109[11], 16) / _t76 * 255), Math.round(parseInt(_e109[3] || _e109[6] || _e109[9] || _e109[12], 16) / _t76 * 255)];\n              }\n            } else if (0 === t.indexOf(\"#\") && (t = t.slice(1), s.exec(t) && [3, 6, 9, 12].includes(t.length))) {\n              var _e110 = t.length / 3,\n                _i45 = [0, 0, 0];\n              for (var _s39 = 0; _s39 < 3; ++_s39) {\n                var _r26 = parseInt(t.slice(_e110 * _s39, _e110 * _s39 + _e110), 16);\n                _i45[_s39] = 1 === _e110 ? _r26 << 4 : 2 === _e110 ? _r26 : 3 === _e110 ? _r26 >> 4 : _r26 >> 8;\n              }\n              return _i45;\n            }\n          }, t.toRgbString = function (e) {\n            var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 16;\n            var _e111 = _slicedToArray(e, 3),\n              i = _e111[0],\n              s = _e111[1],\n              n = _e111[2];\n            return \"rgb:\".concat(r(i, t), \"/\").concat(r(s, t), \"/\").concat(r(n, t));\n          };\n        },\n        5770: function _(e, t) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.PAYLOAD_LIMIT = void 0, t.PAYLOAD_LIMIT = 1e7;\n        },\n        6351: function _(e, t, i) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.DcsHandler = t.DcsParser = void 0;\n          var s = i(482),\n            r = i(8742),\n            n = i(5770),\n            o = [];\n          t.DcsParser = /*#__PURE__*/function () {\n            function _class17() {\n              _classCallCheck(this, _class17);\n              this._handlers = Object.create(null), this._active = o, this._ident = 0, this._handlerFb = function () {}, this._stack = {\n                paused: !1,\n                loopPosition: 0,\n                fallThrough: !1\n              };\n            }\n            _createClass(_class17, [{\n              key: \"dispose\",\n              value: function dispose() {\n                this._handlers = Object.create(null), this._handlerFb = function () {}, this._active = o;\n              }\n            }, {\n              key: \"registerHandler\",\n              value: function registerHandler(e, t) {\n                void 0 === this._handlers[e] && (this._handlers[e] = []);\n                var i = this._handlers[e];\n                return i.push(t), {\n                  dispose: function dispose() {\n                    var e = i.indexOf(t);\n                    -1 !== e && i.splice(e, 1);\n                  }\n                };\n              }\n            }, {\n              key: \"clearHandler\",\n              value: function clearHandler(e) {\n                this._handlers[e] && delete this._handlers[e];\n              }\n            }, {\n              key: \"setHandlerFallback\",\n              value: function setHandlerFallback(e) {\n                this._handlerFb = e;\n              }\n            }, {\n              key: \"reset\",\n              value: function reset() {\n                if (this._active.length) for (var _e112 = this._stack.paused ? this._stack.loopPosition - 1 : this._active.length - 1; _e112 >= 0; --_e112) this._active[_e112].unhook(!1);\n                this._stack.paused = !1, this._active = o, this._ident = 0;\n              }\n            }, {\n              key: \"hook\",\n              value: function hook(e, t) {\n                if (this.reset(), this._ident = e, this._active = this._handlers[e] || o, this._active.length) for (var _e113 = this._active.length - 1; _e113 >= 0; _e113--) this._active[_e113].hook(t);else this._handlerFb(this._ident, \"HOOK\", t);\n              }\n            }, {\n              key: \"put\",\n              value: function put(e, t, i) {\n                if (this._active.length) for (var _s40 = this._active.length - 1; _s40 >= 0; _s40--) this._active[_s40].put(e, t, i);else this._handlerFb(this._ident, \"PUT\", (0, s.utf32ToString)(e, t, i));\n              }\n            }, {\n              key: \"unhook\",\n              value: function unhook(e) {\n                var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !0;\n                if (this._active.length) {\n                  var _i46 = !1,\n                    _s41 = this._active.length - 1,\n                    _r27 = !1;\n                  if (this._stack.paused && (_s41 = this._stack.loopPosition - 1, _i46 = t, _r27 = this._stack.fallThrough, this._stack.paused = !1), !_r27 && !1 === _i46) {\n                    for (; _s41 >= 0 && (_i46 = this._active[_s41].unhook(e), !0 !== _i46); _s41--) if (_i46 instanceof Promise) return this._stack.paused = !0, this._stack.loopPosition = _s41, this._stack.fallThrough = !1, _i46;\n                    _s41--;\n                  }\n                  for (; _s41 >= 0; _s41--) if (_i46 = this._active[_s41].unhook(!1), _i46 instanceof Promise) return this._stack.paused = !0, this._stack.loopPosition = _s41, this._stack.fallThrough = !0, _i46;\n                } else this._handlerFb(this._ident, \"UNHOOK\", e);\n                this._active = o, this._ident = 0;\n              }\n            }]);\n            return _class17;\n          }();\n          var a = new r.Params();\n          a.addParam(0), t.DcsHandler = /*#__PURE__*/function () {\n            function _class18(e) {\n              _classCallCheck(this, _class18);\n              this._handler = e, this._data = \"\", this._params = a, this._hitLimit = !1;\n            }\n            _createClass(_class18, [{\n              key: \"hook\",\n              value: function hook(e) {\n                this._params = e.length > 1 || e.params[0] ? e.clone() : a, this._data = \"\", this._hitLimit = !1;\n              }\n            }, {\n              key: \"put\",\n              value: function put(e, t, i) {\n                this._hitLimit || (this._data += (0, s.utf32ToString)(e, t, i), this._data.length > n.PAYLOAD_LIMIT && (this._data = \"\", this._hitLimit = !0));\n              }\n            }, {\n              key: \"unhook\",\n              value: function unhook(e) {\n                var _this64 = this;\n                var t = !1;\n                if (this._hitLimit) t = !1;else if (e && (t = this._handler(this._data, this._params), t instanceof Promise)) return t.then(function (e) {\n                  return _this64._params = a, _this64._data = \"\", _this64._hitLimit = !1, e;\n                });\n                return this._params = a, this._data = \"\", this._hitLimit = !1, t;\n              }\n            }]);\n            return _class18;\n          }();\n        },\n        2015: function _(e, t, i) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.EscapeSequenceParser = t.VT500_TRANSITION_TABLE = t.TransitionTable = void 0;\n          var s = i(844),\n            r = i(8742),\n            n = i(6242),\n            o = i(6351);\n          var a = /*#__PURE__*/function () {\n            function a(e) {\n              _classCallCheck(this, a);\n              this.table = new Uint8Array(e);\n            }\n            _createClass(a, [{\n              key: \"setDefault\",\n              value: function setDefault(e, t) {\n                this.table.fill(e << 4 | t);\n              }\n            }, {\n              key: \"add\",\n              value: function add(e, t, i, s) {\n                this.table[t << 8 | e] = i << 4 | s;\n              }\n            }, {\n              key: \"addMany\",\n              value: function addMany(e, t, i, s) {\n                for (var _r28 = 0; _r28 < e.length; _r28++) this.table[t << 8 | e[_r28]] = i << 4 | s;\n              }\n            }]);\n            return a;\n          }();\n          t.TransitionTable = a;\n          var h = 160;\n          t.VT500_TRANSITION_TABLE = function () {\n            var e = new a(4095),\n              t = Array.apply(null, Array(256)).map(function (e, t) {\n                return t;\n              }),\n              i = function i(e, _i47) {\n                return t.slice(e, _i47);\n              },\n              s = i(32, 127),\n              r = i(0, 24);\n            r.push(25), r.push.apply(r, i(28, 32));\n            var n = i(0, 14);\n            var o;\n            for (o in e.setDefault(1, 0), e.addMany(s, 0, 2, 0), n) e.addMany([24, 26, 153, 154], o, 3, 0), e.addMany(i(128, 144), o, 3, 0), e.addMany(i(144, 152), o, 3, 0), e.add(156, o, 0, 0), e.add(27, o, 11, 1), e.add(157, o, 4, 8), e.addMany([152, 158, 159], o, 0, 7), e.add(155, o, 11, 3), e.add(144, o, 11, 9);\n            return e.addMany(r, 0, 3, 0), e.addMany(r, 1, 3, 1), e.add(127, 1, 0, 1), e.addMany(r, 8, 0, 8), e.addMany(r, 3, 3, 3), e.add(127, 3, 0, 3), e.addMany(r, 4, 3, 4), e.add(127, 4, 0, 4), e.addMany(r, 6, 3, 6), e.addMany(r, 5, 3, 5), e.add(127, 5, 0, 5), e.addMany(r, 2, 3, 2), e.add(127, 2, 0, 2), e.add(93, 1, 4, 8), e.addMany(s, 8, 5, 8), e.add(127, 8, 5, 8), e.addMany([156, 27, 24, 26, 7], 8, 6, 0), e.addMany(i(28, 32), 8, 0, 8), e.addMany([88, 94, 95], 1, 0, 7), e.addMany(s, 7, 0, 7), e.addMany(r, 7, 0, 7), e.add(156, 7, 0, 0), e.add(127, 7, 0, 7), e.add(91, 1, 11, 3), e.addMany(i(64, 127), 3, 7, 0), e.addMany(i(48, 60), 3, 8, 4), e.addMany([60, 61, 62, 63], 3, 9, 4), e.addMany(i(48, 60), 4, 8, 4), e.addMany(i(64, 127), 4, 7, 0), e.addMany([60, 61, 62, 63], 4, 0, 6), e.addMany(i(32, 64), 6, 0, 6), e.add(127, 6, 0, 6), e.addMany(i(64, 127), 6, 0, 0), e.addMany(i(32, 48), 3, 9, 5), e.addMany(i(32, 48), 5, 9, 5), e.addMany(i(48, 64), 5, 0, 6), e.addMany(i(64, 127), 5, 7, 0), e.addMany(i(32, 48), 4, 9, 5), e.addMany(i(32, 48), 1, 9, 2), e.addMany(i(32, 48), 2, 9, 2), e.addMany(i(48, 127), 2, 10, 0), e.addMany(i(48, 80), 1, 10, 0), e.addMany(i(81, 88), 1, 10, 0), e.addMany([89, 90, 92], 1, 10, 0), e.addMany(i(96, 127), 1, 10, 0), e.add(80, 1, 11, 9), e.addMany(r, 9, 0, 9), e.add(127, 9, 0, 9), e.addMany(i(28, 32), 9, 0, 9), e.addMany(i(32, 48), 9, 9, 12), e.addMany(i(48, 60), 9, 8, 10), e.addMany([60, 61, 62, 63], 9, 9, 10), e.addMany(r, 11, 0, 11), e.addMany(i(32, 128), 11, 0, 11), e.addMany(i(28, 32), 11, 0, 11), e.addMany(r, 10, 0, 10), e.add(127, 10, 0, 10), e.addMany(i(28, 32), 10, 0, 10), e.addMany(i(48, 60), 10, 8, 10), e.addMany([60, 61, 62, 63], 10, 0, 11), e.addMany(i(32, 48), 10, 9, 12), e.addMany(r, 12, 0, 12), e.add(127, 12, 0, 12), e.addMany(i(28, 32), 12, 0, 12), e.addMany(i(32, 48), 12, 9, 12), e.addMany(i(48, 64), 12, 0, 11), e.addMany(i(64, 127), 12, 12, 13), e.addMany(i(64, 127), 10, 12, 13), e.addMany(i(64, 127), 9, 12, 13), e.addMany(r, 13, 13, 13), e.addMany(s, 13, 13, 13), e.add(127, 13, 0, 13), e.addMany([27, 156, 24, 26], 13, 14, 0), e.add(h, 0, 2, 0), e.add(h, 8, 5, 8), e.add(h, 6, 0, 6), e.add(h, 11, 0, 11), e.add(h, 13, 13, 13), e;\n          }();\n          var c = /*#__PURE__*/function (_s$Disposable3) {\n            _inherits(c, _s$Disposable3);\n            var _super22 = _createSuper(c);\n            function c() {\n              var _this65;\n              var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : t.VT500_TRANSITION_TABLE;\n              _classCallCheck(this, c);\n              _this65 = _super22.call(this), _this65._transitions = e, _this65._parseStack = {\n                state: 0,\n                handlers: [],\n                handlerPos: 0,\n                transition: 0,\n                chunkPos: 0\n              }, _this65.initialState = 0, _this65.currentState = _this65.initialState, _this65._params = new r.Params(), _this65._params.addParam(0), _this65._collect = 0, _this65.precedingCodepoint = 0, _this65._printHandlerFb = function (e, t, i) {}, _this65._executeHandlerFb = function (e) {}, _this65._csiHandlerFb = function (e, t) {}, _this65._escHandlerFb = function (e) {}, _this65._errorHandlerFb = function (e) {\n                return e;\n              }, _this65._printHandler = _this65._printHandlerFb, _this65._executeHandlers = Object.create(null), _this65._csiHandlers = Object.create(null), _this65._escHandlers = Object.create(null), _this65.register((0, s.toDisposable)(function () {\n                _this65._csiHandlers = Object.create(null), _this65._executeHandlers = Object.create(null), _this65._escHandlers = Object.create(null);\n              })), _this65._oscParser = _this65.register(new n.OscParser()), _this65._dcsParser = _this65.register(new o.DcsParser()), _this65._errorHandler = _this65._errorHandlerFb, _this65.registerEscHandler({\n                final: \"\\\\\"\n              }, function () {\n                return !0;\n              });\n              return _this65;\n            }\n            _createClass(c, [{\n              key: \"_identifier\",\n              value: function _identifier(e) {\n                var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [64, 126];\n                var i = 0;\n                if (e.prefix) {\n                  if (e.prefix.length > 1) throw new Error(\"only one byte as prefix supported\");\n                  if (i = e.prefix.charCodeAt(0), i && 60 > i || i > 63) throw new Error(\"prefix must be in range 0x3c .. 0x3f\");\n                }\n                if (e.intermediates) {\n                  if (e.intermediates.length > 2) throw new Error(\"only two bytes as intermediates are supported\");\n                  for (var _t77 = 0; _t77 < e.intermediates.length; ++_t77) {\n                    var _s42 = e.intermediates.charCodeAt(_t77);\n                    if (32 > _s42 || _s42 > 47) throw new Error(\"intermediate must be in range 0x20 .. 0x2f\");\n                    i <<= 8, i |= _s42;\n                  }\n                }\n                if (1 !== e.final.length) throw new Error(\"final must be a single byte\");\n                var s = e.final.charCodeAt(0);\n                if (t[0] > s || s > t[1]) throw new Error(\"final must be in range \".concat(t[0], \" .. \").concat(t[1]));\n                return i <<= 8, i |= s, i;\n              }\n            }, {\n              key: \"identToString\",\n              value: function identToString(e) {\n                var t = [];\n                for (; e;) t.push(String.fromCharCode(255 & e)), e >>= 8;\n                return t.reverse().join(\"\");\n              }\n            }, {\n              key: \"setPrintHandler\",\n              value: function setPrintHandler(e) {\n                this._printHandler = e;\n              }\n            }, {\n              key: \"clearPrintHandler\",\n              value: function clearPrintHandler() {\n                this._printHandler = this._printHandlerFb;\n              }\n            }, {\n              key: \"registerEscHandler\",\n              value: function registerEscHandler(e, t) {\n                var i = this._identifier(e, [48, 126]);\n                void 0 === this._escHandlers[i] && (this._escHandlers[i] = []);\n                var s = this._escHandlers[i];\n                return s.push(t), {\n                  dispose: function dispose() {\n                    var e = s.indexOf(t);\n                    -1 !== e && s.splice(e, 1);\n                  }\n                };\n              }\n            }, {\n              key: \"clearEscHandler\",\n              value: function clearEscHandler(e) {\n                this._escHandlers[this._identifier(e, [48, 126])] && delete this._escHandlers[this._identifier(e, [48, 126])];\n              }\n            }, {\n              key: \"setEscHandlerFallback\",\n              value: function setEscHandlerFallback(e) {\n                this._escHandlerFb = e;\n              }\n            }, {\n              key: \"setExecuteHandler\",\n              value: function setExecuteHandler(e, t) {\n                this._executeHandlers[e.charCodeAt(0)] = t;\n              }\n            }, {\n              key: \"clearExecuteHandler\",\n              value: function clearExecuteHandler(e) {\n                this._executeHandlers[e.charCodeAt(0)] && delete this._executeHandlers[e.charCodeAt(0)];\n              }\n            }, {\n              key: \"setExecuteHandlerFallback\",\n              value: function setExecuteHandlerFallback(e) {\n                this._executeHandlerFb = e;\n              }\n            }, {\n              key: \"registerCsiHandler\",\n              value: function registerCsiHandler(e, t) {\n                var i = this._identifier(e);\n                void 0 === this._csiHandlers[i] && (this._csiHandlers[i] = []);\n                var s = this._csiHandlers[i];\n                return s.push(t), {\n                  dispose: function dispose() {\n                    var e = s.indexOf(t);\n                    -1 !== e && s.splice(e, 1);\n                  }\n                };\n              }\n            }, {\n              key: \"clearCsiHandler\",\n              value: function clearCsiHandler(e) {\n                this._csiHandlers[this._identifier(e)] && delete this._csiHandlers[this._identifier(e)];\n              }\n            }, {\n              key: \"setCsiHandlerFallback\",\n              value: function setCsiHandlerFallback(e) {\n                this._csiHandlerFb = e;\n              }\n            }, {\n              key: \"registerDcsHandler\",\n              value: function registerDcsHandler(e, t) {\n                return this._dcsParser.registerHandler(this._identifier(e), t);\n              }\n            }, {\n              key: \"clearDcsHandler\",\n              value: function clearDcsHandler(e) {\n                this._dcsParser.clearHandler(this._identifier(e));\n              }\n            }, {\n              key: \"setDcsHandlerFallback\",\n              value: function setDcsHandlerFallback(e) {\n                this._dcsParser.setHandlerFallback(e);\n              }\n            }, {\n              key: \"registerOscHandler\",\n              value: function registerOscHandler(e, t) {\n                return this._oscParser.registerHandler(e, t);\n              }\n            }, {\n              key: \"clearOscHandler\",\n              value: function clearOscHandler(e) {\n                this._oscParser.clearHandler(e);\n              }\n            }, {\n              key: \"setOscHandlerFallback\",\n              value: function setOscHandlerFallback(e) {\n                this._oscParser.setHandlerFallback(e);\n              }\n            }, {\n              key: \"setErrorHandler\",\n              value: function setErrorHandler(e) {\n                this._errorHandler = e;\n              }\n            }, {\n              key: \"clearErrorHandler\",\n              value: function clearErrorHandler() {\n                this._errorHandler = this._errorHandlerFb;\n              }\n            }, {\n              key: \"reset\",\n              value: function reset() {\n                this.currentState = this.initialState, this._oscParser.reset(), this._dcsParser.reset(), this._params.reset(), this._params.addParam(0), this._collect = 0, this.precedingCodepoint = 0, 0 !== this._parseStack.state && (this._parseStack.state = 2, this._parseStack.handlers = []);\n              }\n            }, {\n              key: \"_preserveStack\",\n              value: function _preserveStack(e, t, i, s, r) {\n                this._parseStack.state = e, this._parseStack.handlers = t, this._parseStack.handlerPos = i, this._parseStack.transition = s, this._parseStack.chunkPos = r;\n              }\n            }, {\n              key: \"parse\",\n              value: function parse(e, t, i) {\n                var s,\n                  r = 0,\n                  n = 0,\n                  o = 0;\n                if (this._parseStack.state) if (2 === this._parseStack.state) this._parseStack.state = 0, o = this._parseStack.chunkPos + 1;else {\n                  if (void 0 === i || 1 === this._parseStack.state) throw this._parseStack.state = 1, new Error(\"improper continuation due to previous async handler, giving up parsing\");\n                  var _t78 = this._parseStack.handlers;\n                  var _n10 = this._parseStack.handlerPos - 1;\n                  switch (this._parseStack.state) {\n                    case 3:\n                      if (!1 === i && _n10 > -1) for (; _n10 >= 0 && (s = _t78[_n10](this._params), !0 !== s); _n10--) if (s instanceof Promise) return this._parseStack.handlerPos = _n10, s;\n                      this._parseStack.handlers = [];\n                      break;\n                    case 4:\n                      if (!1 === i && _n10 > -1) for (; _n10 >= 0 && (s = _t78[_n10](), !0 !== s); _n10--) if (s instanceof Promise) return this._parseStack.handlerPos = _n10, s;\n                      this._parseStack.handlers = [];\n                      break;\n                    case 6:\n                      if (r = e[this._parseStack.chunkPos], s = this._dcsParser.unhook(24 !== r && 26 !== r, i), s) return s;\n                      27 === r && (this._parseStack.transition |= 1), this._params.reset(), this._params.addParam(0), this._collect = 0;\n                      break;\n                    case 5:\n                      if (r = e[this._parseStack.chunkPos], s = this._oscParser.end(24 !== r && 26 !== r, i), s) return s;\n                      27 === r && (this._parseStack.transition |= 1), this._params.reset(), this._params.addParam(0), this._collect = 0;\n                  }\n                  this._parseStack.state = 0, o = this._parseStack.chunkPos + 1, this.precedingCodepoint = 0, this.currentState = 15 & this._parseStack.transition;\n                }\n                for (var _i48 = o; _i48 < t; ++_i48) {\n                  switch (r = e[_i48], n = this._transitions.table[this.currentState << 8 | (r < 160 ? r : h)], n >> 4) {\n                    case 2:\n                      for (var _s43 = _i48 + 1;; ++_s43) {\n                        if (_s43 >= t || (r = e[_s43]) < 32 || r > 126 && r < h) {\n                          this._printHandler(e, _i48, _s43), _i48 = _s43 - 1;\n                          break;\n                        }\n                        if (++_s43 >= t || (r = e[_s43]) < 32 || r > 126 && r < h) {\n                          this._printHandler(e, _i48, _s43), _i48 = _s43 - 1;\n                          break;\n                        }\n                        if (++_s43 >= t || (r = e[_s43]) < 32 || r > 126 && r < h) {\n                          this._printHandler(e, _i48, _s43), _i48 = _s43 - 1;\n                          break;\n                        }\n                        if (++_s43 >= t || (r = e[_s43]) < 32 || r > 126 && r < h) {\n                          this._printHandler(e, _i48, _s43), _i48 = _s43 - 1;\n                          break;\n                        }\n                      }\n                      break;\n                    case 3:\n                      this._executeHandlers[r] ? this._executeHandlers[r]() : this._executeHandlerFb(r), this.precedingCodepoint = 0;\n                      break;\n                    case 0:\n                      break;\n                    case 1:\n                      if (this._errorHandler({\n                        position: _i48,\n                        code: r,\n                        currentState: this.currentState,\n                        collect: this._collect,\n                        params: this._params,\n                        abort: !1\n                      }).abort) return;\n                      break;\n                    case 7:\n                      var _o12 = this._csiHandlers[this._collect << 8 | r];\n                      var _a8 = _o12 ? _o12.length - 1 : -1;\n                      for (; _a8 >= 0 && (s = _o12[_a8](this._params), !0 !== s); _a8--) if (s instanceof Promise) return this._preserveStack(3, _o12, _a8, n, _i48), s;\n                      _a8 < 0 && this._csiHandlerFb(this._collect << 8 | r, this._params), this.precedingCodepoint = 0;\n                      break;\n                    case 8:\n                      do {\n                        switch (r) {\n                          case 59:\n                            this._params.addParam(0);\n                            break;\n                          case 58:\n                            this._params.addSubParam(-1);\n                            break;\n                          default:\n                            this._params.addDigit(r - 48);\n                        }\n                      } while (++_i48 < t && (r = e[_i48]) > 47 && r < 60);\n                      _i48--;\n                      break;\n                    case 9:\n                      this._collect <<= 8, this._collect |= r;\n                      break;\n                    case 10:\n                      var _c7 = this._escHandlers[this._collect << 8 | r];\n                      var l = _c7 ? _c7.length - 1 : -1;\n                      for (; l >= 0 && (s = _c7[l](), !0 !== s); l--) if (s instanceof Promise) return this._preserveStack(4, _c7, l, n, _i48), s;\n                      l < 0 && this._escHandlerFb(this._collect << 8 | r), this.precedingCodepoint = 0;\n                      break;\n                    case 11:\n                      this._params.reset(), this._params.addParam(0), this._collect = 0;\n                      break;\n                    case 12:\n                      this._dcsParser.hook(this._collect << 8 | r, this._params);\n                      break;\n                    case 13:\n                      for (var _s44 = _i48 + 1;; ++_s44) if (_s44 >= t || 24 === (r = e[_s44]) || 26 === r || 27 === r || r > 127 && r < h) {\n                        this._dcsParser.put(e, _i48, _s44), _i48 = _s44 - 1;\n                        break;\n                      }\n                      break;\n                    case 14:\n                      if (s = this._dcsParser.unhook(24 !== r && 26 !== r), s) return this._preserveStack(6, [], 0, n, _i48), s;\n                      27 === r && (n |= 1), this._params.reset(), this._params.addParam(0), this._collect = 0, this.precedingCodepoint = 0;\n                      break;\n                    case 4:\n                      this._oscParser.start();\n                      break;\n                    case 5:\n                      for (var _s45 = _i48 + 1;; _s45++) if (_s45 >= t || (r = e[_s45]) < 32 || r > 127 && r < h) {\n                        this._oscParser.put(e, _i48, _s45), _i48 = _s45 - 1;\n                        break;\n                      }\n                      break;\n                    case 6:\n                      if (s = this._oscParser.end(24 !== r && 26 !== r), s) return this._preserveStack(5, [], 0, n, _i48), s;\n                      27 === r && (n |= 1), this._params.reset(), this._params.addParam(0), this._collect = 0, this.precedingCodepoint = 0;\n                  }\n                  this.currentState = 15 & n;\n                }\n              }\n            }]);\n            return c;\n          }(s.Disposable);\n          t.EscapeSequenceParser = c;\n        },\n        6242: function _(e, t, i) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.OscHandler = t.OscParser = void 0;\n          var s = i(5770),\n            r = i(482),\n            n = [];\n          t.OscParser = /*#__PURE__*/function () {\n            function _class19() {\n              _classCallCheck(this, _class19);\n              this._state = 0, this._active = n, this._id = -1, this._handlers = Object.create(null), this._handlerFb = function () {}, this._stack = {\n                paused: !1,\n                loopPosition: 0,\n                fallThrough: !1\n              };\n            }\n            _createClass(_class19, [{\n              key: \"registerHandler\",\n              value: function registerHandler(e, t) {\n                void 0 === this._handlers[e] && (this._handlers[e] = []);\n                var i = this._handlers[e];\n                return i.push(t), {\n                  dispose: function dispose() {\n                    var e = i.indexOf(t);\n                    -1 !== e && i.splice(e, 1);\n                  }\n                };\n              }\n            }, {\n              key: \"clearHandler\",\n              value: function clearHandler(e) {\n                this._handlers[e] && delete this._handlers[e];\n              }\n            }, {\n              key: \"setHandlerFallback\",\n              value: function setHandlerFallback(e) {\n                this._handlerFb = e;\n              }\n            }, {\n              key: \"dispose\",\n              value: function dispose() {\n                this._handlers = Object.create(null), this._handlerFb = function () {}, this._active = n;\n              }\n            }, {\n              key: \"reset\",\n              value: function reset() {\n                if (2 === this._state) for (var _e114 = this._stack.paused ? this._stack.loopPosition - 1 : this._active.length - 1; _e114 >= 0; --_e114) this._active[_e114].end(!1);\n                this._stack.paused = !1, this._active = n, this._id = -1, this._state = 0;\n              }\n            }, {\n              key: \"_start\",\n              value: function _start() {\n                if (this._active = this._handlers[this._id] || n, this._active.length) for (var _e115 = this._active.length - 1; _e115 >= 0; _e115--) this._active[_e115].start();else this._handlerFb(this._id, \"START\");\n              }\n            }, {\n              key: \"_put\",\n              value: function _put(e, t, i) {\n                if (this._active.length) for (var _s46 = this._active.length - 1; _s46 >= 0; _s46--) this._active[_s46].put(e, t, i);else this._handlerFb(this._id, \"PUT\", (0, r.utf32ToString)(e, t, i));\n              }\n            }, {\n              key: \"start\",\n              value: function start() {\n                this.reset(), this._state = 1;\n              }\n            }, {\n              key: \"put\",\n              value: function put(e, t, i) {\n                if (3 !== this._state) {\n                  if (1 === this._state) for (; t < i;) {\n                    var _i49 = e[t++];\n                    if (59 === _i49) {\n                      this._state = 2, this._start();\n                      break;\n                    }\n                    if (_i49 < 48 || 57 < _i49) return void (this._state = 3);\n                    -1 === this._id && (this._id = 0), this._id = 10 * this._id + _i49 - 48;\n                  }\n                  2 === this._state && i - t > 0 && this._put(e, t, i);\n                }\n              }\n            }, {\n              key: \"end\",\n              value: function end(e) {\n                var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !0;\n                if (0 !== this._state) {\n                  if (3 !== this._state) if (1 === this._state && this._start(), this._active.length) {\n                    var _i50 = !1,\n                      _s47 = this._active.length - 1,\n                      _r29 = !1;\n                    if (this._stack.paused && (_s47 = this._stack.loopPosition - 1, _i50 = t, _r29 = this._stack.fallThrough, this._stack.paused = !1), !_r29 && !1 === _i50) {\n                      for (; _s47 >= 0 && (_i50 = this._active[_s47].end(e), !0 !== _i50); _s47--) if (_i50 instanceof Promise) return this._stack.paused = !0, this._stack.loopPosition = _s47, this._stack.fallThrough = !1, _i50;\n                      _s47--;\n                    }\n                    for (; _s47 >= 0; _s47--) if (_i50 = this._active[_s47].end(!1), _i50 instanceof Promise) return this._stack.paused = !0, this._stack.loopPosition = _s47, this._stack.fallThrough = !0, _i50;\n                  } else this._handlerFb(this._id, \"END\", e);\n                  this._active = n, this._id = -1, this._state = 0;\n                }\n              }\n            }]);\n            return _class19;\n          }(), t.OscHandler = /*#__PURE__*/function () {\n            function _class20(e) {\n              _classCallCheck(this, _class20);\n              this._handler = e, this._data = \"\", this._hitLimit = !1;\n            }\n            _createClass(_class20, [{\n              key: \"start\",\n              value: function start() {\n                this._data = \"\", this._hitLimit = !1;\n              }\n            }, {\n              key: \"put\",\n              value: function put(e, t, i) {\n                this._hitLimit || (this._data += (0, r.utf32ToString)(e, t, i), this._data.length > s.PAYLOAD_LIMIT && (this._data = \"\", this._hitLimit = !0));\n              }\n            }, {\n              key: \"end\",\n              value: function end(e) {\n                var _this66 = this;\n                var t = !1;\n                if (this._hitLimit) t = !1;else if (e && (t = this._handler(this._data), t instanceof Promise)) return t.then(function (e) {\n                  return _this66._data = \"\", _this66._hitLimit = !1, e;\n                });\n                return this._data = \"\", this._hitLimit = !1, t;\n              }\n            }]);\n            return _class20;\n          }();\n        },\n        8742: function _(e, t) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.Params = void 0;\n          var i = 2147483647;\n          var s = /*#__PURE__*/function () {\n            function s() {\n              var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 32;\n              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 32;\n              _classCallCheck(this, s);\n              if (this.maxLength = e, this.maxSubParamsLength = t, t > 256) throw new Error(\"maxSubParamsLength must not be greater than 256\");\n              this.params = new Int32Array(e), this.length = 0, this._subParams = new Int32Array(t), this._subParamsLength = 0, this._subParamsIdx = new Uint16Array(e), this._rejectDigits = !1, this._rejectSubDigits = !1, this._digitIsSub = !1;\n            }\n            _createClass(s, [{\n              key: \"clone\",\n              value: function clone() {\n                var e = new s(this.maxLength, this.maxSubParamsLength);\n                return e.params.set(this.params), e.length = this.length, e._subParams.set(this._subParams), e._subParamsLength = this._subParamsLength, e._subParamsIdx.set(this._subParamsIdx), e._rejectDigits = this._rejectDigits, e._rejectSubDigits = this._rejectSubDigits, e._digitIsSub = this._digitIsSub, e;\n              }\n            }, {\n              key: \"toArray\",\n              value: function toArray() {\n                var e = [];\n                for (var _t79 = 0; _t79 < this.length; ++_t79) {\n                  e.push(this.params[_t79]);\n                  var _i51 = this._subParamsIdx[_t79] >> 8,\n                    _s49 = 255 & this._subParamsIdx[_t79];\n                  _s49 - _i51 > 0 && e.push(Array.prototype.slice.call(this._subParams, _i51, _s49));\n                }\n                return e;\n              }\n            }, {\n              key: \"reset\",\n              value: function reset() {\n                this.length = 0, this._subParamsLength = 0, this._rejectDigits = !1, this._rejectSubDigits = !1, this._digitIsSub = !1;\n              }\n            }, {\n              key: \"addParam\",\n              value: function addParam(e) {\n                if (this._digitIsSub = !1, this.length >= this.maxLength) this._rejectDigits = !0;else {\n                  if (e < -1) throw new Error(\"values lesser than -1 are not allowed\");\n                  this._subParamsIdx[this.length] = this._subParamsLength << 8 | this._subParamsLength, this.params[this.length++] = e > i ? i : e;\n                }\n              }\n            }, {\n              key: \"addSubParam\",\n              value: function addSubParam(e) {\n                if (this._digitIsSub = !0, this.length) if (this._rejectDigits || this._subParamsLength >= this.maxSubParamsLength) this._rejectSubDigits = !0;else {\n                  if (e < -1) throw new Error(\"values lesser than -1 are not allowed\");\n                  this._subParams[this._subParamsLength++] = e > i ? i : e, this._subParamsIdx[this.length - 1]++;\n                }\n              }\n            }, {\n              key: \"hasSubParams\",\n              value: function hasSubParams(e) {\n                return (255 & this._subParamsIdx[e]) - (this._subParamsIdx[e] >> 8) > 0;\n              }\n            }, {\n              key: \"getSubParams\",\n              value: function getSubParams(e) {\n                var t = this._subParamsIdx[e] >> 8,\n                  i = 255 & this._subParamsIdx[e];\n                return i - t > 0 ? this._subParams.subarray(t, i) : null;\n              }\n            }, {\n              key: \"getSubParamsAll\",\n              value: function getSubParamsAll() {\n                var e = {};\n                for (var _t80 = 0; _t80 < this.length; ++_t80) {\n                  var _i52 = this._subParamsIdx[_t80] >> 8,\n                    _s50 = 255 & this._subParamsIdx[_t80];\n                  _s50 - _i52 > 0 && (e[_t80] = this._subParams.slice(_i52, _s50));\n                }\n                return e;\n              }\n            }, {\n              key: \"addDigit\",\n              value: function addDigit(e) {\n                var t;\n                if (this._rejectDigits || !(t = this._digitIsSub ? this._subParamsLength : this.length) || this._digitIsSub && this._rejectSubDigits) return;\n                var _s51 = this._digitIsSub ? this._subParams : this.params,\n                  r = _s51[t - 1];\n                _s51[t - 1] = ~r ? Math.min(10 * r + e, i) : e;\n              }\n            }], [{\n              key: \"fromArray\",\n              value: function fromArray(e) {\n                var t = new s();\n                if (!e.length) return t;\n                for (var _i53 = Array.isArray(e[0]) ? 1 : 0; _i53 < e.length; ++_i53) {\n                  var _s48 = e[_i53];\n                  if (Array.isArray(_s48)) for (var _e116 = 0; _e116 < _s48.length; ++_e116) t.addSubParam(_s48[_e116]);else t.addParam(_s48);\n                }\n                return t;\n              }\n            }]);\n            return s;\n          }();\n          t.Params = s;\n        },\n        5741: function _(e, t) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.AddonManager = void 0, t.AddonManager = /*#__PURE__*/function () {\n            function _class21() {\n              _classCallCheck(this, _class21);\n              this._addons = [];\n            }\n            _createClass(_class21, [{\n              key: \"dispose\",\n              value: function dispose() {\n                for (var _e117 = this._addons.length - 1; _e117 >= 0; _e117--) this._addons[_e117].instance.dispose();\n              }\n            }, {\n              key: \"loadAddon\",\n              value: function loadAddon(e, t) {\n                var _this67 = this;\n                var i = {\n                  instance: t,\n                  dispose: t.dispose,\n                  isDisposed: !1\n                };\n                this._addons.push(i), t.dispose = function () {\n                  return _this67._wrappedAddonDispose(i);\n                }, t.activate(e);\n              }\n            }, {\n              key: \"_wrappedAddonDispose\",\n              value: function _wrappedAddonDispose(e) {\n                if (e.isDisposed) return;\n                var t = -1;\n                for (var _i54 = 0; _i54 < this._addons.length; _i54++) if (this._addons[_i54] === e) {\n                  t = _i54;\n                  break;\n                }\n                if (-1 === t) throw new Error(\"Could not dispose an addon that has not been loaded\");\n                e.isDisposed = !0, e.dispose.apply(e.instance), this._addons.splice(t, 1);\n              }\n            }]);\n            return _class21;\n          }();\n        },\n        8771: function _(e, t, i) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.BufferApiView = void 0;\n          var s = i(3785),\n            r = i(511);\n          t.BufferApiView = /*#__PURE__*/function () {\n            function _class22(e, t) {\n              _classCallCheck(this, _class22);\n              this._buffer = e, this.type = t;\n            }\n            _createClass(_class22, [{\n              key: \"init\",\n              value: function init(e) {\n                return this._buffer = e, this;\n              }\n            }, {\n              key: \"cursorY\",\n              get: function get() {\n                return this._buffer.y;\n              }\n            }, {\n              key: \"cursorX\",\n              get: function get() {\n                return this._buffer.x;\n              }\n            }, {\n              key: \"viewportY\",\n              get: function get() {\n                return this._buffer.ydisp;\n              }\n            }, {\n              key: \"baseY\",\n              get: function get() {\n                return this._buffer.ybase;\n              }\n            }, {\n              key: \"length\",\n              get: function get() {\n                return this._buffer.lines.length;\n              }\n            }, {\n              key: \"getLine\",\n              value: function getLine(e) {\n                var t = this._buffer.lines.get(e);\n                if (t) return new s.BufferLineApiView(t);\n              }\n            }, {\n              key: \"getNullCell\",\n              value: function getNullCell() {\n                return new r.CellData();\n              }\n            }]);\n            return _class22;\n          }();\n        },\n        3785: function _(e, t, i) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.BufferLineApiView = void 0;\n          var s = i(511);\n          t.BufferLineApiView = /*#__PURE__*/function () {\n            function _class23(e) {\n              _classCallCheck(this, _class23);\n              this._line = e;\n            }\n            _createClass(_class23, [{\n              key: \"isWrapped\",\n              get: function get() {\n                return this._line.isWrapped;\n              }\n            }, {\n              key: \"length\",\n              get: function get() {\n                return this._line.length;\n              }\n            }, {\n              key: \"getCell\",\n              value: function getCell(e, t) {\n                if (!(e < 0 || e >= this._line.length)) return t ? (this._line.loadCell(e, t), t) : this._line.loadCell(e, new s.CellData());\n              }\n            }, {\n              key: \"translateToString\",\n              value: function translateToString(e, t, i) {\n                return this._line.translateToString(e, t, i);\n              }\n            }]);\n            return _class23;\n          }();\n        },\n        8285: function _(e, t, i) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.BufferNamespaceApi = void 0;\n          var s = i(8771),\n            r = i(8460);\n          t.BufferNamespaceApi = /*#__PURE__*/function () {\n            function _class24(e) {\n              var _this68 = this;\n              _classCallCheck(this, _class24);\n              this._core = e, this._onBufferChange = new r.EventEmitter(), this.onBufferChange = this._onBufferChange.event, this._normal = new s.BufferApiView(this._core.buffers.normal, \"normal\"), this._alternate = new s.BufferApiView(this._core.buffers.alt, \"alternate\"), this._core.buffers.onBufferActivate(function () {\n                return _this68._onBufferChange.fire(_this68.active);\n              });\n            }\n            _createClass(_class24, [{\n              key: \"active\",\n              get: function get() {\n                if (this._core.buffers.active === this._core.buffers.normal) return this.normal;\n                if (this._core.buffers.active === this._core.buffers.alt) return this.alternate;\n                throw new Error(\"Active buffer is neither normal nor alternate\");\n              }\n            }, {\n              key: \"normal\",\n              get: function get() {\n                return this._normal.init(this._core.buffers.normal);\n              }\n            }, {\n              key: \"alternate\",\n              get: function get() {\n                return this._alternate.init(this._core.buffers.alt);\n              }\n            }]);\n            return _class24;\n          }();\n        },\n        7975: function _(e, t) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.ParserApi = void 0, t.ParserApi = /*#__PURE__*/function () {\n            function _class25(e) {\n              _classCallCheck(this, _class25);\n              this._core = e;\n            }\n            _createClass(_class25, [{\n              key: \"registerCsiHandler\",\n              value: function registerCsiHandler(e, t) {\n                return this._core.registerCsiHandler(e, function (e) {\n                  return t(e.toArray());\n                });\n              }\n            }, {\n              key: \"addCsiHandler\",\n              value: function addCsiHandler(e, t) {\n                return this.registerCsiHandler(e, t);\n              }\n            }, {\n              key: \"registerDcsHandler\",\n              value: function registerDcsHandler(e, t) {\n                return this._core.registerDcsHandler(e, function (e, i) {\n                  return t(e, i.toArray());\n                });\n              }\n            }, {\n              key: \"addDcsHandler\",\n              value: function addDcsHandler(e, t) {\n                return this.registerDcsHandler(e, t);\n              }\n            }, {\n              key: \"registerEscHandler\",\n              value: function registerEscHandler(e, t) {\n                return this._core.registerEscHandler(e, t);\n              }\n            }, {\n              key: \"addEscHandler\",\n              value: function addEscHandler(e, t) {\n                return this.registerEscHandler(e, t);\n              }\n            }, {\n              key: \"registerOscHandler\",\n              value: function registerOscHandler(e, t) {\n                return this._core.registerOscHandler(e, t);\n              }\n            }, {\n              key: \"addOscHandler\",\n              value: function addOscHandler(e, t) {\n                return this.registerOscHandler(e, t);\n              }\n            }]);\n            return _class25;\n          }();\n        },\n        7090: function _(e, t) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.UnicodeApi = void 0, t.UnicodeApi = /*#__PURE__*/function () {\n            function _class26(e) {\n              _classCallCheck(this, _class26);\n              this._core = e;\n            }\n            _createClass(_class26, [{\n              key: \"register\",\n              value: function register(e) {\n                this._core.unicodeService.register(e);\n              }\n            }, {\n              key: \"versions\",\n              get: function get() {\n                return this._core.unicodeService.versions;\n              }\n            }, {\n              key: \"activeVersion\",\n              get: function get() {\n                return this._core.unicodeService.activeVersion;\n              },\n              set: function set(e) {\n                this._core.unicodeService.activeVersion = e;\n              }\n            }]);\n            return _class26;\n          }();\n        },\n        744: function _(e, t, i) {\n          var s = this && this.__decorate || function (e, t, i, s) {\n              var r,\n                n = arguments.length,\n                o = n < 3 ? t : null === s ? s = Object.getOwnPropertyDescriptor(t, i) : s;\n              if (\"object\" == (typeof Reflect === \"undefined\" ? \"undefined\" : _typeof(Reflect)) && \"function\" == typeof Reflect.decorate) o = Reflect.decorate(e, t, i, s);else for (var a = e.length - 1; a >= 0; a--) (r = e[a]) && (o = (n < 3 ? r(o) : n > 3 ? r(t, i, o) : r(t, i)) || o);\n              return n > 3 && o && Object.defineProperty(t, i, o), o;\n            },\n            r = this && this.__param || function (e, t) {\n              return function (i, s) {\n                t(i, s, e);\n              };\n            };\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.BufferService = t.MINIMUM_ROWS = t.MINIMUM_COLS = void 0;\n          var n = i(2585),\n            o = i(5295),\n            a = i(8460),\n            h = i(844);\n          t.MINIMUM_COLS = 2, t.MINIMUM_ROWS = 1;\n          var c = /*#__PURE__*/function (_h$Disposable4) {\n            _inherits(c, _h$Disposable4);\n            var _super23 = _createSuper(c);\n            function c(e) {\n              var _this69;\n              _classCallCheck(this, c);\n              _this69 = _super23.call(this), _this69.isUserScrolling = !1, _this69._onResize = _this69.register(new a.EventEmitter()), _this69.onResize = _this69._onResize.event, _this69._onScroll = _this69.register(new a.EventEmitter()), _this69.onScroll = _this69._onScroll.event, _this69.cols = Math.max(e.rawOptions.cols || 0, t.MINIMUM_COLS), _this69.rows = Math.max(e.rawOptions.rows || 0, t.MINIMUM_ROWS), _this69.buffers = _this69.register(new o.BufferSet(e, _assertThisInitialized(_this69)));\n              return _this69;\n            }\n            _createClass(c, [{\n              key: \"buffer\",\n              get: function get() {\n                return this.buffers.active;\n              }\n            }, {\n              key: \"resize\",\n              value: function resize(e, t) {\n                this.cols = e, this.rows = t, this.buffers.resize(e, t), this._onResize.fire({\n                  cols: e,\n                  rows: t\n                });\n              }\n            }, {\n              key: \"reset\",\n              value: function reset() {\n                this.buffers.reset(), this.isUserScrolling = !1;\n              }\n            }, {\n              key: \"scroll\",\n              value: function scroll(e) {\n                var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;\n                var i = this.buffer;\n                var s;\n                s = this._cachedBlankLine, s && s.length === this.cols && s.getFg(0) === e.fg && s.getBg(0) === e.bg || (s = i.getBlankLine(e, t), this._cachedBlankLine = s), s.isWrapped = t;\n                var r = i.ybase + i.scrollTop,\n                  n = i.ybase + i.scrollBottom;\n                if (0 === i.scrollTop) {\n                  var _e118 = i.lines.isFull;\n                  n === i.lines.length - 1 ? _e118 ? i.lines.recycle().copyFrom(s) : i.lines.push(s.clone()) : i.lines.splice(n + 1, 0, s.clone()), _e118 ? this.isUserScrolling && (i.ydisp = Math.max(i.ydisp - 1, 0)) : (i.ybase++, this.isUserScrolling || i.ydisp++);\n                } else {\n                  var _e119 = n - r + 1;\n                  i.lines.shiftElements(r + 1, _e119 - 1, -1), i.lines.set(n, s.clone());\n                }\n                this.isUserScrolling || (i.ydisp = i.ybase), this._onScroll.fire(i.ydisp);\n              }\n            }, {\n              key: \"scrollLines\",\n              value: function scrollLines(e, t, i) {\n                var s = this.buffer;\n                if (e < 0) {\n                  if (0 === s.ydisp) return;\n                  this.isUserScrolling = !0;\n                } else e + s.ydisp >= s.ybase && (this.isUserScrolling = !1);\n                var r = s.ydisp;\n                s.ydisp = Math.max(Math.min(s.ydisp + e, s.ybase), 0), r !== s.ydisp && (t || this._onScroll.fire(s.ydisp));\n              }\n            }, {\n              key: \"scrollPages\",\n              value: function scrollPages(e) {\n                this.scrollLines(e * (this.rows - 1));\n              }\n            }, {\n              key: \"scrollToTop\",\n              value: function scrollToTop() {\n                this.scrollLines(-this.buffer.ydisp);\n              }\n            }, {\n              key: \"scrollToBottom\",\n              value: function scrollToBottom() {\n                this.scrollLines(this.buffer.ybase - this.buffer.ydisp);\n              }\n            }, {\n              key: \"scrollToLine\",\n              value: function scrollToLine(e) {\n                var t = e - this.buffer.ydisp;\n                0 !== t && this.scrollLines(t);\n              }\n            }]);\n            return c;\n          }(h.Disposable);\n          c = s([r(0, n.IOptionsService)], c), t.BufferService = c;\n        },\n        7994: function _(e, t) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.CharsetService = void 0, t.CharsetService = /*#__PURE__*/function () {\n            function _class27() {\n              _classCallCheck(this, _class27);\n              this.glevel = 0, this._charsets = [];\n            }\n            _createClass(_class27, [{\n              key: \"reset\",\n              value: function reset() {\n                this.charset = void 0, this._charsets = [], this.glevel = 0;\n              }\n            }, {\n              key: \"setgLevel\",\n              value: function setgLevel(e) {\n                this.glevel = e, this.charset = this._charsets[e];\n              }\n            }, {\n              key: \"setgCharset\",\n              value: function setgCharset(e, t) {\n                this._charsets[e] = t, this.glevel === e && (this.charset = t);\n              }\n            }]);\n            return _class27;\n          }();\n        },\n        1753: function _(e, t, i) {\n          var s = this && this.__decorate || function (e, t, i, s) {\n              var r,\n                n = arguments.length,\n                o = n < 3 ? t : null === s ? s = Object.getOwnPropertyDescriptor(t, i) : s;\n              if (\"object\" == (typeof Reflect === \"undefined\" ? \"undefined\" : _typeof(Reflect)) && \"function\" == typeof Reflect.decorate) o = Reflect.decorate(e, t, i, s);else for (var a = e.length - 1; a >= 0; a--) (r = e[a]) && (o = (n < 3 ? r(o) : n > 3 ? r(t, i, o) : r(t, i)) || o);\n              return n > 3 && o && Object.defineProperty(t, i, o), o;\n            },\n            r = this && this.__param || function (e, t) {\n              return function (i, s) {\n                t(i, s, e);\n              };\n            };\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.CoreMouseService = void 0;\n          var n = i(2585),\n            o = i(8460),\n            a = i(844),\n            h = {\n              NONE: {\n                events: 0,\n                restrict: function restrict() {\n                  return !1;\n                }\n              },\n              X10: {\n                events: 1,\n                restrict: function restrict(e) {\n                  return 4 !== e.button && 1 === e.action && (e.ctrl = !1, e.alt = !1, e.shift = !1, !0);\n                }\n              },\n              VT200: {\n                events: 19,\n                restrict: function restrict(e) {\n                  return 32 !== e.action;\n                }\n              },\n              DRAG: {\n                events: 23,\n                restrict: function restrict(e) {\n                  return 32 !== e.action || 3 !== e.button;\n                }\n              },\n              ANY: {\n                events: 31,\n                restrict: function restrict(e) {\n                  return !0;\n                }\n              }\n            };\n          function c(e, t) {\n            var i = (e.ctrl ? 16 : 0) | (e.shift ? 4 : 0) | (e.alt ? 8 : 0);\n            return 4 === e.button ? (i |= 64, i |= e.action) : (i |= 3 & e.button, 4 & e.button && (i |= 64), 8 & e.button && (i |= 128), 32 === e.action ? i |= 32 : 0 !== e.action || t || (i |= 3)), i;\n          }\n          var l = String.fromCharCode,\n            d = {\n              DEFAULT: function DEFAULT(e) {\n                var t = [c(e, !1) + 32, e.col + 32, e.row + 32];\n                return t[0] > 255 || t[1] > 255 || t[2] > 255 ? \"\" : \"\\x1B[M\".concat(l(t[0])).concat(l(t[1])).concat(l(t[2]));\n              },\n              SGR: function SGR(e) {\n                var t = 0 === e.action && 4 !== e.button ? \"m\" : \"M\";\n                return \"\\x1B[<\".concat(c(e, !0), \";\").concat(e.col, \";\").concat(e.row).concat(t);\n              },\n              SGR_PIXELS: function SGR_PIXELS(e) {\n                var t = 0 === e.action && 4 !== e.button ? \"m\" : \"M\";\n                return \"\\x1B[<\".concat(c(e, !0), \";\").concat(e.x, \";\").concat(e.y).concat(t);\n              }\n            };\n          var _ = /*#__PURE__*/function (_a$Disposable6) {\n            _inherits(_, _a$Disposable6);\n            var _super24 = _createSuper(_);\n            function _(e, t) {\n              var _this70;\n              _classCallCheck(this, _);\n              _this70 = _super24.call(this), _this70._bufferService = e, _this70._coreService = t, _this70._protocols = {}, _this70._encodings = {}, _this70._activeProtocol = \"\", _this70._activeEncoding = \"\", _this70._lastEvent = null, _this70._onProtocolChange = _this70.register(new o.EventEmitter()), _this70.onProtocolChange = _this70._onProtocolChange.event;\n              for (var _i55 = 0, _Object$keys = Object.keys(h); _i55 < _Object$keys.length; _i55++) {\n                var _e120 = _Object$keys[_i55];\n                _this70.addProtocol(_e120, h[_e120]);\n              }\n              for (var _i56 = 0, _Object$keys2 = Object.keys(d); _i56 < _Object$keys2.length; _i56++) {\n                var _e121 = _Object$keys2[_i56];\n                _this70.addEncoding(_e121, d[_e121]);\n              }\n              _this70.reset();\n              return _this70;\n            }\n            _createClass(_, [{\n              key: \"addProtocol\",\n              value: function addProtocol(e, t) {\n                this._protocols[e] = t;\n              }\n            }, {\n              key: \"addEncoding\",\n              value: function addEncoding(e, t) {\n                this._encodings[e] = t;\n              }\n            }, {\n              key: \"activeProtocol\",\n              get: function get() {\n                return this._activeProtocol;\n              },\n              set: function set(e) {\n                if (!this._protocols[e]) throw new Error(\"unknown protocol \\\"\".concat(e, \"\\\"\"));\n                this._activeProtocol = e, this._onProtocolChange.fire(this._protocols[e].events);\n              }\n            }, {\n              key: \"areMouseEventsActive\",\n              get: function get() {\n                return 0 !== this._protocols[this._activeProtocol].events;\n              }\n            }, {\n              key: \"activeEncoding\",\n              get: function get() {\n                return this._activeEncoding;\n              },\n              set: function set(e) {\n                if (!this._encodings[e]) throw new Error(\"unknown encoding \\\"\".concat(e, \"\\\"\"));\n                this._activeEncoding = e;\n              }\n            }, {\n              key: \"reset\",\n              value: function reset() {\n                this.activeProtocol = \"NONE\", this.activeEncoding = \"DEFAULT\", this._lastEvent = null;\n              }\n            }, {\n              key: \"triggerMouseEvent\",\n              value: function triggerMouseEvent(e) {\n                if (e.col < 0 || e.col >= this._bufferService.cols || e.row < 0 || e.row >= this._bufferService.rows) return !1;\n                if (4 === e.button && 32 === e.action) return !1;\n                if (3 === e.button && 32 !== e.action) return !1;\n                if (4 !== e.button && (2 === e.action || 3 === e.action)) return !1;\n                if (e.col++, e.row++, 32 === e.action && this._lastEvent && this._equalEvents(this._lastEvent, e, \"SGR_PIXELS\" === this._activeEncoding)) return !1;\n                if (!this._protocols[this._activeProtocol].restrict(e)) return !1;\n                var t = this._encodings[this._activeEncoding](e);\n                return t && (\"DEFAULT\" === this._activeEncoding ? this._coreService.triggerBinaryEvent(t) : this._coreService.triggerDataEvent(t, !0)), this._lastEvent = e, !0;\n              }\n            }, {\n              key: \"explainEvents\",\n              value: function explainEvents(e) {\n                return {\n                  down: !!(1 & e),\n                  up: !!(2 & e),\n                  drag: !!(4 & e),\n                  move: !!(8 & e),\n                  wheel: !!(16 & e)\n                };\n              }\n            }, {\n              key: \"_equalEvents\",\n              value: function _equalEvents(e, t, i) {\n                if (i) {\n                  if (e.x !== t.x) return !1;\n                  if (e.y !== t.y) return !1;\n                } else {\n                  if (e.col !== t.col) return !1;\n                  if (e.row !== t.row) return !1;\n                }\n                return e.button === t.button && e.action === t.action && e.ctrl === t.ctrl && e.alt === t.alt && e.shift === t.shift;\n              }\n            }]);\n            return _;\n          }(a.Disposable);\n          _ = s([r(0, n.IBufferService), r(1, n.ICoreService)], _), t.CoreMouseService = _;\n        },\n        6975: function _(e, t, i) {\n          var s = this && this.__decorate || function (e, t, i, s) {\n              var r,\n                n = arguments.length,\n                o = n < 3 ? t : null === s ? s = Object.getOwnPropertyDescriptor(t, i) : s;\n              if (\"object\" == (typeof Reflect === \"undefined\" ? \"undefined\" : _typeof(Reflect)) && \"function\" == typeof Reflect.decorate) o = Reflect.decorate(e, t, i, s);else for (var a = e.length - 1; a >= 0; a--) (r = e[a]) && (o = (n < 3 ? r(o) : n > 3 ? r(t, i, o) : r(t, i)) || o);\n              return n > 3 && o && Object.defineProperty(t, i, o), o;\n            },\n            r = this && this.__param || function (e, t) {\n              return function (i, s) {\n                t(i, s, e);\n              };\n            };\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.CoreService = void 0;\n          var n = i(2585),\n            o = i(8460),\n            a = i(1439),\n            h = i(844),\n            c = Object.freeze({\n              insertMode: !1\n            }),\n            l = Object.freeze({\n              applicationCursorKeys: !1,\n              applicationKeypad: !1,\n              bracketedPasteMode: !1,\n              origin: !1,\n              reverseWraparound: !1,\n              sendFocus: !1,\n              wraparound: !0\n            });\n          var d = /*#__PURE__*/function (_h$Disposable5) {\n            _inherits(d, _h$Disposable5);\n            var _super25 = _createSuper(d);\n            function d(e, t, i) {\n              var _this71;\n              _classCallCheck(this, d);\n              _this71 = _super25.call(this), _this71._bufferService = e, _this71._logService = t, _this71._optionsService = i, _this71.isCursorInitialized = !1, _this71.isCursorHidden = !1, _this71._onData = _this71.register(new o.EventEmitter()), _this71.onData = _this71._onData.event, _this71._onUserInput = _this71.register(new o.EventEmitter()), _this71.onUserInput = _this71._onUserInput.event, _this71._onBinary = _this71.register(new o.EventEmitter()), _this71.onBinary = _this71._onBinary.event, _this71._onRequestScrollToBottom = _this71.register(new o.EventEmitter()), _this71.onRequestScrollToBottom = _this71._onRequestScrollToBottom.event, _this71.modes = (0, a.clone)(c), _this71.decPrivateModes = (0, a.clone)(l);\n              return _this71;\n            }\n            _createClass(d, [{\n              key: \"reset\",\n              value: function reset() {\n                this.modes = (0, a.clone)(c), this.decPrivateModes = (0, a.clone)(l);\n              }\n            }, {\n              key: \"triggerDataEvent\",\n              value: function triggerDataEvent(e) {\n                var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;\n                if (this._optionsService.rawOptions.disableStdin) return;\n                var i = this._bufferService.buffer;\n                t && this._optionsService.rawOptions.scrollOnUserInput && i.ybase !== i.ydisp && this._onRequestScrollToBottom.fire(), t && this._onUserInput.fire(), this._logService.debug(\"sending data \\\"\".concat(e, \"\\\"\"), function () {\n                  return e.split(\"\").map(function (e) {\n                    return e.charCodeAt(0);\n                  });\n                }), this._onData.fire(e);\n              }\n            }, {\n              key: \"triggerBinaryEvent\",\n              value: function triggerBinaryEvent(e) {\n                this._optionsService.rawOptions.disableStdin || (this._logService.debug(\"sending binary \\\"\".concat(e, \"\\\"\"), function () {\n                  return e.split(\"\").map(function (e) {\n                    return e.charCodeAt(0);\n                  });\n                }), this._onBinary.fire(e));\n              }\n            }]);\n            return d;\n          }(h.Disposable);\n          d = s([r(0, n.IBufferService), r(1, n.ILogService), r(2, n.IOptionsService)], d), t.CoreService = d;\n        },\n        9074: function _(e, t, i) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.DecorationService = void 0;\n          var s = i(8055),\n            r = i(8460),\n            n = i(844),\n            o = i(6106);\n          var a = 0,\n            h = 0;\n          var c = /*#__PURE__*/function (_n$Disposable3) {\n            _inherits(c, _n$Disposable3);\n            var _super26 = _createSuper(c);\n            function c() {\n              var _this72;\n              _classCallCheck(this, c);\n              _this72 = _super26.call(this), _this72._decorations = new o.SortedList(function (e) {\n                return null == e ? void 0 : e.marker.line;\n              }), _this72._onDecorationRegistered = _this72.register(new r.EventEmitter()), _this72.onDecorationRegistered = _this72._onDecorationRegistered.event, _this72._onDecorationRemoved = _this72.register(new r.EventEmitter()), _this72.onDecorationRemoved = _this72._onDecorationRemoved.event, _this72.register((0, n.toDisposable)(function () {\n                var _iterator14 = _createForOfIteratorHelper(_this72._decorations.values()),\n                  _step14;\n                try {\n                  for (_iterator14.s(); !(_step14 = _iterator14.n()).done;) {\n                    var _e122 = _step14.value;\n                    _this72._onDecorationRemoved.fire(_e122);\n                  }\n                } catch (err) {\n                  _iterator14.e(err);\n                } finally {\n                  _iterator14.f();\n                }\n                _this72.reset();\n              }));\n              return _this72;\n            }\n            _createClass(c, [{\n              key: \"decorations\",\n              get: function get() {\n                return this._decorations.values();\n              }\n            }, {\n              key: \"registerDecoration\",\n              value: function registerDecoration(e) {\n                var _this73 = this;\n                if (e.marker.isDisposed) return;\n                var t = new l(e);\n                if (t) {\n                  var _e123 = t.marker.onDispose(function () {\n                    return t.dispose();\n                  });\n                  t.onDispose(function () {\n                    t && (_this73._decorations.delete(t) && _this73._onDecorationRemoved.fire(t), _e123.dispose());\n                  }), this._decorations.insert(t), this._onDecorationRegistered.fire(t);\n                }\n                return t;\n              }\n            }, {\n              key: \"reset\",\n              value: function reset() {\n                var _iterator15 = _createForOfIteratorHelper(this._decorations.values()),\n                  _step15;\n                try {\n                  for (_iterator15.s(); !(_step15 = _iterator15.n()).done;) {\n                    var _e124 = _step15.value;\n                    _e124.dispose();\n                  }\n                } catch (err) {\n                  _iterator15.e(err);\n                } finally {\n                  _iterator15.f();\n                }\n                this._decorations.clear();\n              }\n            }, {\n              key: \"getDecorationsAtCell\",\n              value: /*#__PURE__*/_regeneratorRuntime().mark(function getDecorationsAtCell(e, t, i) {\n                var s, r, n, o, a, _iterator16, _step16, _h8;\n                return _regeneratorRuntime().wrap(function getDecorationsAtCell$(_context2) {\n                  while (1) switch (_context2.prev = _context2.next) {\n                    case 0:\n                      o = 0, a = 0;\n                      _iterator16 = _createForOfIteratorHelper(this._decorations.getKeyIterator(t));\n                      _context2.prev = 2;\n                      _iterator16.s();\n                    case 4:\n                      if ((_step16 = _iterator16.n()).done) {\n                        _context2.next = 14;\n                        break;\n                      }\n                      _h8 = _step16.value;\n                      o = null !== (s = _h8.options.x) && void 0 !== s ? s : 0;\n                      a = o + (null !== (r = _h8.options.width) && void 0 !== r ? r : 1);\n                      _context2.t0 = e >= o && e < a && (!i || (null !== (n = _h8.options.layer) && void 0 !== n ? n : \"bottom\") === i);\n                      if (!_context2.t0) {\n                        _context2.next = 12;\n                        break;\n                      }\n                      _context2.next = 12;\n                      return _h8;\n                    case 12:\n                      _context2.next = 4;\n                      break;\n                    case 14:\n                      _context2.next = 19;\n                      break;\n                    case 16:\n                      _context2.prev = 16;\n                      _context2.t1 = _context2[\"catch\"](2);\n                      _iterator16.e(_context2.t1);\n                    case 19:\n                      _context2.prev = 19;\n                      _iterator16.f();\n                      return _context2.finish(19);\n                    case 22:\n                    case \"end\":\n                      return _context2.stop();\n                  }\n                }, getDecorationsAtCell, this, [[2, 16, 19, 22]]);\n              })\n            }, {\n              key: \"forEachDecorationAtCell\",\n              value: function forEachDecorationAtCell(e, t, i, s) {\n                this._decorations.forEachByKey(t, function (t) {\n                  var r, n, o;\n                  a = null !== (r = t.options.x) && void 0 !== r ? r : 0, h = a + (null !== (n = t.options.width) && void 0 !== n ? n : 1), e >= a && e < h && (!i || (null !== (o = t.options.layer) && void 0 !== o ? o : \"bottom\") === i) && s(t);\n                });\n              }\n            }, {\n              key: \"dispose\",\n              value: function dispose() {\n                var _iterator17 = _createForOfIteratorHelper(this._decorations.values()),\n                  _step17;\n                try {\n                  for (_iterator17.s(); !(_step17 = _iterator17.n()).done;) {\n                    var _e125 = _step17.value;\n                    this._onDecorationRemoved.fire(_e125);\n                  }\n                } catch (err) {\n                  _iterator17.e(err);\n                } finally {\n                  _iterator17.f();\n                }\n                this.reset();\n              }\n            }]);\n            return c;\n          }(n.Disposable);\n          t.DecorationService = c;\n          var l = /*#__PURE__*/function (_n$Disposable4) {\n            _inherits(l, _n$Disposable4);\n            var _super27 = _createSuper(l);\n            function l(e) {\n              var _this74;\n              _classCallCheck(this, l);\n              _this74 = _super27.call(this), _this74.options = e, _this74.isDisposed = !1, _this74.onRenderEmitter = _this74.register(new r.EventEmitter()), _this74.onRender = _this74.onRenderEmitter.event, _this74._onDispose = _this74.register(new r.EventEmitter()), _this74.onDispose = _this74._onDispose.event, _this74._cachedBg = null, _this74._cachedFg = null, _this74.marker = e.marker, _this74.options.overviewRulerOptions && !_this74.options.overviewRulerOptions.position && (_this74.options.overviewRulerOptions.position = \"full\");\n              return _this74;\n            }\n            _createClass(l, [{\n              key: \"backgroundColorRGB\",\n              get: function get() {\n                return null === this._cachedBg && (this.options.backgroundColor ? this._cachedBg = s.css.toColor(this.options.backgroundColor) : this._cachedBg = void 0), this._cachedBg;\n              }\n            }, {\n              key: \"foregroundColorRGB\",\n              get: function get() {\n                return null === this._cachedFg && (this.options.foregroundColor ? this._cachedFg = s.css.toColor(this.options.foregroundColor) : this._cachedFg = void 0), this._cachedFg;\n              }\n            }, {\n              key: \"dispose\",\n              value: function dispose() {\n                this._onDispose.fire(), _get(_getPrototypeOf(l.prototype), \"dispose\", this).call(this);\n              }\n            }]);\n            return l;\n          }(n.Disposable);\n        },\n        4348: function _(e, t, i) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.InstantiationService = t.ServiceCollection = void 0;\n          var s = i(2585),\n            r = i(8343);\n          var n = /*#__PURE__*/function () {\n            function n() {\n              _classCallCheck(this, n);\n              this._entries = new Map();\n              for (var _len2 = arguments.length, e = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n                e[_key2] = arguments[_key2];\n              }\n              for (var _i57 = 0, _e126 = e; _i57 < _e126.length; _i57++) {\n                var _e126$_i = _slicedToArray(_e126[_i57], 2),\n                  _t81 = _e126$_i[0],\n                  _i58 = _e126$_i[1];\n                this.set(_t81, _i58);\n              }\n            }\n            _createClass(n, [{\n              key: \"set\",\n              value: function set(e, t) {\n                var i = this._entries.get(e);\n                return this._entries.set(e, t), i;\n              }\n            }, {\n              key: \"forEach\",\n              value: function forEach(e) {\n                var _iterator18 = _createForOfIteratorHelper(this._entries.entries()),\n                  _step18;\n                try {\n                  for (_iterator18.s(); !(_step18 = _iterator18.n()).done;) {\n                    var _step18$value = _slicedToArray(_step18.value, 2),\n                      _t82 = _step18$value[0],\n                      _i59 = _step18$value[1];\n                    e(_t82, _i59);\n                  }\n                } catch (err) {\n                  _iterator18.e(err);\n                } finally {\n                  _iterator18.f();\n                }\n              }\n            }, {\n              key: \"has\",\n              value: function has(e) {\n                return this._entries.has(e);\n              }\n            }, {\n              key: \"get\",\n              value: function get(e) {\n                return this._entries.get(e);\n              }\n            }]);\n            return n;\n          }();\n          t.ServiceCollection = n, t.InstantiationService = /*#__PURE__*/function () {\n            function _class28() {\n              _classCallCheck(this, _class28);\n              this._services = new n(), this._services.set(s.IInstantiationService, this);\n            }\n            _createClass(_class28, [{\n              key: \"setService\",\n              value: function setService(e, t) {\n                this._services.set(e, t);\n              }\n            }, {\n              key: \"getService\",\n              value: function getService(e) {\n                return this._services.get(e);\n              }\n            }, {\n              key: \"createInstance\",\n              value: function createInstance(e) {\n                var i = (0, r.getServiceDependencies)(e).sort(function (e, t) {\n                    return e.index - t.index;\n                  }),\n                  s = [];\n                var _iterator19 = _createForOfIteratorHelper(i),\n                  _step19;\n                try {\n                  for (_iterator19.s(); !(_step19 = _iterator19.n()).done;) {\n                    var _t83 = _step19.value;\n                    var _i60 = this._services.get(_t83.id);\n                    if (!_i60) throw new Error(\"[createInstance] \".concat(e.name, \" depends on UNKNOWN service \").concat(_t83.id, \".\"));\n                    s.push(_i60);\n                  }\n                } catch (err) {\n                  _iterator19.e(err);\n                } finally {\n                  _iterator19.f();\n                }\n                for (var _len3 = arguments.length, t = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n                  t[_key3 - 1] = arguments[_key3];\n                }\n                var n = i.length > 0 ? i[0].index : t.length;\n                if (t.length !== n) throw new Error(\"[createInstance] First service dependency of \".concat(e.name, \" at position \").concat(n + 1, \" conflicts with \").concat(t.length, \" static arguments\"));\n                return _construct(e, [].concat(t, s));\n              }\n            }]);\n            return _class28;\n          }();\n        },\n        7866: function _(e, t, i) {\n          var s = this && this.__decorate || function (e, t, i, s) {\n              var r,\n                n = arguments.length,\n                o = n < 3 ? t : null === s ? s = Object.getOwnPropertyDescriptor(t, i) : s;\n              if (\"object\" == (typeof Reflect === \"undefined\" ? \"undefined\" : _typeof(Reflect)) && \"function\" == typeof Reflect.decorate) o = Reflect.decorate(e, t, i, s);else for (var a = e.length - 1; a >= 0; a--) (r = e[a]) && (o = (n < 3 ? r(o) : n > 3 ? r(t, i, o) : r(t, i)) || o);\n              return n > 3 && o && Object.defineProperty(t, i, o), o;\n            },\n            r = this && this.__param || function (e, t) {\n              return function (i, s) {\n                t(i, s, e);\n              };\n            };\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.LogService = void 0;\n          var n = i(844),\n            o = i(2585),\n            a = {\n              debug: o.LogLevelEnum.DEBUG,\n              info: o.LogLevelEnum.INFO,\n              warn: o.LogLevelEnum.WARN,\n              error: o.LogLevelEnum.ERROR,\n              off: o.LogLevelEnum.OFF\n            };\n          var h = /*#__PURE__*/function (_n$Disposable5) {\n            _inherits(h, _n$Disposable5);\n            var _super28 = _createSuper(h);\n            function h(e) {\n              var _this75;\n              _classCallCheck(this, h);\n              _this75 = _super28.call(this), _this75._optionsService = e, _this75.logLevel = o.LogLevelEnum.OFF, _this75._updateLogLevel(), _this75.register(_this75._optionsService.onSpecificOptionChange(\"logLevel\", function () {\n                return _this75._updateLogLevel();\n              }));\n              return _this75;\n            }\n            _createClass(h, [{\n              key: \"_updateLogLevel\",\n              value: function _updateLogLevel() {\n                this.logLevel = a[this._optionsService.rawOptions.logLevel];\n              }\n            }, {\n              key: \"_evalLazyOptionalParams\",\n              value: function _evalLazyOptionalParams(e) {\n                for (var _t84 = 0; _t84 < e.length; _t84++) \"function\" == typeof e[_t84] && (e[_t84] = e[_t84]());\n              }\n            }, {\n              key: \"_log\",\n              value: function _log(e, t, i) {\n                this._evalLazyOptionalParams(i), e.call.apply(e, [console, \"xterm.js: \" + t].concat(_toConsumableArray(i)));\n              }\n            }, {\n              key: \"debug\",\n              value: function debug(e) {\n                for (var _len4 = arguments.length, t = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n                  t[_key4 - 1] = arguments[_key4];\n                }\n                this.logLevel <= o.LogLevelEnum.DEBUG && this._log(console.log, e, t);\n              }\n            }, {\n              key: \"info\",\n              value: function info(e) {\n                for (var _len5 = arguments.length, t = new Array(_len5 > 1 ? _len5 - 1 : 0), _key5 = 1; _key5 < _len5; _key5++) {\n                  t[_key5 - 1] = arguments[_key5];\n                }\n                this.logLevel <= o.LogLevelEnum.INFO && this._log(console.info, e, t);\n              }\n            }, {\n              key: \"warn\",\n              value: function warn(e) {\n                for (var _len6 = arguments.length, t = new Array(_len6 > 1 ? _len6 - 1 : 0), _key6 = 1; _key6 < _len6; _key6++) {\n                  t[_key6 - 1] = arguments[_key6];\n                }\n                this.logLevel <= o.LogLevelEnum.WARN && this._log(console.warn, e, t);\n              }\n            }, {\n              key: \"error\",\n              value: function error(e) {\n                for (var _len7 = arguments.length, t = new Array(_len7 > 1 ? _len7 - 1 : 0), _key7 = 1; _key7 < _len7; _key7++) {\n                  t[_key7 - 1] = arguments[_key7];\n                }\n                this.logLevel <= o.LogLevelEnum.ERROR && this._log(console.error, e, t);\n              }\n            }]);\n            return h;\n          }(n.Disposable);\n          h = s([r(0, o.IOptionsService)], h), t.LogService = h;\n        },\n        7302: function _(e, t, i) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.OptionsService = t.DEFAULT_OPTIONS = void 0;\n          var s = i(8460),\n            r = i(6114),\n            n = i(844);\n          t.DEFAULT_OPTIONS = {\n            cols: 80,\n            rows: 24,\n            cursorBlink: !1,\n            cursorStyle: \"block\",\n            cursorWidth: 1,\n            customGlyphs: !0,\n            drawBoldTextInBrightColors: !0,\n            fastScrollModifier: \"alt\",\n            fastScrollSensitivity: 5,\n            fontFamily: \"courier-new, courier, monospace\",\n            fontSize: 15,\n            fontWeight: \"normal\",\n            fontWeightBold: \"bold\",\n            lineHeight: 1,\n            letterSpacing: 0,\n            linkHandler: null,\n            logLevel: \"info\",\n            scrollback: 1e3,\n            scrollOnUserInput: !0,\n            scrollSensitivity: 1,\n            screenReaderMode: !1,\n            smoothScrollDuration: 0,\n            macOptionIsMeta: !1,\n            macOptionClickForcesSelection: !1,\n            minimumContrastRatio: 1,\n            disableStdin: !1,\n            allowProposedApi: !1,\n            allowTransparency: !1,\n            tabStopWidth: 8,\n            theme: {},\n            rightClickSelectsWord: r.isMac,\n            windowOptions: {},\n            windowsMode: !1,\n            wordSeparator: \" ()[]{}',\\\"`\",\n            altClickMovesCursor: !0,\n            convertEol: !1,\n            termName: \"xterm\",\n            cancelEvents: !1,\n            overviewRulerWidth: 0\n          };\n          var o = [\"normal\", \"bold\", \"100\", \"200\", \"300\", \"400\", \"500\", \"600\", \"700\", \"800\", \"900\"];\n          var a = /*#__PURE__*/function (_n$Disposable6) {\n            _inherits(a, _n$Disposable6);\n            var _super29 = _createSuper(a);\n            function a(e) {\n              var _this76;\n              _classCallCheck(this, a);\n              _this76 = _super29.call(this), _this76._onOptionChange = _this76.register(new s.EventEmitter()), _this76.onOptionChange = _this76._onOptionChange.event;\n              var i = Object.assign({}, t.DEFAULT_OPTIONS);\n              for (var _t85 in e) if (_t85 in i) try {\n                var _s52 = e[_t85];\n                i[_t85] = _this76._sanitizeAndValidateOption(_t85, _s52);\n              } catch (e) {\n                console.error(e);\n              }\n              _this76.rawOptions = i, _this76.options = Object.assign({}, i), _this76._setupOptions();\n              return _this76;\n            }\n            _createClass(a, [{\n              key: \"onSpecificOptionChange\",\n              value: function onSpecificOptionChange(e, t) {\n                var _this77 = this;\n                return this.onOptionChange(function (i) {\n                  i === e && t(_this77.rawOptions[e]);\n                });\n              }\n            }, {\n              key: \"onMultipleOptionChange\",\n              value: function onMultipleOptionChange(e, t) {\n                return this.onOptionChange(function (i) {\n                  -1 !== e.indexOf(i) && t();\n                });\n              }\n            }, {\n              key: \"_setupOptions\",\n              value: function _setupOptions() {\n                var _this78 = this;\n                var e = function e(_e127) {\n                    if (!(_e127 in t.DEFAULT_OPTIONS)) throw new Error(\"No option with key \\\"\".concat(_e127, \"\\\"\"));\n                    return _this78.rawOptions[_e127];\n                  },\n                  i = function i(e, _i61) {\n                    if (!(e in t.DEFAULT_OPTIONS)) throw new Error(\"No option with key \\\"\".concat(e, \"\\\"\"));\n                    _i61 = _this78._sanitizeAndValidateOption(e, _i61), _this78.rawOptions[e] !== _i61 && (_this78.rawOptions[e] = _i61, _this78._onOptionChange.fire(e));\n                  };\n                for (var _t86 in this.rawOptions) {\n                  var _s53 = {\n                    get: e.bind(this, _t86),\n                    set: i.bind(this, _t86)\n                  };\n                  Object.defineProperty(this.options, _t86, _s53);\n                }\n              }\n            }, {\n              key: \"_sanitizeAndValidateOption\",\n              value: function _sanitizeAndValidateOption(e, i) {\n                switch (e) {\n                  case \"cursorStyle\":\n                    if (i || (i = t.DEFAULT_OPTIONS[e]), !function (e) {\n                      return \"block\" === e || \"underline\" === e || \"bar\" === e;\n                    }(i)) throw new Error(\"\\\"\".concat(i, \"\\\" is not a valid value for \").concat(e));\n                    break;\n                  case \"wordSeparator\":\n                    i || (i = t.DEFAULT_OPTIONS[e]);\n                    break;\n                  case \"fontWeight\":\n                  case \"fontWeightBold\":\n                    if (\"number\" == typeof i && 1 <= i && i <= 1e3) break;\n                    i = o.includes(i) ? i : t.DEFAULT_OPTIONS[e];\n                    break;\n                  case \"cursorWidth\":\n                    i = Math.floor(i);\n                  case \"lineHeight\":\n                  case \"tabStopWidth\":\n                    if (i < 1) throw new Error(\"\".concat(e, \" cannot be less than 1, value: \").concat(i));\n                    break;\n                  case \"minimumContrastRatio\":\n                    i = Math.max(1, Math.min(21, Math.round(10 * i) / 10));\n                    break;\n                  case \"scrollback\":\n                    if ((i = Math.min(i, 4294967295)) < 0) throw new Error(\"\".concat(e, \" cannot be less than 0, value: \").concat(i));\n                    break;\n                  case \"fastScrollSensitivity\":\n                  case \"scrollSensitivity\":\n                    if (i <= 0) throw new Error(\"\".concat(e, \" cannot be less than or equal to 0, value: \").concat(i));\n                  case \"rows\":\n                  case \"cols\":\n                    if (!i && 0 !== i) throw new Error(\"\".concat(e, \" must be numeric, value: \").concat(i));\n                }\n                return i;\n              }\n            }]);\n            return a;\n          }(n.Disposable);\n          t.OptionsService = a;\n        },\n        2660: function _(e, t, i) {\n          var s = this && this.__decorate || function (e, t, i, s) {\n              var r,\n                n = arguments.length,\n                o = n < 3 ? t : null === s ? s = Object.getOwnPropertyDescriptor(t, i) : s;\n              if (\"object\" == (typeof Reflect === \"undefined\" ? \"undefined\" : _typeof(Reflect)) && \"function\" == typeof Reflect.decorate) o = Reflect.decorate(e, t, i, s);else for (var a = e.length - 1; a >= 0; a--) (r = e[a]) && (o = (n < 3 ? r(o) : n > 3 ? r(t, i, o) : r(t, i)) || o);\n              return n > 3 && o && Object.defineProperty(t, i, o), o;\n            },\n            r = this && this.__param || function (e, t) {\n              return function (i, s) {\n                t(i, s, e);\n              };\n            };\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.OscLinkService = void 0;\n          var n = i(2585);\n          var o = /*#__PURE__*/function () {\n            function o(e) {\n              _classCallCheck(this, o);\n              this._bufferService = e, this._nextId = 1, this._entriesWithId = new Map(), this._dataByLinkId = new Map();\n            }\n            _createClass(o, [{\n              key: \"registerLink\",\n              value: function registerLink(e) {\n                var _this79 = this;\n                var t = this._bufferService.buffer;\n                if (void 0 === e.id) {\n                  var _i62 = t.addMarker(t.ybase + t.y),\n                    _s54 = {\n                      data: e,\n                      id: this._nextId++,\n                      lines: [_i62]\n                    };\n                  return _i62.onDispose(function () {\n                    return _this79._removeMarkerFromLink(_s54, _i62);\n                  }), this._dataByLinkId.set(_s54.id, _s54), _s54.id;\n                }\n                var i = e,\n                  s = this._getEntryIdKey(i),\n                  r = this._entriesWithId.get(s);\n                if (r) return this.addLineToLink(r.id, t.ybase + t.y), r.id;\n                var n = t.addMarker(t.ybase + t.y),\n                  _o13 = {\n                    id: this._nextId++,\n                    key: this._getEntryIdKey(i),\n                    data: i,\n                    lines: [n]\n                  };\n                return n.onDispose(function () {\n                  return _this79._removeMarkerFromLink(_o13, n);\n                }), this._entriesWithId.set(_o13.key, _o13), this._dataByLinkId.set(_o13.id, _o13), _o13.id;\n              }\n            }, {\n              key: \"addLineToLink\",\n              value: function addLineToLink(e, t) {\n                var _this80 = this;\n                var i = this._dataByLinkId.get(e);\n                if (i && i.lines.every(function (e) {\n                  return e.line !== t;\n                })) {\n                  var _e128 = this._bufferService.buffer.addMarker(t);\n                  i.lines.push(_e128), _e128.onDispose(function () {\n                    return _this80._removeMarkerFromLink(i, _e128);\n                  });\n                }\n              }\n            }, {\n              key: \"getLinkData\",\n              value: function getLinkData(e) {\n                var t;\n                return null === (t = this._dataByLinkId.get(e)) || void 0 === t ? void 0 : t.data;\n              }\n            }, {\n              key: \"_getEntryIdKey\",\n              value: function _getEntryIdKey(e) {\n                return \"\".concat(e.id, \";;\").concat(e.uri);\n              }\n            }, {\n              key: \"_removeMarkerFromLink\",\n              value: function _removeMarkerFromLink(e, t) {\n                var i = e.lines.indexOf(t);\n                -1 !== i && (e.lines.splice(i, 1), 0 === e.lines.length && (void 0 !== e.data.id && this._entriesWithId.delete(e.key), this._dataByLinkId.delete(e.id)));\n              }\n            }]);\n            return o;\n          }();\n          o = s([r(0, n.IBufferService)], o), t.OscLinkService = o;\n        },\n        8343: function _(e, t) {\n          function i(e, t, i) {\n            t.di$target === t ? t.di$dependencies.push({\n              id: e,\n              index: i\n            }) : (t.di$dependencies = [{\n              id: e,\n              index: i\n            }], t.di$target = t);\n          }\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.createDecorator = t.getServiceDependencies = t.serviceRegistry = void 0, t.serviceRegistry = new Map(), t.getServiceDependencies = function (e) {\n            return e.di$dependencies || [];\n          }, t.createDecorator = function (e) {\n            if (t.serviceRegistry.has(e)) return t.serviceRegistry.get(e);\n            var s = function s(e, t, r) {\n              if (3 !== arguments.length) throw new Error(\"@IServiceName-decorator can only be used to decorate a parameter\");\n              i(s, e, r);\n            };\n            return s.toString = function () {\n              return e;\n            }, t.serviceRegistry.set(e, s), s;\n          };\n        },\n        2585: function _(e, t, i) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.IDecorationService = t.IUnicodeService = t.IOscLinkService = t.IOptionsService = t.ILogService = t.LogLevelEnum = t.IInstantiationService = t.ICharsetService = t.ICoreService = t.ICoreMouseService = t.IBufferService = void 0;\n          var s = i(8343);\n          var r;\n          t.IBufferService = (0, s.createDecorator)(\"BufferService\"), t.ICoreMouseService = (0, s.createDecorator)(\"CoreMouseService\"), t.ICoreService = (0, s.createDecorator)(\"CoreService\"), t.ICharsetService = (0, s.createDecorator)(\"CharsetService\"), t.IInstantiationService = (0, s.createDecorator)(\"InstantiationService\"), (r = t.LogLevelEnum || (t.LogLevelEnum = {}))[r.DEBUG = 0] = \"DEBUG\", r[r.INFO = 1] = \"INFO\", r[r.WARN = 2] = \"WARN\", r[r.ERROR = 3] = \"ERROR\", r[r.OFF = 4] = \"OFF\", t.ILogService = (0, s.createDecorator)(\"LogService\"), t.IOptionsService = (0, s.createDecorator)(\"OptionsService\"), t.IOscLinkService = (0, s.createDecorator)(\"OscLinkService\"), t.IUnicodeService = (0, s.createDecorator)(\"UnicodeService\"), t.IDecorationService = (0, s.createDecorator)(\"DecorationService\");\n        },\n        1480: function _(e, t, i) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.UnicodeService = void 0;\n          var s = i(8460),\n            r = i(225);\n          t.UnicodeService = /*#__PURE__*/function () {\n            function _class29() {\n              _classCallCheck(this, _class29);\n              this._providers = Object.create(null), this._active = \"\", this._onChange = new s.EventEmitter(), this.onChange = this._onChange.event;\n              var e = new r.UnicodeV6();\n              this.register(e), this._active = e.version, this._activeProvider = e;\n            }\n            _createClass(_class29, [{\n              key: \"dispose\",\n              value: function dispose() {\n                this._onChange.dispose();\n              }\n            }, {\n              key: \"versions\",\n              get: function get() {\n                return Object.keys(this._providers);\n              }\n            }, {\n              key: \"activeVersion\",\n              get: function get() {\n                return this._active;\n              },\n              set: function set(e) {\n                if (!this._providers[e]) throw new Error(\"unknown Unicode version \\\"\".concat(e, \"\\\"\"));\n                this._active = e, this._activeProvider = this._providers[e], this._onChange.fire(e);\n              }\n            }, {\n              key: \"register\",\n              value: function register(e) {\n                this._providers[e.version] = e;\n              }\n            }, {\n              key: \"wcwidth\",\n              value: function wcwidth(e) {\n                return this._activeProvider.wcwidth(e);\n              }\n            }, {\n              key: \"getStringCellWidth\",\n              value: function getStringCellWidth(e) {\n                var t = 0;\n                var i = e.length;\n                for (var _s55 = 0; _s55 < i; ++_s55) {\n                  var _r30 = e.charCodeAt(_s55);\n                  if (55296 <= _r30 && _r30 <= 56319) {\n                    if (++_s55 >= i) return t + this.wcwidth(_r30);\n                    var _n11 = e.charCodeAt(_s55);\n                    56320 <= _n11 && _n11 <= 57343 ? _r30 = 1024 * (_r30 - 55296) + _n11 - 56320 + 65536 : t += this.wcwidth(_n11);\n                  }\n                  t += this.wcwidth(_r30);\n                }\n                return t;\n              }\n            }]);\n            return _class29;\n          }();\n        }\n      },\n      t = {};\n    function i(s) {\n      var r = t[s];\n      if (void 0 !== r) return r.exports;\n      var n = t[s] = {\n        exports: {}\n      };\n      return e[s].call(n.exports, n, n.exports, i), n.exports;\n    }\n    var s = {};\n    return function () {\n      var e = s;\n      Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      }), e.Terminal = void 0;\n      var t = i(3236),\n        r = i(9042),\n        n = i(7975),\n        o = i(7090),\n        a = i(5741),\n        h = i(8285),\n        c = [\"cols\", \"rows\"];\n      e.Terminal = /*#__PURE__*/function () {\n        function _class30(e) {\n          var _this81 = this;\n          _classCallCheck(this, _class30);\n          this._core = new t.Terminal(e), this._addonManager = new a.AddonManager(), this._publicOptions = Object.assign({}, this._core.options);\n          var i = function i(e) {\n              return _this81._core.options[e];\n            },\n            s = function s(e, t) {\n              _this81._checkReadonlyOptions(e), _this81._core.options[e] = t;\n            };\n          for (var _e129 in this._core.options) {\n            var _t87 = {\n              get: i.bind(this, _e129),\n              set: s.bind(this, _e129)\n            };\n            Object.defineProperty(this._publicOptions, _e129, _t87);\n          }\n        }\n        _createClass(_class30, [{\n          key: \"_checkReadonlyOptions\",\n          value: function _checkReadonlyOptions(e) {\n            if (c.includes(e)) throw new Error(\"Option \\\"\".concat(e, \"\\\" can only be set in the constructor\"));\n          }\n        }, {\n          key: \"_checkProposedApi\",\n          value: function _checkProposedApi() {\n            if (!this._core.optionsService.rawOptions.allowProposedApi) throw new Error(\"You must set the allowProposedApi option to true to use proposed API\");\n          }\n        }, {\n          key: \"onBell\",\n          get: function get() {\n            return this._core.onBell;\n          }\n        }, {\n          key: \"onBinary\",\n          get: function get() {\n            return this._core.onBinary;\n          }\n        }, {\n          key: \"onCursorMove\",\n          get: function get() {\n            return this._core.onCursorMove;\n          }\n        }, {\n          key: \"onData\",\n          get: function get() {\n            return this._core.onData;\n          }\n        }, {\n          key: \"onKey\",\n          get: function get() {\n            return this._core.onKey;\n          }\n        }, {\n          key: \"onLineFeed\",\n          get: function get() {\n            return this._core.onLineFeed;\n          }\n        }, {\n          key: \"onRender\",\n          get: function get() {\n            return this._core.onRender;\n          }\n        }, {\n          key: \"onResize\",\n          get: function get() {\n            return this._core.onResize;\n          }\n        }, {\n          key: \"onScroll\",\n          get: function get() {\n            return this._core.onScroll;\n          }\n        }, {\n          key: \"onSelectionChange\",\n          get: function get() {\n            return this._core.onSelectionChange;\n          }\n        }, {\n          key: \"onTitleChange\",\n          get: function get() {\n            return this._core.onTitleChange;\n          }\n        }, {\n          key: \"onWriteParsed\",\n          get: function get() {\n            return this._core.onWriteParsed;\n          }\n        }, {\n          key: \"element\",\n          get: function get() {\n            return this._core.element;\n          }\n        }, {\n          key: \"parser\",\n          get: function get() {\n            return this._parser || (this._parser = new n.ParserApi(this._core)), this._parser;\n          }\n        }, {\n          key: \"unicode\",\n          get: function get() {\n            return this._checkProposedApi(), new o.UnicodeApi(this._core);\n          }\n        }, {\n          key: \"textarea\",\n          get: function get() {\n            return this._core.textarea;\n          }\n        }, {\n          key: \"rows\",\n          get: function get() {\n            return this._core.rows;\n          }\n        }, {\n          key: \"cols\",\n          get: function get() {\n            return this._core.cols;\n          }\n        }, {\n          key: \"buffer\",\n          get: function get() {\n            return this._buffer || (this._buffer = new h.BufferNamespaceApi(this._core)), this._buffer;\n          }\n        }, {\n          key: \"markers\",\n          get: function get() {\n            return this._checkProposedApi(), this._core.markers;\n          }\n        }, {\n          key: \"modes\",\n          get: function get() {\n            var e = this._core.coreService.decPrivateModes;\n            var t = \"none\";\n            switch (this._core.coreMouseService.activeProtocol) {\n              case \"X10\":\n                t = \"x10\";\n                break;\n              case \"VT200\":\n                t = \"vt200\";\n                break;\n              case \"DRAG\":\n                t = \"drag\";\n                break;\n              case \"ANY\":\n                t = \"any\";\n            }\n            return {\n              applicationCursorKeysMode: e.applicationCursorKeys,\n              applicationKeypadMode: e.applicationKeypad,\n              bracketedPasteMode: e.bracketedPasteMode,\n              insertMode: this._core.coreService.modes.insertMode,\n              mouseTrackingMode: t,\n              originMode: e.origin,\n              reverseWraparoundMode: e.reverseWraparound,\n              sendFocusMode: e.sendFocus,\n              wraparoundMode: e.wraparound\n            };\n          }\n        }, {\n          key: \"options\",\n          get: function get() {\n            return this._publicOptions;\n          },\n          set: function set(e) {\n            for (var _t88 in e) this._publicOptions[_t88] = e[_t88];\n          }\n        }, {\n          key: \"blur\",\n          value: function blur() {\n            this._core.blur();\n          }\n        }, {\n          key: \"focus\",\n          value: function focus() {\n            this._core.focus();\n          }\n        }, {\n          key: \"resize\",\n          value: function resize(e, t) {\n            this._verifyIntegers(e, t), this._core.resize(e, t);\n          }\n        }, {\n          key: \"open\",\n          value: function open(e) {\n            this._core.open(e);\n          }\n        }, {\n          key: \"attachCustomKeyEventHandler\",\n          value: function attachCustomKeyEventHandler(e) {\n            this._core.attachCustomKeyEventHandler(e);\n          }\n        }, {\n          key: \"registerLinkProvider\",\n          value: function registerLinkProvider(e) {\n            return this._core.registerLinkProvider(e);\n          }\n        }, {\n          key: \"registerCharacterJoiner\",\n          value: function registerCharacterJoiner(e) {\n            return this._checkProposedApi(), this._core.registerCharacterJoiner(e);\n          }\n        }, {\n          key: \"deregisterCharacterJoiner\",\n          value: function deregisterCharacterJoiner(e) {\n            this._checkProposedApi(), this._core.deregisterCharacterJoiner(e);\n          }\n        }, {\n          key: \"registerMarker\",\n          value: function registerMarker() {\n            var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n            return this._verifyIntegers(e), this._core.addMarker(e);\n          }\n        }, {\n          key: \"registerDecoration\",\n          value: function registerDecoration(e) {\n            var t, i, s;\n            return this._checkProposedApi(), this._verifyPositiveIntegers(null !== (t = e.x) && void 0 !== t ? t : 0, null !== (i = e.width) && void 0 !== i ? i : 0, null !== (s = e.height) && void 0 !== s ? s : 0), this._core.registerDecoration(e);\n          }\n        }, {\n          key: \"hasSelection\",\n          value: function hasSelection() {\n            return this._core.hasSelection();\n          }\n        }, {\n          key: \"select\",\n          value: function select(e, t, i) {\n            this._verifyIntegers(e, t, i), this._core.select(e, t, i);\n          }\n        }, {\n          key: \"getSelection\",\n          value: function getSelection() {\n            return this._core.getSelection();\n          }\n        }, {\n          key: \"getSelectionPosition\",\n          value: function getSelectionPosition() {\n            return this._core.getSelectionPosition();\n          }\n        }, {\n          key: \"clearSelection\",\n          value: function clearSelection() {\n            this._core.clearSelection();\n          }\n        }, {\n          key: \"selectAll\",\n          value: function selectAll() {\n            this._core.selectAll();\n          }\n        }, {\n          key: \"selectLines\",\n          value: function selectLines(e, t) {\n            this._verifyIntegers(e, t), this._core.selectLines(e, t);\n          }\n        }, {\n          key: \"dispose\",\n          value: function dispose() {\n            this._addonManager.dispose(), this._core.dispose();\n          }\n        }, {\n          key: \"scrollLines\",\n          value: function scrollLines(e) {\n            this._verifyIntegers(e), this._core.scrollLines(e);\n          }\n        }, {\n          key: \"scrollPages\",\n          value: function scrollPages(e) {\n            this._verifyIntegers(e), this._core.scrollPages(e);\n          }\n        }, {\n          key: \"scrollToTop\",\n          value: function scrollToTop() {\n            this._core.scrollToTop();\n          }\n        }, {\n          key: \"scrollToBottom\",\n          value: function scrollToBottom() {\n            this._core.scrollToBottom();\n          }\n        }, {\n          key: \"scrollToLine\",\n          value: function scrollToLine(e) {\n            this._verifyIntegers(e), this._core.scrollToLine(e);\n          }\n        }, {\n          key: \"clear\",\n          value: function clear() {\n            this._core.clear();\n          }\n        }, {\n          key: \"write\",\n          value: function write(e, t) {\n            this._core.write(e, t);\n          }\n        }, {\n          key: \"writeln\",\n          value: function writeln(e, t) {\n            this._core.write(e), this._core.write(\"\\r\\n\", t);\n          }\n        }, {\n          key: \"paste\",\n          value: function paste(e) {\n            this._core.paste(e);\n          }\n        }, {\n          key: \"refresh\",\n          value: function refresh(e, t) {\n            this._verifyIntegers(e, t), this._core.refresh(e, t);\n          }\n        }, {\n          key: \"reset\",\n          value: function reset() {\n            this._core.reset();\n          }\n        }, {\n          key: \"clearTextureAtlas\",\n          value: function clearTextureAtlas() {\n            this._core.clearTextureAtlas();\n          }\n        }, {\n          key: \"loadAddon\",\n          value: function loadAddon(e) {\n            return this._addonManager.loadAddon(this, e);\n          }\n        }, {\n          key: \"_verifyIntegers\",\n          value: function _verifyIntegers() {\n            for (var _len8 = arguments.length, e = new Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {\n              e[_key8] = arguments[_key8];\n            }\n            for (var _i63 = 0, _e130 = e; _i63 < _e130.length; _i63++) {\n              var _t89 = _e130[_i63];\n              if (_t89 === 1 / 0 || isNaN(_t89) || _t89 % 1 != 0) throw new Error(\"This API only accepts integers\");\n            }\n          }\n        }, {\n          key: \"_verifyPositiveIntegers\",\n          value: function _verifyPositiveIntegers() {\n            for (var _len9 = arguments.length, e = new Array(_len9), _key9 = 0; _key9 < _len9; _key9++) {\n              e[_key9] = arguments[_key9];\n            }\n            for (var _i64 = 0, _e131 = e; _i64 < _e131.length; _i64++) {\n              var _t90 = _e131[_i64];\n              if (_t90 && (_t90 === 1 / 0 || isNaN(_t90) || _t90 % 1 != 0 || _t90 < 0)) throw new Error(\"This API only accepts positive integers\");\n            }\n          }\n        }], [{\n          key: \"strings\",\n          get: function get() {\n            return r;\n          }\n        }]);\n        return _class30;\n      }();\n    }(), s;\n  }();\n});\n\n//# sourceURL=webpack://acode-plugin-acodex/./node_modules/xterm/lib/xterm.js?");

/***/ }),

/***/ "./src/main.js":
/*!*********************!*\
  !*** ./src/main.js ***!
  \*********************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var html_tag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! html-tag-js */ \"./node_modules/html-tag-js/dist/tag.js\");\n/* harmony import */ var html_tag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(html_tag_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/esm/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"./node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _plugin_json__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../plugin.json */ \"./plugin.json\");\n/* harmony import */ var _style_scss__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./style.scss */ \"./src/style.scss\");\n/* harmony import */ var xterm__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! xterm */ \"./node_modules/xterm/lib/xterm.js\");\n/* harmony import */ var xterm__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(xterm__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var xterm_addon_fit__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! xterm-addon-fit */ \"./node_modules/xterm-addon-fit/lib/xterm-addon-fit.js\");\n/* harmony import */ var xterm_addon_fit__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(xterm_addon_fit__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var xterm_addon_webgl__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! xterm-addon-webgl */ \"./node_modules/xterm-addon-webgl/lib/xterm-addon-webgl.js\");\n/* harmony import */ var xterm_addon_webgl__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(xterm_addon_webgl__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _xterm_addon_attach_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./xterm-addon-attach.js */ \"./src/xterm-addon-attach.js\");\n\n// xtermjs \n// xtermjs addons\n// acode commopents & api\nvar alert=acode.require('alert');var confirm=acode.require('confirm');var helpers=acode.require('helpers');var prompt=acode.require('prompt');var appSettings=acode.require('settings');/*\nTODO:\n- Fix keyboard issue\n*/var AcodeX=/*#__PURE__*/function(){// default settings for terminal\n// Terminal Theme Color\nfunction AcodeX(){(0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this,AcodeX);(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this,\"isDragging\",false);(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this,\"startY\",void 0);(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this,\"startHeight\",void 0);(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this,\"CURSOR_BLINK\",true);(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this,\"CURSOR_STYLE1\",\"block\");(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this,\"CURSOR_STYLE2\",\"underline\");(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this,\"CURSOR_STYLE3\",\"bar\");(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this,\"FONT_SIZE\",18);(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this,\"SCROLLBACK\",1000);(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this,\"SCROLL_SENSITIVITY\",1000);(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this,\"FONT_FAMILY\",\"Fira Code, monospace\");(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this,\"BACKGROUND_COLOR\",\"#1c2431\");(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this,\"FOREGROUND_COLOR\",\"#cccccc\");(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this,\"SELECTIONBACKGROUND\",\"#399ef440\");(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this,\"BLACK\",\"#666666\");(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this,\"BLUE\",\"#399ef4\");(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this,\"BRIGHT_BLACK\",\"#666666\");(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this,\"BRIGHT_BLUE\",\"#399ef4\");(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this,\"BRIGHT_CYAN\",\"#21c5c7\");(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this,\"BRIGHT_GREEN\",\"#4eb071\");(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this,\"BRIGHT_MAGENTA\",\"#b168df\");(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this,\"BRIGHT_RED\",\"#da6771\");(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this,\"BRIGHT_WHITE\",\"#efefef\");(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this,\"BRIGHT_YELLOW\",\"#fff099\");(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this,\"CYAN\",\"#21c5c7\");(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this,\"GREEN\",\"#4eb071\");(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this,\"MAGENTA\",\"#b168df\");(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this,\"RED\",\"#da6771\");(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this,\"WHITE\",\"#efefef\");(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this,\"YELLOW\",\"#fff099\");if(!appSettings.value[_plugin_json__WEBPACK_IMPORTED_MODULE_6__.id]){appSettings.value[_plugin_json__WEBPACK_IMPORTED_MODULE_6__.id]={cursorBlink:this.CURSOR_BLINK,cursorStyle:this.CURSOR_STYLE1,fontSize:this.FONT_SIZE,scrollBack:this.SCROLLBACK,scrollSensitivity:this.SCROLL_SENSITIVITY,fontFamily:this.FONT_FAMILY,backgroundColor:this.BACKGROUND_COLOR,foregroundColor:this.FOREGROUND_COLOR,selectionBackground:this.SELECTIONBACKGROUND,black:this.BLACK,blue:this.BLUE,brightBlack:this.BRIGHT_BLACK,brightBlue:this.BRIGHT_BLUE,brightCyan:this.BRIGHT_CYAN,brightGreen:this.BRIGHT_GREEN,brightMagenta:this.BRIGHT_MAGENTA,brightRed:this.BRIGHT_RED,brightWhite:this.BRIGHT_WHITE,brightYellow:this.BRIGHT_YELLOW,cyan:this.CYAN,green:this.GREEN,magenta:this.MAGENTA,red:this.RED,white:this.WHITE,yellow:this.YELLOW};appSettings.update(false);}}(0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(AcodeX,[{key:\"init\",value:function(){var _init=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_5___default().mark(function _callee(){var _this$$terminalHeader,_this$$terminalContai,_app$get,$controlBtn;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_5___default().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:try{this.xtermCss=html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()(\"link\",{rel:\"stylesheet\",href:this.baseUrl+\"xterm.css\"});this.$style=html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()(\"style\",{textContent:_style_scss__WEBPACK_IMPORTED_MODULE_7__[\"default\"]});document.head.append(this.xtermCss,this.$style);// add command in command Pallete for opening and closing terminal\neditorManager.editor.commands.addCommand({name:\"acodex:open_terminal\",description:\"Open Terminal\",bindKey:{win:'Ctrl-K'},exec:this.openTerminal.bind(this)});editorManager.editor.commands.addCommand({name:\"acodex:close_terminal\",description:\"Close Terminal\",bindKey:{win:'Ctrl-J'},exec:this.closeTerminal.bind(this)});// main terminal container\nthis.$terminalContainer=html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()(\"div\",{className:\"terminal-container\"});this.$terminalHeader=html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()(\"div\",{className:\"terminal-header\"});this.$terminalTitle=html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()(\"h3\",{textContent:\"AcodeX\"});this.$cmdInput=html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()(\"input\",{type:'text',placeholder:'Type your command here..'});this.$cmdInput.onchange=this.runCmdByInp.bind(this);$controlBtn=html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()(\"div\",{className:\"control-btn\"});this.$hideTermBtn=html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()(\"button\",{className:\"hide-terminal-btn\",textContent:\"\"});this.$closeTermBtn=html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()(\"button\",{className:\"close-terminal-btn\",textContent:\"\"});$controlBtn.append.apply($controlBtn,[this.$hideTermBtn,this.$closeTermBtn]);(_this$$terminalHeader=this.$terminalHeader).append.apply(_this$$terminalHeader,[this.$terminalTitle,this.$cmdInput,$controlBtn]);this.$terminalContent=html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()(\"div\",{className:\"terminal-content\"});(_this$$terminalContai=this.$terminalContainer).append.apply(_this$$terminalContai,[this.$terminalHeader,this.$terminalContent]);// show terminal button\nthis.$showTermBtn=html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()(\"button\",{className:\"show-terminal-btn\",textContent:\"\"});// append Terminal panel to app main\n(_app$get=app.get(\"main\")).append.apply(_app$get,[this.$terminalContainer,this.$showTermBtn]);this.$showTermBtn.classList.add(\"hide\");this.$terminalContainer.classList.add(\"hide\");// add event listnner to all buttons and terminal panel header\nthis.$terminalTitle.addEventListener('mousedown',this.startDragging.bind(this));this.$terminalTitle.addEventListener('touchstart',this.startDragging.bind(this));this.$closeTermBtn.addEventListener('click',this.closeTerminal.bind(this));this.$hideTermBtn.addEventListener('click',this.minimise.bind(this));this.$showTermBtn.addEventListener('click',this.maxmise.bind(this));window.addEventListener('mousemove',this.drag.bind(this));window.addEventListener('touchmove',this.drag.bind(this));window.addEventListener('mouseup',this.stopDragging.bind(this));window.addEventListener('touchend',this.stopDragging.bind(this));}catch(err){alert(\"Warning\",\"Please Restart the app to use AcodeX\");}case 1:case\"end\":return _context.stop();}},_callee,this);}));function init(){return _init.apply(this,arguments);}return init;}()},{key:\"openTerminal\",value:function(){var _openTerminal=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_5___default().mark(function _callee2(){var port,attachAddon;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_5___default().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return prompt(\"Port\",\"8767\",\"number\",{required:true});case 3:port=_context2.sent;if(port){this.$terminalContainer.classList.remove('hide');this.$terminalContainer.style.height=\"270px\";// initialise xtermjs Terminal class\nthis.$terminal=new xterm__WEBPACK_IMPORTED_MODULE_8__.Terminal({allowProposedApi:true,scrollOnUserInput:true,cursorBlink:this.settings.cursorBlink,cursorStyle:this.settings.cursorStyle,scrollBack:this.settings.scrollBack,scrollSensitivity:this.settings.scrollSensitivity,fontSize:this.settings.fontSize,fontFamily:this.settings.fontFamily,theme:{background:this.settings.backgroundColor,foreground:this.settings.foregroundColor,selectionBackground:this.settings.selectionBackground,black:this.settings.black,blue:this.settings.blue,brightBlack:this.settings.brightBlack,brightBlue:this.settings.brightBlue,brightCyan:this.settings.brightCyan,brightGreen:this.settings.brightGreen,brightMagenta:this.settings.brightMagenta,brightRed:this.settings.brightRed,brightWhite:this.settings.brightWhite,brightYellow:this.settings.brightYellow,cyan:this.settings.cyan,green:this.settings.green,magenta:this.settings.magenta,red:this.settings.red,white:this.settings.white,yellow:this.settings.yellow}});this.$fitAddon=new xterm_addon_fit__WEBPACK_IMPORTED_MODULE_9__.FitAddon();this.$terminal.loadAddon(this.$fitAddon);this.$terminal.open(this.$terminalContent);this.$terminal.loadAddon(new xterm_addon_webgl__WEBPACK_IMPORTED_MODULE_10__.WebglAddon());this.ws=new WebSocket(\"ws://localhost:\".concat(port,\"/\"));attachAddon=new _xterm_addon_attach_js__WEBPACK_IMPORTED_MODULE_11__.AttachAddon(this.ws);this.$terminal.loadAddon(attachAddon);this.$fitAddon.fit();}_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);window.toast(_context2.t0,5000);case 10:case\"end\":return _context2.stop();}},_callee2,this,[[0,7]]);}));function openTerminal(){return _openTerminal.apply(this,arguments);}return openTerminal;}()},{key:\"runCmdByInp\",value:function(){var _runCmdByInp=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_5___default().mark(function _callee3(){var cmd;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_5___default().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:cmd=this.$cmdInput.value;this.ws.send(cmd);this.$cmdInput.value='';case 3:case\"end\":return _context3.stop();}},_callee3,this);}));function runCmdByInp(){return _runCmdByInp.apply(this,arguments);}return runCmdByInp;}()},{key:\"closeTerminal\",value:function(){var _closeTerminal=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_5___default().mark(function _callee4(){var confirmation;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_5___default().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.next=2;return confirm(\"Warning\",\"Are you sure ?\");case 2:confirmation=_context4.sent;if(confirmation){_context4.next=5;break;}return _context4.abrupt(\"return\");case 5:this.$terminalContent.innerHTML='';this.$terminalContainer.classList.add('hide');this.$showTermBtn.classList.add('hide');case 8:case\"end\":return _context4.stop();}},_callee4,this);}));function closeTerminal(){return _closeTerminal.apply(this,arguments);}return closeTerminal;}()},{key:\"startDragging\",value:function startDragging(e){if(e.type==='touchstart'){this.startY=e.touches[0].clientY;}else{e.preventDefault();this.startY=e.clientY;}this.startHeight=this.$terminalContainer.clientHeight;this.isDragging=true;}},{key:\"drag\",value:function drag(e){if(!this.isDragging){return;}e.preventDefault();var currentY;if(e.type==='touchmove'){currentY=e.touches[0].clientY;}else{currentY=e.clientY;}// Calculate the difference between the current and initial touch/mouse position\nvar diffY=currentY-this.startY;// Get the new height of the panel container\nvar newHeight=this.startHeight-diffY;// Restrict the height of the panel container to the screen height\nvar screenHeight=window.innerHeight;newHeight=Math.min(newHeight,screenHeight);// Set the new height of the panel container\nif(newHeight<=100){return;}this.$terminalContainer.style.height=newHeight+'px';this.$terminalContent.style.height=newHeight-50+'px';this.$fitAddon.fit();}},{key:\"stopDragging\",value:function stopDragging(e){this.isDragging=false;}},{key:\"minimise\",value:function minimise(){/*\n        hide terminal and active the show terminal button\n        */try{var contHeight=window.getComputedStyle(this.$terminalContainer).height;if(contHeight!='0px'){this.$terminalContainer.style.height=0;this.$terminalContent.style.height=0;this.$fitAddon.fit();this.$showTermBtn.classList.remove('hide');}}catch(err){window.alert(err);}}},{key:\"maxmise\",value:function maxmise(){/*\n        show terminal and hide the show terminal button\n        */var contHeight=window.getComputedStyle(this.$terminalContainer).height;if(contHeight==='0px'){this.$terminalContainer.style.height='270px';this.$terminalContent.style.height='230px';this.$fitAddon.fit();this.$showTermBtn.classList.add('hide');}}},{key:\"destroy\",value:function(){var _destroy=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_5___default().mark(function _callee5(){return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_5___default().wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:editorManager.editor.commands.removeCommand(\"terminal:open_terminal\");editorManager.editor.commands.removeCommand(\"terminal:close_terminal\");this.$terminalContainer.remove();this.$showTermBtn.remove();window.removeEventListener('mousemove',this.drag);window.removeEventListener('touchmove',this.drag);window.removeEventListener('mouseup',this.stopDragging);window.removeEventListener('touchend',this.stopDragging);case 8:case\"end\":return _context5.stop();}},_callee5,this);}));function destroy(){return _destroy.apply(this,arguments);}return destroy;}()},{key:\"settingsObj\",get:function get(){var _this=this;return{list:[{index:0,key:'cursorBlink',text:'Cursor Blink',info:'Whether the cursor blinks.',checkbox:!!this.settings.cursorBlink},{index:1,key:'cursorStyle',text:'Cursor Style',value:this.settings.cursorStyle,info:'The style of the cursor.',select:[this.CURSOR_STYLE1,this.CURSOR_STYLE2,this.CURSOR_STYLE3]},{index:2,key:'fontSize',text:'Font Size',value:this.settings.fontSize,info:\"The font size used to render text.\",prompt:\"Font Size\",promptType:\"text\",promptOption:[{match:/^[0-9]+$/,required:true}]},{index:3,key:'scrollBack',text:'Scroll Back',value:this.settings.scrollBack,info:\"The amount of scrollback in the terminal. Scrollback is the amount of rows that are retained when lines are scrolled beyond the initial viewport.\",prompt:'Scroll Back',promptType:\"number\",promptOption:[{match:/^[0-9]+$/,required:true}]},{index:4,key:'scrollSensitivity',text:'Scroll Sensitivity',value:this.settings.scrollSensitivity,info:\"The scrolling speed multiplier used for adjusting normal scrolling speed.\",prompt:'Scroll Sensitivity',promptType:\"number\",promptOption:[{match:/^[0-9]+$/,required:true}]},{index:5,key:'fontFamily',text:'Font Family',value:this.settings.fontFamily,info:\"The font family used to render text.\",prompt:\"Font Family\",promptType:\"text\",promptOption:[{required:true}]},{index:6,key:'backgroundColor',text:'Background Color',value:this.settings.backgroundColor,prompt:'Background Color',promptType:\"text\",promptOption:[{match:/^#([0-9A-Fa-f]{3}){1,2}$/,required:true}]},{index:7,key:'foregroundColor',text:'Foreground Color',value:this.settings.foregroundColor,prompt:'Foreground Color',promptType:\"text\",promptOption:[{match:/^#([0-9A-Fa-f]{3}){1,2}$/,required:true}]},{index:8,key:'selectionBackground',text:'Selection Background Color',value:this.settings.selectionBackground,prompt:'Selection Background Color',promptType:\"text\",promptOption:[{match:/^#([0-9A-Fa-f]{3}){1,2}$/,required:true}]},{index:9,key:'black',text:'Black Color',value:this.settings.black,prompt:'Black Color',promptType:\"text\",promptOption:[{match:/^#([0-9A-Fa-f]{3}){1,2}$/,required:true}]},{index:10,key:'blue',text:'Blue Color',value:this.settings.blue,prompt:'Blue Color',promptType:\"text\",promptOption:[{match:/^#([0-9A-Fa-f]{3}){1,2}$/,required:true}]},{index:11,key:'brightBlack',text:'Bright Black Color',value:this.settings.brightBlack,prompt:'Bright Black Color',promptType:\"text\",promptOption:[{match:/^#([0-9A-Fa-f]{3}){1,2}$/,required:true}]},{index:12,key:'brightBlue',text:'Bright Blue Color',value:this.settings.brightBlue,prompt:'Bright Blue Color',promptType:\"text\",promptOption:[{match:/^#([0-9A-Fa-f]{3}){1,2}$/,required:true}]},{index:13,key:'brightCyan',text:'Bright Cyan Color',value:this.settings.brightCyan,prompt:'Bright Cyan Color',promptType:\"text\",promptOption:[{match:/^#([0-9A-Fa-f]{3}){1,2}$/,required:true}]},{index:14,key:'brightGreen',text:'Bright Green Color',value:this.settings.brightGreen,prompt:'Bright Green Color',promptType:\"text\",promptOption:[{match:/^#([0-9A-Fa-f]{3}){1,2}$/,required:true}]},{index:15,key:'brightMagenta',text:'Bright Magenta Color',value:this.settings.brightMagenta,prompt:'Bright Magenta Color',promptType:\"text\",promptOption:[{match:/^#([0-9A-Fa-f]{3}){1,2}$/,required:true}]},{index:16,key:'brightRed',text:'Bright Red Color',value:this.settings.brightRed,prompt:'Bright Red Color',promptType:\"text\",promptOption:[{match:/^#([0-9A-Fa-f]{3}){1,2}$/,required:true}]},{index:17,key:'brightWhite',text:'Bright White Color',value:this.settings.brightWhite,prompt:'Bright White Color',promptType:\"text\",promptOption:[{match:/^#([0-9A-Fa-f]{3}){1,2}$/,required:true}]},{index:18,key:'brightYellow',text:'Bright Yellow Color',value:this.settings.brightYellow,prompt:'Bright Yellow Color',promptType:\"text\",promptOption:[{match:/^#([0-9A-Fa-f]{3}){1,2}$/,required:true}]},{index:19,key:'cyan',text:'Cyan Color',value:this.settings.cyan,prompt:'Cyan Color',promptType:\"text\",promptOption:[{match:/^#([0-9A-Fa-f]{3}){1,2}$/,required:true}]},{index:20,key:'green',text:'Green Color',value:this.settings.green,prompt:'Green Color',promptType:\"text\",promptOption:[{match:/^#([0-9A-Fa-f]{3}){1,2}$/,required:true}]},{index:21,key:'magenta',text:'Magenta Color',value:this.settings.magenta,prompt:'Magenta Color',promptType:\"text\",promptOption:[{match:/^#([0-9A-Fa-f]{3}){1,2}$/,required:true}]},{index:22,key:'red',text:'Red Color',value:this.settings.red,prompt:'Red Color',promptType:\"text\",promptOption:[{match:/^#([0-9A-Fa-f]{3}){1,2}$/,required:true}]},{index:23,key:'white',text:'White Color',value:this.settings.white,prompt:'White Color',promptType:\"text\",promptOption:[{match:/^#([0-9A-Fa-f]{3}){1,2}$/,required:true}]},{index:24,key:'yellow',text:'Yellow Color',value:this.settings.yellow,prompt:'Yellow Color',promptType:\"text\",promptOption:[{match:/^#([0-9A-Fa-f]{3}){1,2}$/,required:true}]}],cb:function cb(key,value){_this.settings[key]=value;appSettings.update();}};}},{key:\"settings\",get:function get(){return appSettings.value[_plugin_json__WEBPACK_IMPORTED_MODULE_6__.id];}}]);return AcodeX;}();if(window.acode){var acodePlugin=new AcodeX();acode.setPluginInit(_plugin_json__WEBPACK_IMPORTED_MODULE_6__.id,function(baseUrl,$page,_ref){var cacheFileUrl=_ref.cacheFileUrl,cacheFile=_ref.cacheFile;if(!baseUrl.endsWith(\"/\")){baseUrl+=\"/\";}acodePlugin.baseUrl=baseUrl;acodePlugin.init($page,cacheFile,cacheFileUrl);},acodePlugin.settingsObj);acode.setPluginUnmount(_plugin_json__WEBPACK_IMPORTED_MODULE_6__.id,function(){acodePlugin.destroy();});}\n\n//# sourceURL=webpack://acode-plugin-acodex/./src/main.js?");

/***/ }),

/***/ "./src/xterm-addon-attach.js":
/*!***********************************!*\
  !*** ./src/xterm-addon-attach.js ***!
  \***********************************/
/***/ (function(__unused_webpack_module, exports) {

eval("Object.defineProperty(exports, \"__esModule\", ({value:true}));exports.AttachAddon=void 0;var AttachAddon=/** @class */function(){function AttachAddon(socket,options){this._disposables=[];this._socket=socket;// always set binary type to arraybuffer, we do not handle blobs\nthis._socket.binaryType='arraybuffer';this._bidirectional=!(options&&options.bidirectional===false);}AttachAddon.prototype.activate=function(terminal){var _this=this;this._disposables.push(addSocketListener(this._socket,'message',function(ev){var data=ev.data;terminal.write(typeof data==='string'?data:new Uint8Array(data));}));if(this._bidirectional){var clearInput=function clearInput(term,cmd){var inputLengh=cmd.length;for(var i=0;i<inputLengh;i++){term.write('\\b \\b');}};var runCommand=function runCommand(term,cmd){if(cmd.length>0){clearInput(term,cmd);_this._sendData(cmd);return;}};var cmdHistory=JSON.parse(localStorage.getItem(\"cmdHistory\"))||[];var currentInputIndex=cmdHistory.length;var command_1='';this._disposables.push(terminal.onData(function(data){switch(data){case\"\\x03\":// Ctrl+C\nterminal.write('^C');_this._sendData(data);break;case'\\r':// Enter\nrunCommand(terminal,command_1);cmdHistory.push(command_1);if(cmdHistory.length>50){cmdHistory.shift();}currentInputIndex=cmdHistory.length;localStorage.setItem(\"cmdHistory\",JSON.stringify(cmdHistory));command_1='';break;case\"\\x7F\":// Backspace (DEL)\n// Do not delete the prompt\nif(terminal._core.buffer.x>4){terminal.write('\\b \\b');if(command_1.length>0){command_1=command_1.substr(0,command_1.length-1);}}break;case\"\\x1B[A\":if(currentInputIndex>0){// Only go back in history if we're not at the beginning\ncurrentInputIndex--;terminal.write(\"\\x1b[2K\\r\"+cmdHistory[currentInputIndex]);// Clear the current input and print the previous one\n}break;case\"\\x1B[B\":// If user pressed the down arrow key\nif(currentInputIndex<cmdHistory.length){// Only go forward in history if we're not at the end\ncurrentInputIndex++;if(currentInputIndex===cmdHistory.length){// If we're at the end, clear the input\nterminal.write(\"\\x1b[2K\\r\");}else{terminal.write(\"\\x1b[2K\\r\"+cmdHistory[currentInputIndex]);// Clear the current input and print the next one\n}}break;default:if(data>=String.fromCharCode(0x20)&&data<=String.fromCharCode(0x7E)||data>=\"\\xA0\"){command_1+=data;terminal.write(data);}}}));this._disposables.push(terminal.onBinary(function(data){return _this._sendBinary(data);}));}this._disposables.push(addSocketListener(this._socket,'close',function(){return _this.dispose();}));this._disposables.push(addSocketListener(this._socket,'error',function(){return _this.dispose();}));};AttachAddon.prototype.dispose=function(){for(var _i=0,_a=this._disposables;_i<_a.length;_i++){var d=_a[_i];d.dispose();}};AttachAddon.prototype._sendData=function(data){if(!this._checkOpenSocket()){return;}this._socket.send(data);};AttachAddon.prototype._sendBinary=function(data){if(!this._checkOpenSocket()){return;}var buffer=new Uint8Array(data.length);for(var i=0;i<data.length;++i){buffer[i]=data.charCodeAt(i)&255;}this._socket.send(buffer);};AttachAddon.prototype._checkOpenSocket=function(){switch(this._socket.readyState){case WebSocket.OPEN:return true;case WebSocket.CONNECTING:throw new Error('Attach addon was loaded before socket was open');case WebSocket.CLOSING:console.warn('Attach addon socket is closing');return false;case WebSocket.CLOSED:throw new Error('Attach addon socket is closed');default:throw new Error('Unexpected socket state');}};return AttachAddon;}();exports.AttachAddon=AttachAddon;function addSocketListener(socket,type,handler){socket.addEventListener(type,handler);return{dispose:function dispose(){if(!handler){// Already disposed\nreturn;}socket.removeEventListener(type,handler);}};}\n\n//# sourceURL=webpack://acode-plugin-acodex/./src/xterm-addon-attach.js?");

/***/ }),

/***/ "./src/style.scss":
/*!************************!*\
  !*** ./src/style.scss ***!
  \************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\".terminal-container {\\n  position: absolute;\\n  bottom: 0;\\n  left: 0;\\n  width: 100%;\\n  z-index: 107;\\n  background-color: var(--popup-background-color);\\n  border-top: 1px solid var(--popup-border-color);\\n  box-shadow: 0 -2px 6px var(--box-shadow-color);\\n  overflow: hidden;\\n  height: 270px;\\n}\\n.terminal-container .terminal-header {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  padding: 10px;\\n  cursor: move;\\n  background: var(--primary-color);\\n  box-shadow: 0 1px 6px var(--box-shadow-color);\\n}\\n.terminal-container .terminal-header h3 {\\n  margin: 0;\\n}\\n.terminal-container .terminal-header .control-btn {\\n  display: flex;\\n  justify-content: space-between;\\n  align-content: center;\\n}\\n.terminal-container .terminal-header .control-btn .hide-terminal-btn {\\n  font-size: 22px;\\n  height: 30px;\\n  width: 30px;\\n  border-radius: 50%;\\n  background: var(--active-icon-color);\\n  border: none;\\n  font-weight: 700;\\n  color: var(--primary-text-color);\\n  margin-right: 8px;\\n}\\n.terminal-container .terminal-header .control-btn .close-terminal-btn {\\n  font-size: 17px;\\n  height: 27px;\\n  width: 27px;\\n  border-radius: 50%;\\n  background: var(--error-text-color);\\n  border: none;\\n  color: var(--primary-text-color);\\n}\\n.terminal-container .terminal-content {\\n  overflow: auto;\\n}\\n\\n.show-terminal-btn {\\n  font-size: 22px;\\n  height: 30px;\\n  width: 30px;\\n  font-weight: 700;\\n  background: var(--button-background-color);\\n  border: none;\\n  color: var(--primary-text-color);\\n  position: absolute;\\n  bottom: 0;\\n  left: 29px;\\n  z-index: 107;\\n  border-start-start-radius: 30%;\\n  border-start-end-radius: 30%;\\n}\\n\\n.hide {\\n  display: none;\\n}\");\n\n//# sourceURL=webpack://acode-plugin-acodex/./src/style.scss?");

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/regeneratorRuntime.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/regeneratorRuntime.js ***!
  \*******************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("var _typeof = (__webpack_require__(/*! ./typeof.js */ \"./node_modules/@babel/runtime/helpers/typeof.js\")[\"default\"]);\nfunction _regeneratorRuntime() {\n  \"use strict\";\n\n  /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n  module.exports = _regeneratorRuntime = function _regeneratorRuntime() {\n    return exports;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  var exports = {},\n    Op = Object.prototype,\n    hasOwn = Op.hasOwnProperty,\n    defineProperty = Object.defineProperty || function (obj, key, desc) {\n      obj[key] = desc.value;\n    },\n    $Symbol = \"function\" == typeof Symbol ? Symbol : {},\n    iteratorSymbol = $Symbol.iterator || \"@@iterator\",\n    asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\",\n    toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), obj[key];\n  }\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function define(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator,\n      generator = Object.create(protoGenerator.prototype),\n      context = new Context(tryLocsList || []);\n    return defineProperty(generator, \"_invoke\", {\n      value: makeInvokeMethod(innerFn, self, context)\n    }), generator;\n  }\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf,\n    NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      define(prototype, method, function (arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (\"throw\" !== record.type) {\n        var result = record.arg,\n          value = result.value;\n        return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function (err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function (unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function (error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n      reject(record.arg);\n    }\n    var previousPromise;\n    defineProperty(this, \"_invoke\", {\n      value: function value(method, arg) {\n        function callInvokeWithMethodAndArg() {\n          return new PromiseImpl(function (resolve, reject) {\n            invoke(method, arg, resolve, reject);\n          });\n        }\n        return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = \"suspendedStart\";\n    return function (method, arg) {\n      if (\"executing\" === state) throw new Error(\"Generator is already running\");\n      if (\"completed\" === state) {\n        if (\"throw\" === method) throw arg;\n        return doneResult();\n      }\n      for (context.method = method, context.arg = arg;;) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n        if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) {\n          if (\"suspendedStart\" === state) throw state = \"completed\", context.arg;\n          context.dispatchException(context.arg);\n        } else \"return\" === context.method && context.abrupt(\"return\", context.arg);\n        state = \"executing\";\n        var record = tryCatch(innerFn, self, context);\n        if (\"normal\" === record.type) {\n          if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue;\n          return {\n            value: record.arg,\n            done: context.done\n          };\n        }\n        \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(delegate, context) {\n    var methodName = context.method,\n      method = delegate.iterator[methodName];\n    if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel;\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next) return iterable;\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n          next = function next() {\n            for (; ++i < iterable.length;) if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next;\n            return next.value = undefined, next.done = !0, next;\n          };\n        return next.next = next;\n      }\n    }\n    return {\n      next: doneResult\n    };\n  }\n  function doneResult() {\n    return {\n      value: undefined,\n      done: !0\n    };\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: !0\n  }), defineProperty(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: !0\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function (genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () {\n    return this;\n  }), define(Gp, \"toString\", function () {\n    return \"[object Generator]\";\n  }), exports.keys = function (val) {\n    var object = Object(val),\n      keys = [];\n    for (var key in object) keys.push(key);\n    return keys.reverse(), function next() {\n      for (; keys.length;) {\n        var key = keys.pop();\n        if (key in object) return next.value = key, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined);\n    },\n    stop: function stop() {\n      this.done = !0;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type) throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(exception) {\n      if (this.done) throw exception;\n      var context = this;\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught;\n      }\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i],\n          record = entry.completion;\n        if (\"root\" === entry.tryLoc) return handle(\"end\");\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"),\n            hasFinally = hasOwn.call(entry, \"finallyLoc\");\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n          } else {\n            if (!hasFinally) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function complete(record, afterLoc) {\n      if (\"throw\" === record.type) throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function finish(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    \"catch\": function _catch(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel;\n    }\n  }, exports;\n}\nmodule.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n\n//# sourceURL=webpack://acode-plugin-acodex/./node_modules/@babel/runtime/helpers/regeneratorRuntime.js?");

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/typeof.js":
/*!*******************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/typeof.js ***!
  \*******************************************************/
/***/ (function(module) {

eval("function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(obj);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n\n//# sourceURL=webpack://acode-plugin-acodex/./node_modules/@babel/runtime/helpers/typeof.js?");

/***/ }),

/***/ "./node_modules/@babel/runtime/regenerator/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/@babel/runtime/regenerator/index.js ***!
  \**********************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n// TODO(Babel 8): Remove this file.\n\nvar runtime = __webpack_require__(/*! ../helpers/regeneratorRuntime */ \"./node_modules/@babel/runtime/helpers/regeneratorRuntime.js\")();\nmodule.exports = runtime;\n\n// Copied from https://github.com/facebook/regenerator/blob/main/packages/runtime/runtime.js#L736=\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  if ((typeof globalThis === \"undefined\" ? \"undefined\" : _typeof(globalThis)) === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n\n//# sourceURL=webpack://acode-plugin-acodex/./node_modules/@babel/runtime/regenerator/index.js?");

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js ***!
  \*********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ _asyncToGenerator; }\n/* harmony export */ });\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}\n\n//# sourceURL=webpack://acode-plugin-acodex/./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js?");

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/esm/classCallCheck.js ***!
  \*******************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ _classCallCheck; }\n/* harmony export */ });\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\n//# sourceURL=webpack://acode-plugin-acodex/./node_modules/@babel/runtime/helpers/esm/classCallCheck.js?");

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/esm/createClass.js":
/*!****************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/esm/createClass.js ***!
  \****************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ _createClass; }\n/* harmony export */ });\n/* harmony import */ var _toPropertyKey_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./toPropertyKey.js */ \"./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js\");\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, (0,_toPropertyKey_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\n\n//# sourceURL=webpack://acode-plugin-acodex/./node_modules/@babel/runtime/helpers/esm/createClass.js?");

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/esm/defineProperty.js ***!
  \*******************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ _defineProperty; }\n/* harmony export */ });\n/* harmony import */ var _toPropertyKey_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./toPropertyKey.js */ \"./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js\");\n\nfunction _defineProperty(obj, key, value) {\n  key = (0,_toPropertyKey_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\n\n//# sourceURL=webpack://acode-plugin-acodex/./node_modules/@babel/runtime/helpers/esm/defineProperty.js?");

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/esm/toPrimitive.js":
/*!****************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/esm/toPrimitive.js ***!
  \****************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ _toPrimitive; }\n/* harmony export */ });\n/* harmony import */ var _typeof_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./typeof.js */ \"./node_modules/@babel/runtime/helpers/esm/typeof.js\");\n\nfunction _toPrimitive(input, hint) {\n  if ((0,_typeof_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if ((0,_typeof_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\n\n//# sourceURL=webpack://acode-plugin-acodex/./node_modules/@babel/runtime/helpers/esm/toPrimitive.js?");

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js":
/*!******************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js ***!
  \******************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ _toPropertyKey; }\n/* harmony export */ });\n/* harmony import */ var _typeof_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./typeof.js */ \"./node_modules/@babel/runtime/helpers/esm/typeof.js\");\n/* harmony import */ var _toPrimitive_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./toPrimitive.js */ \"./node_modules/@babel/runtime/helpers/esm/toPrimitive.js\");\n\n\nfunction _toPropertyKey(arg) {\n  var key = (0,_toPrimitive_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(arg, \"string\");\n  return (0,_typeof_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(key) === \"symbol\" ? key : String(key);\n}\n\n//# sourceURL=webpack://acode-plugin-acodex/./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js?");

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/esm/typeof.js":
/*!***********************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/esm/typeof.js ***!
  \***********************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ _typeof; }\n/* harmony export */ });\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\n\n//# sourceURL=webpack://acode-plugin-acodex/./node_modules/@babel/runtime/helpers/esm/typeof.js?");

/***/ }),

/***/ "./plugin.json":
/*!*********************!*\
  !*** ./plugin.json ***!
  \*********************/
/***/ (function(module) {

"use strict";
eval("module.exports = JSON.parse('{\"id\":\"bajrangcoder.acodex\",\"name\":\"AcodeX\",\"main\":\"dist/main.js\",\"version\":\"1.0.4\",\"readme\":\"readme.md\",\"icon\":\"icon.png\",\"files\":[\"xterm.css\"],\"author\":{\"name\":\"Raunak Raj\",\"email\":\"bajrangcoders@gmail.com\",\"github\":\"bajrangCoder\"}}');\n\n//# sourceURL=webpack://acode-plugin-acodex/./plugin.json?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			loaded: false,
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	!function() {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = function(module) {
/******/ 			var getter = module && module.__esModule ?
/******/ 				function() { return module['default']; } :
/******/ 				function() { return module; };
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	!function() {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = function(exports, definition) {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	!function() {
/******/ 		__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	!function() {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = function(exports) {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/node module decorator */
/******/ 	!function() {
/******/ 		__webpack_require__.nmd = function(module) {
/******/ 			module.paths = [];
/******/ 			if (!module.children) module.children = [];
/******/ 			return module;
/******/ 		};
/******/ 	}();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/main.js");
/******/ 	
/******/ })()
;